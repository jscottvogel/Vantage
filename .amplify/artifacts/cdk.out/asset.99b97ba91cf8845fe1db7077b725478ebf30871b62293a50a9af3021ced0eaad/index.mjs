/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var s4=Object.create;var Yu=Object.defineProperty;var i4=Object.getOwnPropertyDescriptor;var a4=Object.getOwnPropertyNames;var c4=Object.getPrototypeOf,u4=Object.prototype.hasOwnProperty;var ne=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var I=(e,t)=>()=>(e&&(t=e(e=0)),t);var $=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Je=(e,t)=>{for(var r in t)Yu(e,r,{get:t[r],enumerable:!0})},Bx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of a4(t))!u4.call(e,o)&&o!==r&&Yu(e,o,{get:()=>t[o],enumerable:!(n=i4(t,o))||n.enumerable});return e};var N=(e,t,r)=>(r=e!=null?s4(c4(e)):{},Bx(t||!e||!e.__esModule?Yu(r,"default",{value:e,enumerable:!0}):r,e)),ue=e=>Bx(Yu({},"__esModule",{value:!0}),e);import{createRequire as l4}from"node:module";import d4 from"node:path";import f4 from"node:url";var d=I(()=>{global.require=l4(import.meta.url);global.__filename=f4.fileURLToPath(import.meta.url);global.__dirname=d4.dirname(__filename)});var Zn=$($e=>{"use strict";d();$e.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})($e.HttpAuthLocation||($e.HttpAuthLocation={}));$e.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})($e.HttpApiKeyAuthLocation||($e.HttpApiKeyAuthLocation={}));$e.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})($e.EndpointURLScheme||($e.EndpointURLScheme={}));$e.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})($e.AlgorithmId||($e.AlgorithmId={}));var p4=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>$e.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>$e.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},m4=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},h4=e=>p4(e),g4=e=>m4(e);$e.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})($e.FieldPosition||($e.FieldPosition={}));var y4="__smithy_context";$e.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})($e.IniSectionType||($e.IniSectionType={}));$e.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})($e.RequestHandlerProtocol||($e.RequestHandlerProtocol={}));$e.SMITHY_CONTEXT_KEY=y4;$e.getDefaultClientConfiguration=h4;$e.resolveDefaultRuntimeConfig=g4});var mt=$(ny=>{"use strict";d();var Fx=Zn(),S4=e=>e[Fx.SMITHY_CONTEXT_KEY]||(e[Fx.SMITHY_CONTEXT_KEY]={}),E4=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};ny.getSmithyContext=S4;ny.normalizeProvider=E4});function Xs(e){return Hx.includes(e)}var Ra,Hx,Xu=I(()=>{d();Ra="preferred",Hx=["disabled","preferred","required"]});var jx,b4,qx=I(()=>{d();jx=N(mt());Xu();b4=e=>{let{accountIdEndpointMode:t}=e,r=(0,jx.normalizeProvider)(t??Ra);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!Xs(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var zx,Gx,Vx,Wx,T4,Kx=I(()=>{d();Xu();zx="Invalid AccountIdEndpointMode value",Gx=e=>{throw new Error(e)},Vx="AWS_ACCOUNT_ID_ENDPOINT_MODE",Wx="account_id_endpoint_mode",T4={environmentVariableSelector:e=>{let t=e[Vx];return t&&!Xs(t)&&Gx(zx),t},configFileSelector:e=>{let t=e[Wx];return t&&!Xs(t)&&Gx(zx),t},default:Ra}});var oy={};Je(oy,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>Hx,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>Wx,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>Ra,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>Vx,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>T4,resolveAccountIdEndpointModeConfig:()=>b4,validateAccountIdEndpointMode:()=>Xs});var sy=I(()=>{d();qx();Xu();Kx()});var Yx=$(ke=>{"use strict";d();ke.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ke.HttpAuthLocation||(ke.HttpAuthLocation={}));ke.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ke.HttpApiKeyAuthLocation||(ke.HttpApiKeyAuthLocation={}));ke.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(ke.EndpointURLScheme||(ke.EndpointURLScheme={}));ke.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(ke.AlgorithmId||(ke.AlgorithmId={}));var w4=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>ke.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>ke.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},_4=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},x4=e=>w4(e),I4=e=>_4(e);ke.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(ke.FieldPosition||(ke.FieldPosition={}));var C4="__smithy_context";ke.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(ke.IniSectionType||(ke.IniSectionType={}));ke.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(ke.RequestHandlerProtocol||(ke.RequestHandlerProtocol={}));ke.SMITHY_CONTEXT_KEY=C4;ke.getDefaultClientConfiguration=x4;ke.resolveDefaultRuntimeConfig=I4});var Xx=$(eo=>{"use strict";d();var A4=Yx(),R4=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),v4=e=>({httpHandler:e.httpHandler()}),iy=class{name;kind;values;constructor({name:t,kind:r=A4.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},ay=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},cy=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=P4(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function P4(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var uy=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function N4(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}eo.Field=iy;eo.Fields=ay;eo.HttpRequest=cy;eo.HttpResponse=uy;eo.getHttpHandlerExtensionConfiguration=R4;eo.isValidHostname=N4;eo.resolveHttpHandlerRuntimeConfig=v4});var Jx=$((yhe,Qx)=>{d();function pn(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}pn.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(pn.prototype[Symbol.iterator]=function(){return this});pn.of=function(){var e=arguments,t=e.length,r=0;return new pn(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};pn.empty=function(){var e=new pn(null);return e.done=!0,e};pn.is=function(e){return e instanceof pn?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};Qx.exports=pn});var ly=$((Ehe,rI)=>{d();var Zx=typeof ArrayBuffer<"u",eI=typeof Symbol<"u";function tI(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||Zx&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(eI&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}tI.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||Zx&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(eI&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};rI.exports=tI});var dy=$(Mr=>{d();var D4=Math.pow(2,8)-1,O4=Math.pow(2,16)-1,$4=Math.pow(2,32)-1,k4=Math.pow(2,7)-1,L4=Math.pow(2,15)-1,M4=Math.pow(2,31)-1;Mr.getPointerArray=function(e){var t=e-1;return t<=D4?Uint8Array:t<=O4?Uint16Array:t<=$4?Uint32Array:Float64Array};Mr.getSignedPointerArray=function(e){var t=e-1;return t<=k4?Int8Array:t<=L4?Int16Array:t<=M4?Int32Array:Float64Array};Mr.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var U4={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Mr.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,a,c;for(a=0,c=e.length;a<c;a++)i=t?t(e[a]):e[a],s=Mr.getNumberType(i),o=U4[s.name],o>n&&(n=o,r=s);return r};Mr.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};Mr.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};Mr.indices=function(e){for(var t=Mr.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var sI=$(va=>{d();var nI=ly(),oI=dy();function B4(e){return Array.isArray(e)||oI.isTypedArray(e)}function fy(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function F4(e){var t=fy(e),r=typeof t=="number"?new Array(t):[],n=0;return nI(e,function(o){r[n++]=o}),r}function H4(e){var t=fy(e),r=typeof t=="number"?oI.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return nI(e,function(i){n[s]=i,o[s]=s++}),[n,o]}va.isArrayLike=B4;va.guessLength=fy;va.toArray=F4;va.toArrayWithIndices=H4});var aI=$((Ihe,iI)=>{d();var py=Jx(),j4=ly(),q4=dy(),z4=sI();function Ze(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=q4.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Ze.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Ze.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Ze.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Ze.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};Ze.prototype.has=function(e){return e in this.items};Ze.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Ze.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Ze.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[o],s[o],this),o=a[o],r++};Ze.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new py(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Ze.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new py(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Ze.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new py(function(){if(e>=t)return{done:!0};var i=n[r],a=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Ze.prototype[Symbol.iterator]=Ze.prototype.entries);Ze.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Ze,enumerable:!1}),e};typeof Symbol<"u"&&(Ze.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ze.prototype.inspect);Ze.from=function(e,t,r,n){if(arguments.length<2){if(n=z4.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new Ze(t,r,n);return j4(e,function(s,i){o.set(i,s)}),o};iI.exports=Ze});var uI=$(cI=>{"use strict";d();var G4=aI(),my=class{cache;constructor(t){this.cache=new G4(t)}getEndpoint(t){let r=this.get(t);if(!r||r.length===0)return;let n=r.map(o=>o.Address);return n[Math.floor(Math.random()*n.length)]}get(t){if(!this.has(t))return;let r=this.cache.get(t);if(!r)return;let n=Date.now(),o=r.filter(s=>n<s.Expires);if(o.length===0){this.delete(t);return}return o}set(t,r){let n=Date.now();this.cache.set(t,r.map(({Address:o,CachePeriodInMinutes:s})=>({Address:o,Expires:n+s*60*1e3})))}delete(t){this.cache.set(t,[])}has(t){if(!this.cache.has(t))return!1;let r=this.cache.peek(t);return r?r.length>0:!1}clear(){this.cache.clear()}};cI.EndpointCache=my});var yy=$(is=>{"use strict";d();var V4=Xx(),W4=uI(),lI=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],hy="endpoint_discovery_enabled",dI=e=>["false","0"].indexOf(e)>=0,K4={environmentVariableSelector:e=>{for(let t=0;t<lI.length;t++){let r=lI[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!dI(n)}}},configFileSelector:e=>{if(hy in e){let t=e[hy];if(t===void 0)throw Error(`Shared config entry ${hy} can't be undefined, got "${t}"`);return!dI(t)}},default:void 0},Y4=async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,a])=>({...s,[i]:a}),{})}})},mn={},fI=async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:a}=t,c=o.get(s);if(c&&c.length===1&&c[0].Address==="")t.isDiscoveredEndpointRequired?(mn[s]||(mn[s]=[]),mn[s].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let f=[{Address:"",CachePeriodInMinutes:1}];o.set(s,f);let m=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});m.resolveMiddleware(t.clientStack,e,t.options)(m).then(E=>{o.set(s,E.output.Endpoints),mn[s]&&(mn[s].forEach(({resolve:y})=>{y()}),delete mn[s]),r()}).catch(E=>{o.delete(s);let y=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:E});mn[s]&&(mn[s].forEach(({reject:w})=>{w(y)}),delete mn[s]),t.isDiscoveredEndpointRequired?n(y):(o.set(s,f),r())})}}),gy=(e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,c=n.clientName,f=n.commandName,m=await e.endpointDiscoveryEnabled(),p=await Y4(f,e,{identifiers:a});if(i){if(m===!1)throw new Error(`Endpoint Discovery is disabled but ${f} on ${c} requires it. Please check your configurations.`);await fI(e,{...t,commandName:f,cacheKey:p,endpointDiscoveryCommandCtor:s})}else m&&fI(e,{...t,commandName:f,cacheKey:p,endpointDiscoveryCommandCtor:s});let{request:E}=o;if(p&&V4.HttpRequest.isInstance(E)){let y=e.endpointCache.getEndpoint(p);y&&(E.hostname=y)}return r(o)},Qu={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},X4=(e,t)=>({applyToStack:r=>{r.add(gy(e,t),Qu)}}),Q4=(e,t)=>({applyToStack:r=>{r.add(gy(e,{...t,isDiscoveredEndpointRequired:!0}),Qu)}}),J4=(e,t)=>({applyToStack:r=>{r.add(gy(e,{...t,isDiscoveredEndpointRequired:!1}),Qu)}}),Z4=(e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new W4.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})};is.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS=K4;is.endpointDiscoveryMiddlewareOptions=Qu;is.getEndpointDiscoveryOptionalPlugin=J4;is.getEndpointDiscoveryPlugin=X4;is.getEndpointDiscoveryRequiredPlugin=Q4;is.resolveEndpointDiscoveryConfig=Z4});var Ne=$(to=>{"use strict";d();var eW=Zn(),tW=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),rW=e=>({httpHandler:e.httpHandler()}),Sy=class{name;kind;values;constructor({name:t,kind:r=eW.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Ey=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},by=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=nW(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function nW(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var Ty=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function oW(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}to.Field=Sy;to.Fields=Ey;to.HttpRequest=by;to.HttpResponse=Ty;to.getHttpHandlerExtensionConfiguration=tW;to.isValidHostname=oW;to.resolveHttpHandlerRuntimeConfig=rW});var Qs=$(Pa=>{"use strict";d();var sW=Ne();function iW(e){return e}var pI=e=>t=>async r=>{if(!sW.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},mI={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},aW=e=>({applyToStack:t=>{t.add(pI(e),mI)}});Pa.getHostHeaderPlugin=aW;Pa.hostHeaderMiddleware=pI;Pa.hostHeaderMiddlewareOptions=mI;Pa.resolveHostHeaderConfig=iW});var Js=$(Ju=>{"use strict";d();var hI=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:f}=a,m=c??t.inputFilterSensitiveLog,p=f??t.outputFilterSensitiveLog,{$metadata:E,...y}=n.output;return i?.info?.({clientName:o,commandName:s,input:m(r.input),output:p(y),metadata:E}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,f=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:f(r.input),error:n,metadata:n.$metadata}),n}},gI={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},cW=e=>({applyToStack:t=>{t.add(hI(),gI)}});Ju.getLoggerPlugin=cW;Ju.loggerMiddleware=hI;Ju.loggerMiddlewareOptions=gI});var yI={};Je(yI,{InvokeStore:()=>Iy,InvokeStoreBase:()=>Da});var Na,wy,Da,_y,xy,Iy,SI=I(()=>{d();Na={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},wy=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");wy||(globalThis.awslambda=globalThis.awslambda||{});Da=class{static PROTECTED_KEYS=Na;isProtectedKey(t){return Object.values(Na).includes(t)}getRequestId(){return this.get(Na.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(Na.X_RAY_TRACE_ID)}getTenantId(){return this.get(Na.TENANT_ID)}},_y=class extends Da{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){return this.currentContext?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},xy=class e extends Da{als;static async create(){let t=new e,r=await import("node:async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){return this.als.getStore()?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{let o="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await xy.create():new _y;return!wy&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!wy&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=o),o)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{t=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0})(Iy||(Iy={}))});var EI=$(Zu=>{"use strict";d();Object.defineProperty(Zu,"__esModule",{value:!0});Zu.recursionDetectionMiddleware=void 0;var uW=(SI(),ue(yI)),lW=Ne(),Cy="X-Amzn-Trace-Id",dW="AWS_LAMBDA_FUNCTION_NAME",fW="_X_AMZN_TRACE_ID",pW=()=>e=>async t=>{let{request:r}=t;if(!lW.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(m=>m.toLowerCase()===Cy.toLowerCase())??Cy;if(r.headers.hasOwnProperty(n))return e(t);let o=process.env[dW],s=process.env[fW],c=(await uW.InvokeStore.getInstanceAsync())?.getXRayTraceId()??s,f=m=>typeof m=="string"&&m.length>0;return f(o)&&f(c)&&(r.headers[Cy]=c),e({...t,request:r})};Zu.recursionDetectionMiddleware=pW});var Zs=$(el=>{"use strict";d();var Ay=EI(),mW={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},hW=e=>({applyToStack:t=>{t.add(Ay.recursionDetectionMiddleware(),mW)}});el.getRecursionDetectionPlugin=hW;Object.keys(Ay).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(el,e)&&Object.defineProperty(el,e,{enumerable:!0,get:function(){return Ay[e]}})})});var Ry,gW,bI=I(()=>{d();Ry=N(Zn()),gW=e=>e[Ry.SMITHY_CONTEXT_KEY]||(e[Ry.SMITHY_CONTEXT_KEY]={})});var TI,wI=I(()=>{d();TI=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function yW(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var _I,Oa,tl=I(()=>{d();_I=N(mt());wI();Oa=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=TI(s,i),c=yW(e.httpAuthSchemes),f=(0,_I.getSmithyContext)(n),m=[];for(let p of a){let E=c.get(p.schemeId);if(!E){m.push(`HttpAuthScheme \`${p.schemeId}\` was not enabled for this service.`);continue}let y=E.identityProvider(await t.identityProviderConfigProvider(e));if(!y){m.push(`HttpAuthScheme \`${p.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:w={},signingProperties:C={}}=p.propertiesExtractor?.(e,n)||{};p.identityProperties=Object.assign(p.identityProperties||{},w),p.signingProperties=Object.assign(p.signingProperties||{},C),f.selectedHttpAuthScheme={httpAuthOption:p,identity:await y(p.identityProperties),signer:E.signer};break}if(!f.selectedHttpAuthScheme)throw new Error(m.join(`
`));return r(o)}});var xI,as,II=I(()=>{d();tl();xI={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},as=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Oa(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),xI)}})});var Py=$(ei=>{"use strict";d();var SW=Ne(),CI=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(SW.HttpResponse.isInstance(s)){let{headers:c={}}=s,f=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:vy(/^x-[\w-]+-request-?id$/,f),extendedRequestId:vy(/^x-[\w-]+-id-2$/,f),cfId:vy(/^x-[\w-]+-cf-id$/,f)}}}catch{}}throw i}},vy=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],AI=(e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},RI={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},vI={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function EW(e,t,r){return{applyToStack:n=>{n.add(CI(e,r),RI),n.add(AI(e,t),vI)}}}ei.deserializerMiddleware=CI;ei.deserializerMiddlewareOption=RI;ei.getSerdePlugin=EW;ei.serializerMiddleware=AI;ei.serializerMiddlewareOption=vI});var PI,NI,bW,DI=I(()=>{d();PI=N(Py());tl();NI={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:PI.serializerMiddlewareOption.name},bW=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Oa(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),NI)}})});var OI=I(()=>{d();tl();II();DI()});var $I,kI,TW,wW,Ny,Dy=I(()=>{d();$I=N(Ne()),kI=N(mt()),TW=e=>t=>{throw t},wW=(e,t)=>{},Ny=e=>(t,r)=>async n=>{if(!$I.HttpRequest.isInstance(n.request))return t(n);let s=(0,kI.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,f=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||TW)(i));return(c.successHandler||wW)(f.response,i),f}});var LI,cs,MI=I(()=>{d();Dy();LI={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},cs=e=>({applyToStack:t=>{t.addRelativeTo(Ny(e),LI)}})});var UI=I(()=>{d();Dy();MI()});var ro,BI=I(()=>{d();ro=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function FI(e,t,r,n,o){return async function*(i,a,...c){let f=a,m=i.startingToken??f[r],p=!0,E;for(;p;){if(f[r]=m,o&&(f[o]=f[o]??i.pageSize),i.client instanceof e)E=await _W(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield E;let y=m;m=xW(E,n),p=!!(m&&(!i.stopOnSameToken||m!==y))}return void 0}}var _W,xW,HI=I(()=>{d();_W=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};xW=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var Oy=$(jI=>{"use strict";d();var IW=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";jI.isArrayBuffer=IW});var ti=$(ky=>{"use strict";d();var CW=Oy(),$y=ne("buffer"),AW=(e,t=0,r=e.byteLength-t)=>{if(!CW.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return $y.Buffer.from(e,t,r)},RW=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?$y.Buffer.from(e,t):$y.Buffer.from(e)};ky.fromArrayBuffer=AW;ky.fromString=RW});var qI=$(rl=>{"use strict";d();Object.defineProperty(rl,"__esModule",{value:!0});rl.fromBase64=void 0;var vW=ti(),PW=/^[A-Za-z0-9+/]*={0,2}$/,NW=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!PW.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,vW.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};rl.fromBase64=NW});var nt=$(nl=>{"use strict";d();var zI=ti(),GI=e=>{let t=zI.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},DW=e=>typeof e=="string"?GI(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),OW=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return zI.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};nl.fromUtf8=GI;nl.toUint8Array=DW;nl.toUtf8=OW});var VI=$(ol=>{"use strict";d();Object.defineProperty(ol,"__esModule",{value:!0});ol.toBase64=void 0;var $W=ti(),kW=nt(),LW=e=>{let t;if(typeof e=="string"?t=(0,kW.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,$W.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ol.toBase64=LW});var ot=$($a=>{"use strict";d();var WI=qI(),KI=VI();Object.keys(WI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call($a,e)&&Object.defineProperty($a,e,{enumerable:!0,get:function(){return WI[e]}})});Object.keys(KI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call($a,e)&&Object.defineProperty($a,e,{enumerable:!0,get:function(){return KI[e]}})})});var My=$(sl=>{"use strict";d();Object.defineProperty(sl,"__esModule",{value:!0});sl.ChecksumStream=void 0;var MW=ot(),UW=ne("stream"),Ly=class extends UW.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=s??MW.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};sl.ChecksumStream=Ly});var no=$(ri=>{"use strict";d();Object.defineProperty(ri,"__esModule",{value:!0});ri.isBlob=ri.isReadableStream=void 0;var BW=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);ri.isReadableStream=BW;var FW=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);ri.isBlob=FW});var YI=$(il=>{"use strict";d();Object.defineProperty(il,"__esModule",{value:!0});il.ChecksumStream=void 0;var HW=typeof ReadableStream=="function"?ReadableStream:function(){},Uy=class extends HW{};il.ChecksumStream=Uy});var XI=$(al=>{"use strict";d();Object.defineProperty(al,"__esModule",{value:!0});al.createChecksumStream=void 0;var jW=ot(),qW=no(),zW=YI(),GW=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{if(!(0,qW.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=o??jW.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,f){t.update(c),f.enqueue(c)},async flush(c){let f=await t.digest(),m=s(f);if(e!==m){let p=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);c.error(p)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,zW.ChecksumStream.prototype),a};al.createChecksumStream=GW});var QI=$(By=>{"use strict";d();Object.defineProperty(By,"__esModule",{value:!0});By.createChecksumStream=YW;var VW=no(),WW=My(),KW=XI();function YW(e){return typeof ReadableStream=="function"&&(0,VW.isReadableStream)(e.source)?(0,KW.createChecksumStream)(e):new WW.ChecksumStream(e)}});var Hy=$(cl=>{"use strict";d();Object.defineProperty(cl,"__esModule",{value:!0});cl.ByteArrayCollector=void 0;var Fy=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};cl.ByteArrayCollector=Fy});var tC=$(hn=>{"use strict";d();Object.defineProperty(hn,"__esModule",{value:!0});hn.createBufferedReadable=void 0;hn.createBufferedReadableStream=JI;hn.merge=ZI;hn.flush=ul;hn.sizeOf=ni;hn.modeOf=eC;var XW=Hy();function JI(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new XW.ByteArrayCollector(f=>new Uint8Array(f))],a=-1,c=async f=>{let{value:m,done:p}=await n.read(),E=m;if(p){if(a!==-1){let y=ul(i,a);ni(y)>0&&f.enqueue(y)}f.close()}else{let y=eC(E,!1);if(a!==y&&(a>=0&&f.enqueue(ul(i,a)),a=y),a===-1){f.enqueue(E);return}let w=ni(E);s+=w;let C=ni(i[a]);if(w>=t&&C===0)f.enqueue(E);else{let A=ZI(i,a,E);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${w} is below threshold of ${t}, automatically buffering.`)),A>=t?f.enqueue(ul(i,a)):await c(f)}}};return new ReadableStream({pull:c})}hn.createBufferedReadable=JI;function ZI(e,t,r){switch(t){case 0:return e[0]+=r,ni(e[0]);case 1:case 2:return e[t].push(r),ni(e[t])}}function ul(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function ni(e){return e?.byteLength??e?.length??0}function eC(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var nC=$(jy=>{"use strict";d();Object.defineProperty(jy,"__esModule",{value:!0});jy.createBufferedReadable=ZW;var QW=ne("node:stream"),rC=Hy(),gn=tC(),JW=no();function ZW(e,t,r){if((0,JW.isReadableStream)(e))return(0,gn.createBufferedReadableStream)(e,t,r);let n=new QW.Readable({read(){}}),o=!1,s=0,i=["",new rC.ByteArrayCollector(c=>new Uint8Array(c)),new rC.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let f=(0,gn.modeOf)(c,!0);if(a!==f&&(a>=0&&n.push((0,gn.flush)(i,a)),a=f),a===-1){n.push(c);return}let m=(0,gn.sizeOf)(c);s+=m;let p=(0,gn.sizeOf)(i[a]);if(m>=t&&p===0)n.push(c);else{let E=(0,gn.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${t}, automatically buffering.`)),E>=t&&n.push((0,gn.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,gn.flush)(i,a);(0,gn.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var oC=$(ll=>{"use strict";d();Object.defineProperty(ll,"__esModule",{value:!0});ll.getAwsChunkedEncodingStream=void 0;var e6=ne("stream"),t6=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,f=new e6.Readable({read:()=>{}});return e.on("data",m=>{let p=n(m)||0;f.push(`${p.toString(16)}\r
`),f.push(m),f.push(`\r
`)}),e.on("end",async()=>{if(f.push(`0\r
`),a){let m=r(await c);f.push(`${s}:${m}\r
`),f.push(`\r
`)}f.push(null)}),f};ll.getAwsChunkedEncodingStream=t6});var sC=$(qy=>{"use strict";d();Object.defineProperty(qy,"__esModule",{value:!0});qy.headStream=r6;async function r6(e,t){let r=0,n=[],o=e.getReader(),s=!1;for(;!s;){let{done:c,value:f}=await o.read();if(f&&(n.push(f),r+=f?.byteLength??0),r>=t)break;s=c}o.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var iC=$(dl=>{"use strict";d();Object.defineProperty(dl,"__esModule",{value:!0});dl.headStream=void 0;var n6=ne("stream"),o6=sC(),s6=no(),i6=(e,t)=>(0,s6.isReadableStream)(e)?(0,o6.headStream)(e,t):new Promise((r,n)=>{let o=new zy;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});dl.headStream=i6;var zy=class extends n6.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var Vy=$(Gy=>{"use strict";d();var aC=e=>encodeURIComponent(e).replace(/[!'()*]/g,a6),a6=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,c6=e=>e.split("/").map(aC).join("/");Gy.escapeUri=aC;Gy.escapeUriPath=c6});var Ky=$(cC=>{"use strict";d();var Wy=Vy();function u6(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=Wy.escapeUri(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${Wy.escapeUri(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${Wy.escapeUri(n)}`),t.push(o)}}return t.join("&")}cC.buildQueryString=u6});var oo=$(ka=>{"use strict";d();var fC=Ne(),pC=Ky(),fl=ne("http"),pl=ne("https"),mC=ne("stream"),Yy=ne("http2"),l6=["ECONNRESET","EPIPE","ETIMEDOUT"],hC=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},Rt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},uC=1e3,d6=(e,t,r=0)=>{if(!r)return-1;let n=o=>{let s=Rt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-o),i=a=>{a?.connecting?a.on("connect",()=>{Rt.clearTimeout(s)}):Rt.clearTimeout(s)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):Rt.setTimeout(n.bind(null,uC),uC)},f6=(e,t,r=0,n,o)=>r?Rt.setTimeout(()=>{let s=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(s)},r):-1,p6=3e3,m6=(e,{keepAlive:t,keepAliveMsecs:r},n=p6)=>{if(t!==!0)return-1;let o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})};return n===0?(o(),0):Rt.setTimeout(o,n)},lC=3e3,h6=(e,t,r=0)=>{let n=o=>{let s=r-o,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)};return 0<r&&r<6e3?(n(0),0):Rt.setTimeout(n.bind(null,r===0?0:lC),lC)},dC=6e3;async function gC(e,t,r=dC,n=!1){let o=t.headers??{},s=o.Expect||o.expect,i=-1,a=!0;!n&&s==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(Rt.setTimeout(()=>c(!0),Math.max(dC,r)))}),new Promise(c=>{e.on("continue",()=>{Rt.clearTimeout(i),c(!0)}),e.on("response",()=>{Rt.clearTimeout(i),c(!1)}),e.on("error",()=>{Rt.clearTimeout(i),c(!1)})})])),a&&g6(e,t.body)}function g6(e,t){if(t instanceof mC.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var y6=0,Xy=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let f=o[c]?.length??0,m=s[c]?.length??0;if(f>=i&&m>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${f} and ${m} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=t||{},f=!0,m=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:c,httpAgent:i instanceof fl.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new fl.Agent({keepAlive:f,maxSockets:m,...i}),httpsAgent:a instanceof pl.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new pl.Agent({keepAlive:f,maxSockets:m,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i=this.config,a,c=[],f=async F=>{await a,c.forEach(Rt.clearTimeout),o(F)},m=async F=>{await a,c.forEach(Rt.clearTimeout),s(F)};if(r?.aborted){let F=new Error("Request aborted");F.name="AbortError",m(F);return}let p=t.protocol==="https:",E=t.headers??{},y=(E.Expect??E.expect)==="100-continue",w=p?i.httpsAgent:i.httpAgent;y&&!this.externalAgent&&(w=new(p?pl.Agent:fl.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(Rt.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(w,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let C=pC.buildQueryString(t.query||{}),A;if(t.username!=null||t.password!=null){let F=t.username??"",z=t.password??"";A=`${F}:${z}`}let v=t.path;C&&(v+=`?${C}`),t.fragment&&(v+=`#${t.fragment}`);let D=t.hostname??"";D[0]==="["&&D.endsWith("]")?D=t.hostname.slice(1,-1):D=t.hostname;let k={headers:t.headers,host:D,method:t.method,path:v,port:t.port,agent:w,auth:A},B=(p?pl.request:fl.request)(k,F=>{let z=new fC.HttpResponse({statusCode:F.statusCode||-1,reason:F.statusMessage,headers:hC(F.headers),body:F});f({response:z})});if(B.on("error",F=>{l6.includes(F.code)?m(Object.assign(F,{name:"TimeoutError"})):m(F)}),r){let F=()=>{B.destroy();let z=new Error("Request aborted");z.name="AbortError",m(z)};if(typeof r.addEventListener=="function"){let z=r;z.addEventListener("abort",F,{once:!0}),B.once("close",()=>z.removeEventListener("abort",F))}else r.onabort=F}let j=n??i.requestTimeout;c.push(d6(B,m,i.connectionTimeout)),c.push(f6(B,m,j,i.throwOnRequestTimeout,i.logger??console)),c.push(h6(B,m,i.socketTimeout));let de=k.agent;typeof de=="object"&&"keepAlive"in de&&c.push(m6(B,{keepAlive:de.keepAlive,keepAliveMsecs:de.keepAliveMsecs})),a=gC(B,t,j,this.externalAgent).catch(F=>(c.forEach(Rt.clearTimeout),s(F)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Qy=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},Jy=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=Yy.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=()=>{s.destroy(),this.deleteSession(n,s)};s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new Qy;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},Zy=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new Jy({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let f=!1,m,p=async te=>{await m,a(te)},E=async te=>{await m,c(te)};if(r?.aborted){f=!0;let te=new Error("Request aborted");te.name="AbortError",E(te);return}let{hostname:y,method:w,port:C,protocol:A,query:v}=t,D="";if(t.username!=null||t.password!=null){let te=t.username??"",_e=t.password??"";D=`${te}:${_e}@`}let k=`${A}//${D}${y}${C?`:${C}`:""}`,M={destination:new URL(k)},B=this.connectionManager.lease(M,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),j=te=>{s&&this.destroySession(B),f=!0,E(te)},de=pC.buildQueryString(v||{}),F=t.path;de&&(F+=`?${de}`),t.fragment&&(F+=`#${t.fragment}`);let z=B.request({...t.headers,[Yy.constants.HTTP2_HEADER_PATH]:F,[Yy.constants.HTTP2_HEADER_METHOD]:w});if(B.ref(),z.on("response",te=>{let _e=new fC.HttpResponse({statusCode:te[":status"]||-1,headers:hC(te),body:z});f=!0,p({response:_e}),s&&(B.close(),this.connectionManager.deleteSession(k,B))}),i&&z.setTimeout(i,()=>{z.close();let te=new Error(`Stream timed out because of no activity for ${i} ms`);te.name="TimeoutError",j(te)}),r){let te=()=>{z.close();let _e=new Error("Request aborted");_e.name="AbortError",j(_e)};if(typeof r.addEventListener=="function"){let _e=r;_e.addEventListener("abort",te,{once:!0}),z.once("close",()=>_e.removeEventListener("abort",te))}else r.onabort=te}z.on("frameError",(te,_e,Ve)=>{j(new Error(`Frame type id ${te} in stream id ${Ve} has failed with code ${_e}.`))}),z.on("error",j),z.on("aborted",()=>{j(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${z.rstCode}.`))}),z.on("close",()=>{B.unref(),s&&B.destroy(),f||j(new Error("Unexpected error: http2 request did not get a response"))}),m=gC(z,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},eS=class extends mC.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},S6=e=>E6(e)?b6(e):new Promise((t,r)=>{let n=new eS;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),E6=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function b6(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ka.DEFAULT_REQUEST_TIMEOUT=y6;ka.NodeHttp2Handler=Zy;ka.NodeHttpHandler=Xy;ka.streamCollector=S6});var EC=$(hl=>{"use strict";d();var yC=Ne(),T6=Ky(),w6=ot();function SC(e,t){return new Request(e,t)}function _6(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var ml={supported:void 0},tS=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),ml.supported===void 0&&(ml.supported=typeof Request<"u"&&"keepalive"in SC("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let D=new Error("Request aborted");return D.name="AbortError",Promise.reject(D)}let a=t.path,c=T6.buildQueryString(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let f="";if(t.username!=null||t.password!=null){let D=t.username??"",k=t.password??"";f=`${D}:${k}@`}let{port:m,method:p}=t,E=`${t.protocol}//${f}${t.hostname}${m?`:${m}`:""}${a}`,y=p==="GET"||p==="HEAD"?void 0:t.body,w={body:y,headers:new Headers(t.headers),method:p,credentials:i};this.config?.cache&&(w.cache=this.config.cache),y&&(w.duplex="half"),typeof AbortController<"u"&&(w.signal=r),ml.supported&&(w.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(w,this.config.requestInit(t));let C=()=>{},A=SC(E,w),v=[fetch(A).then(D=>{let k=D.headers,M={};for(let j of k.entries())M[j[0]]=j[1];return D.body!=null?{response:new yC.HttpResponse({headers:M,reason:D.statusText,statusCode:D.status,body:D.body})}:D.blob().then(j=>({response:new yC.HttpResponse({headers:M,reason:D.statusText,statusCode:D.status,body:j})}))}),_6(o)];return r&&v.push(new Promise((D,k)=>{let M=()=>{let B=new Error("Request aborted");B.name="AbortError",k(B)};if(typeof r.addEventListener=="function"){let B=r;B.addEventListener("abort",M,{once:!0}),C=()=>B.removeEventListener("abort",M)}else r.onabort=M})),Promise.race(v).finally(C)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},x6=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):I6(e):C6(e);async function I6(e){let t=await A6(e),r=w6.fromBase64(t);return new Uint8Array(r)}async function C6(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}function A6(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}hl.FetchHttpHandler=tS;hl.keepAliveSupport=ml;hl.streamCollector=x6});var oS=$(nS=>{"use strict";d();var bC={},rS={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),bC[e]=t,rS[t]=e}function R6(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in rS)t[r/2]=rS[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function v6(e){let t="";for(let r=0;r<e.byteLength;r++)t+=bC[e[r]];return t}nS.fromHex=R6;nS.toHex=v6});var xC=$(gl=>{"use strict";d();Object.defineProperty(gl,"__esModule",{value:!0});gl.sdkStreamMixin=void 0;var P6=EC(),N6=ot(),D6=oS(),O6=nt(),TC=no(),wC="The stream has already been transformed.",$6=e=>{if(!_C(e)&&!(0,TC.isReadableStream)(e)){let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(wC);return t=!0,await(0,P6.streamCollector)(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let s=await r();if(o==="base64")return(0,N6.toBase64)(s);if(o==="hex")return(0,D6.toHex)(s);if(o===void 0||o==="utf8"||o==="utf-8")return(0,O6.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(wC);if(t=!0,_C(e))return n(e);if((0,TC.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};gl.sdkStreamMixin=$6;var _C=e=>typeof Blob=="function"&&e instanceof Blob});var CC=$(yl=>{"use strict";d();Object.defineProperty(yl,"__esModule",{value:!0});yl.sdkStreamMixin=void 0;var k6=oo(),L6=ti(),sS=ne("stream"),M6=xC(),IC="The stream has already been transformed.",U6=e=>{if(!(e instanceof sS.Readable))try{return(0,M6.sdkStreamMixin)(e)}catch{let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(IC);return t=!0,await(0,k6.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();return n===void 0||Buffer.isEncoding(n)?(0,L6.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(n):new TextDecoder(n).decode(o)},transformToWebStream:()=>{if(t)throw new Error(IC);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof sS.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,sS.Readable.toWeb(e)}})};yl.sdkStreamMixin=U6});var AC=$(iS=>{"use strict";d();Object.defineProperty(iS,"__esModule",{value:!0});iS.splitStream=B6;async function B6(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var PC=$(aS=>{"use strict";d();Object.defineProperty(aS,"__esModule",{value:!0});aS.splitStream=H6;var RC=ne("stream"),F6=AC(),vC=no();async function H6(e){if((0,vC.isReadableStream)(e)||(0,vC.isBlob)(e))return(0,F6.splitStream)(e);let t=new RC.PassThrough,r=new RC.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Sl=$(st=>{"use strict";d();var NC=ot(),DC=nt(),OC=My(),$C=QI(),kC=nC(),LC=oC(),MC=iC(),UC=CC(),BC=PC(),FC=no(),cS=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(NC.fromBase64(t)):e.mutate(DC.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?NC.toBase64(this):DC.toUtf8(this)}};st.Uint8ArrayBlobAdapter=cS;Object.keys(OC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return OC[e]}})});Object.keys($C).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return $C[e]}})});Object.keys(kC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return kC[e]}})});Object.keys(LC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return LC[e]}})});Object.keys(MC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return MC[e]}})});Object.keys(UC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return UC[e]}})});Object.keys(BC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return BC[e]}})});Object.keys(FC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return FC[e]}})})});var El,sr,bl=I(()=>{d();El=N(Sl()),sr=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return El.Uint8ArrayBlobAdapter.mutate(e);if(!e)return El.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return El.Uint8ArrayBlobAdapter.mutate(await r)}});function Ur(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Tl=I(()=>{d()});var br,uS=I(()=>{d();br=e=>typeof e=="function"?e():e});var La,wl=I(()=>{d();La=(e,t,r,n,o)=>({name:t,namespace:e,traits:r,input:n,output:o})});var HC,jC,qC,lS,zC=I(()=>{d();HC=N(Ne()),jC=N(mt());wl();qC=e=>(t,r)=>async n=>{let{response:o}=await t(n),{operationSchema:s}=(0,jC.getSmithyContext)(r),[,i,a,c,f,m]=s??[];try{let p=await e.protocol.deserializeResponse(La(i,a,c,f,m),{...e,...r},o);return{response:o,output:p}}catch(p){if(Object.defineProperty(p,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in p)){let E="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{p.message+=`
  `+E}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(E):r.logger?.warn?.(E)}typeof p.$responseBodyText<"u"&&p.$response&&(p.$response.body=p.$responseBodyText);try{if(HC.HttpResponse.isInstance(o)){let{headers:y={}}=o,w=Object.entries(y);p.$metadata={httpStatusCode:o.statusCode,requestId:lS(/^x-[\w-]+-request-?id$/,w),extendedRequestId:lS(/^x-[\w-]+-id-2$/,w),cfId:lS(/^x-[\w-]+-cf-id$/,w)}}}catch{}}throw p}},lS=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var GC,VC,WC=I(()=>{d();GC=N(mt());wl();VC=e=>(t,r)=>async n=>{let{operationSchema:o}=(0,GC.getSmithyContext)(r),[,s,i,a,c,f]=o??[],m=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,p=await e.protocol.serializeRequest(La(s,i,a,c,f),n.input,{...e,...r,endpoint:m});return t({...n,request:p})}});function us(e){return{applyToStack:t=>{t.add(VC(e),YC),t.add(qC(e),KC),e.protocol.setSerdeContext(e)}}}var KC,YC,XC=I(()=>{d();zC();WC();KC={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},YC={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ke,so=I(()=>{d();Ke=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var _l,j6,QC=I(()=>{d();so();_l=class e extends Ke{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},j6=(e,t,r,n)=>Ke.assign(new _l,{name:t,namespace:e,traits:r,valueSchema:n})});var xl,q6,JC=I(()=>{d();so();xl=class e extends Ke{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},q6=(e,t,r,n,o)=>Ke.assign(new xl,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:o})});var Il,z6,ZC=I(()=>{d();so();Il=class e extends Ke{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},z6=(e,t,r,n,o)=>Ke.assign(new Il,{name:t,namespace:e,traits:r,input:n,output:o})});var oi,G6,dS=I(()=>{d();so();oi=class e extends Ke{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},G6=(e,t,r,n,o)=>Ke.assign(new oi,{name:t,namespace:e,traits:r,memberNames:n,memberList:o})});var Cl,V6,eA=I(()=>{d();so();dS();Cl=class e extends oi{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},V6=(e,t,r,n,o,s)=>Ke.assign(new Cl,{name:t,namespace:e,traits:r,memberNames:n,memberList:o,ctor:null})});function Br(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var fS=I(()=>{d()});function Ma(e,t){if(e instanceof V)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=V;return new r(e,t)}var V,pS,tA,rA=I(()=>{d();uS();fS();V=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],o=t,s=t;for(this._isMemberSchema=!1;pS(o);)n.push(o[1]),o=o[0],s=br(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,Br(a))}}else this.memberTraits=0;if(s instanceof e){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=br(s),tA(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=br(t);if(r instanceof e)return r;if(pS(r)){let[n,o]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),Br(o)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=s=>(s&4)===4||!!s?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:o}=this;return t(r)||t(n)||t(o)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Br(this.memberTraits)}getOwnTraits(){return Br(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),o=t?15:n[4]??0;return Ma([o,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,o]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||o)?t[3+t[0]]:r?15:void 0;if(s!=null)return Ma([s,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),o=r[5][n];return Ma(pS(o)?o:[o,0],t)}if(this.isDocumentSchema())return Ma([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],Ma([t[5][r],0],t[4][r])]}};pS=e=>Array.isArray(e)&&e.length===2,tA=e=>Array.isArray(e)&&e.length>=5});var Ua,W6,K6,nA=I(()=>{d();so();Ua=class e extends Ke{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},W6=(e,t,r,n)=>Ke.assign(new Ua,{name:t,namespace:e,traits:n,schemaRef:r}),K6=(e,t,r,n)=>Ke.assign(new Ua,{name:t,namespace:e,traits:r,schemaRef:n})});var Y6,oA=I(()=>{d();Y6={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var oe,sA=I(()=>{d();oe=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,o=e.for(n[1]);o.schemas.set(n[1]+"#"+n[2],n),o.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,o=r+"#"+n;if(o.startsWith("smithy.ts.sdk.synthetic.")&&o.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var Al={};Je(Al,{ErrorSchema:()=>Cl,ListSchema:()=>_l,MapSchema:()=>xl,NormalizedSchema:()=>V,OperationSchema:()=>Il,SCHEMA:()=>Y6,Schema:()=>Ke,SimpleSchema:()=>Ua,StructureSchema:()=>oi,TypeRegistry:()=>oe,deref:()=>br,deserializerMiddlewareOption:()=>KC,error:()=>V6,getSchemaSerdePlugin:()=>us,isStaticSchema:()=>tA,list:()=>j6,map:()=>q6,op:()=>z6,operation:()=>La,serializerMiddlewareOption:()=>YC,sim:()=>W6,simAdapter:()=>K6,struct:()=>G6,translateTraits:()=>Br});var xe=I(()=>{d();uS();XC();QC();JC();ZC();wl();eA();rA();so();nA();dS();oA();fS();sA()});var X6,iA=I(()=>{d();X6=(e,t,r=n=>n)=>e});var Q6,J6,Ba,Z6,Rl,Fa,eK,mS,hS,gS,yS,tK,rK,aA,nK,oK,Pl,sK,SS,iK,si,ES,aK,cK,uK,cA,uA,lK,dK,ls,bS,vl,Ha,TS=I(()=>{d();Q6=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},J6=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ha.warn(vl(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Ha.warn(vl(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Ba=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ha.warn(vl(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Z6=Math.ceil(34028234663852886e22),Rl=e=>{let t=Ba(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>Z6)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Fa=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},eK=Fa,mS=e=>yS(e,32),hS=e=>yS(e,16),gS=e=>yS(e,8),yS=(e,t)=>{let r=Fa(e);if(r!==void 0&&tK(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},tK=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},rK=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},aA=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},nK=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ha.warn(vl(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},oK=e=>{if(e==null)return;let t=aA(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Pl=e=>Ba(typeof e=="string"?si(e):e),sK=Pl,SS=e=>Rl(typeof e=="string"?si(e):e),iK=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,si=e=>{let t=e.match(iK);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},ES=e=>typeof e=="string"?cA(e):Ba(e),aK=ES,cK=ES,uK=e=>typeof e=="string"?cA(e):Rl(e),cA=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},uA=e=>Fa(typeof e=="string"?si(e):e),lK=uA,dK=e=>mS(typeof e=="string"?si(e):e),ls=e=>hS(typeof e=="string"?si(e):e),bS=e=>gS(typeof e=="string"?si(e):e),vl=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Ha={warn:console.warn}});function qa(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,f=s<10?`0${s}`:`${s}`,m=i<10?`0${i}`:`${i}`,p=a<10?`0${a}`:`${a}`;return`${fK[n]}, ${c} ${_S[r]} ${t} ${f}:${m}:${p} GMT`}var fK,_S,pK,mK,hK,xS,gK,yK,SK,IS,CS,ja,EK,bK,TK,wS,wK,_K,xK,Fr,IK,CK,ii,lA=I(()=>{d();TS();fK=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];pK=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),mK=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=pK.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,f]=t,m=ls(ii(n)),p=Fr(o,"month",1,12),E=Fr(s,"day",1,31);return ja(m,p,E,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:f})},hK=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),xS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=hK.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,f,m]=t,p=ls(ii(n)),E=Fr(o,"month",1,12),y=Fr(s,"day",1,31),w=ja(p,E,y,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:f});return m.toUpperCase()!="Z"&&w.setTime(w.getTime()-CK(m)),w},gK=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),yK=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),SK=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),IS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=gK.exec(e);if(t){let[r,n,o,s,i,a,c,f]=t;return ja(ls(ii(s)),wS(o),Fr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:f})}if(t=yK.exec(e),t){let[r,n,o,s,i,a,c,f]=t;return TK(ja(EK(s),wS(o),Fr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:f}))}if(t=SK.exec(e),t){let[r,n,o,s,i,a,c,f]=t;return ja(ls(ii(f)),wS(n),Fr(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},CS=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Pl(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},ja=(e,t,r,n)=>{let o=t-1;return _K(e,o,r),new Date(Date.UTC(e,o,r,Fr(n.hours,"hour",0,23),Fr(n.minutes,"minute",0,59),Fr(n.seconds,"seconds",0,60),IK(n.fractionalMilliseconds)))},EK=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+ls(ii(e));return r<t?r+100:r},bK=50*365*24*60*60*1e3,TK=e=>e.getTime()-new Date().getTime()>bK?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,wS=e=>{let t=_S.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},wK=[31,28,31,30,31,30,31,31,30,31,30,31],_K=(e,t,r)=>{let n=wK[t];if(t===1&&xK(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${_S[t]} in ${e}: ${r}`)},xK=e=>e%4===0&&(e%100!==0||e%400===0),Fr=(e,t,r,n)=>{let o=bS(ii(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},IK=e=>e==null?0:SS("0."+e)*1e3,CK=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},ii=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var za={};Je(za,{__addDisposableResource:()=>kA,__assign:()=>Nl,__asyncDelegator:()=>AA,__asyncGenerator:()=>CA,__asyncValues:()=>RA,__await:()=>ai,__awaiter:()=>bA,__classPrivateFieldGet:()=>DA,__classPrivateFieldIn:()=>$A,__classPrivateFieldSet:()=>OA,__createBinding:()=>Ol,__decorate:()=>pA,__disposeResources:()=>LA,__esDecorate:()=>hA,__exportStar:()=>wA,__extends:()=>dA,__generator:()=>TA,__importDefault:()=>NA,__importStar:()=>PA,__makeTemplateObject:()=>vA,__metadata:()=>EA,__param:()=>mA,__propKey:()=>yA,__read:()=>vS,__rest:()=>fA,__rewriteRelativeImportExtension:()=>MA,__runInitializers:()=>gA,__setFunctionName:()=>SA,__spread:()=>_A,__spreadArray:()=>IA,__spreadArrays:()=>xA,__values:()=>Dl,default:()=>vK});function dA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");AS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function fA(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function pA(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function mA(e,t){return function(r,n){t(r,n,e)}}function hA(e,t,r,n,o,s){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),p,E=!1,y=r.length-1;y>=0;y--){var w={};for(var C in n)w[C]=C==="access"?{}:n[C];for(var C in n.access)w.access[C]=n.access[C];w.addInitializer=function(v){if(E)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(v||null))};var A=(0,r[y])(a==="accessor"?{get:m.get,set:m.set}:m[c],w);if(a==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(p=i(A.get))&&(m.get=p),(p=i(A.set))&&(m.set=p),(p=i(A.init))&&o.unshift(p)}else(p=i(A))&&(a==="field"?o.unshift(p):m[c]=p)}f&&Object.defineProperty(f,n.name,m),E=!0}function gA(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function yA(e){return typeof e=="symbol"?e:"".concat(e)}function SA(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function EA(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function bA(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(m){try{f(n.next(m))}catch(p){i(p)}}function c(m){try{f(n.throw(m))}catch(p){i(p)}}function f(m){m.done?s(m.value):o(m.value).then(a,c)}f((n=n.apply(e,t||[])).next())})}function TA(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(f){return function(m){return c([f,m])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,f[0]&&(r=0)),r;)try{if(n=1,o&&(s=f[0]&2?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,o=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],o=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function wA(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ol(t,e,r)}function Dl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vS(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function _A(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vS(arguments[t]));return e}function xA(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function IA(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ai(e){return this instanceof ai?(this.v=e,this):new ai(e)}function CA(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(y){return function(w){return Promise.resolve(w).then(y,p)}}function a(y,w){n[y]&&(o[y]=function(C){return new Promise(function(A,v){s.push([y,C,A,v])>1||c(y,C)})},w&&(o[y]=w(o[y])))}function c(y,w){try{f(n[y](w))}catch(C){E(s[0][3],C)}}function f(y){y.value instanceof ai?Promise.resolve(y.value.v).then(m,p):E(s[0][2],y)}function m(y){c("next",y)}function p(y){c("throw",y)}function E(y,w){y(w),s.shift(),s.length&&c(s[0][0],s[0][1])}}function AA(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:ai(e[o](i)),done:!1}:s?s(i):i}:s}}function RA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Dl=="function"?Dl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(f){s({value:f,done:a})},i)}}function vA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function PA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=RS(e),n=0;n<r.length;n++)r[n]!=="default"&&Ol(t,e,r[n]);return AK(t,e),t}function NA(e){return e&&e.__esModule?e:{default:e}}function DA(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function OA(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function $A(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function kA(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function LA(e){function t(s){e.error=e.hasError?new RK(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function MA(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var AS,Nl,Ol,AK,RS,RK,vK,Ga=I(()=>{d();AS=function(e,t){return AS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},AS(e,t)};Nl=function(){return Nl=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Nl.apply(this,arguments)};Ol=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});AK=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},RS=function(e){return RS=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},RS(e)};RK=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};vK={__extends:dA,__assign:Nl,__rest:fA,__decorate:pA,__param:mA,__esDecorate:hA,__runInitializers:gA,__propKey:yA,__setFunctionName:SA,__metadata:EA,__awaiter:bA,__generator:TA,__createBinding:Ol,__exportStar:wA,__values:Dl,__read:vS,__spread:_A,__spreadArrays:xA,__spreadArray:IA,__await:ai,__asyncGenerator:CA,__asyncDelegator:AA,__asyncValues:RA,__makeTemplateObject:vA,__importStar:PA,__importDefault:NA,__classPrivateFieldGet:DA,__classPrivateFieldSet:OA,__classPrivateFieldIn:$A,__addDisposableResource:kA,__disposeResources:LA,__rewriteRelativeImportExtension:MA}});var BA=$($l=>{"use strict";d();Object.defineProperty($l,"__esModule",{value:!0});$l.randomUUID=void 0;var PK=(Ga(),ue(za)),UA=PK.__importDefault(ne("crypto"));$l.randomUUID=UA.default.randomUUID.bind(UA.default)});var kl=$(HA=>{"use strict";d();var FA=BA(),ht=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),NK=()=>{if(FA.randomUUID)return FA.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,ht[e[0]]+ht[e[1]]+ht[e[2]]+ht[e[3]]+"-"+ht[e[4]]+ht[e[5]]+"-"+ht[e[6]]+ht[e[7]]+"-"+ht[e[8]]+ht[e[9]]+"-"+ht[e[10]]+ht[e[11]]+ht[e[12]]+ht[e[13]]+ht[e[14]]+ht[e[15]]};HA.v4=NK});var ir,jA=I(()=>{d();ir=N(kl())});var vt,qA=I(()=>{d();vt=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};vt.from=e=>e&&typeof e=="object"&&(e instanceof vt||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?vt(String(e)):vt(JSON.stringify(e));vt.fromObject=vt.from});function PS(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var zA=I(()=>{d()});function yn(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var NS,DS,OS,GA,VA,DK,OK,$K,kK,LK,ci,$S,kS,WA=I(()=>{d();NS="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",DS="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",OS="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",GA="(\\d?\\d)",VA="(\\d{4})",DK=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),OK=new RegExp(`^${NS}, ${GA} ${DS} ${VA} ${OS} GMT$`),$K=new RegExp(`^${NS}, ${GA}-${DS}-(\\d\\d) ${OS} GMT$`),kK=new RegExp(`^${NS} ${DS} ( [1-9]|\\d\\d) ${OS} ${VA}$`),LK=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ci=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},$S=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=DK.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,o,s,i,a,,c,f]=t;yn(n,1,12),yn(o,1,31),yn(s,0,23),yn(i,0,59),yn(a,0,60);let m=new Date(Date.UTC(Number(r),Number(n)-1,Number(o),Number(s),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(m.setUTCFullYear(Number(r)),f.toUpperCase()!="Z"){let[,p,E,y]=/([+-])(\d\d):(\d\d)/.exec(f)||[void 0,"+",0,0],w=p==="-"?1:-1;m.setTime(m.getTime()+w*(Number(E)*60*60*1e3+Number(y)*60*1e3))}return m},kS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,o,s,i,a,c;if((c=OK.exec(e))?[,t,r,n,o,s,i,a]=c:(c=$K.exec(e))?([,t,r,n,o,s,i,a]=c,n=(Number(n)+1900).toString()):(c=kK.exec(e))&&([,r,t,o,s,i,a,n]=c),n&&i){let f=Date.UTC(Number(n),LK.indexOf(r),Number(t),Number(o),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);yn(t,1,31),yn(o,0,23),yn(s,0,59),yn(i,0,60);let m=new Date(f);return m.setUTCFullYear(Number(n)),m}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function LS(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var KA=I(()=>{d()});var Va,YA=I(()=>{d();Va=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function MS(e){return new Ue(String(e),"bigDecimal")}var XA,Ue,QA=I(()=>{d();XA=/^-?\d*(\.\d+)?$/,Ue=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!XA.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&XA.test(r.string)}}});var JA={};Je(JA,{LazyJsonString:()=>vt,NumericValue:()=>Ue,_parseEpochTimestamp:()=>ci,_parseRfc3339DateTimeWithOffset:()=>$S,_parseRfc7231DateTime:()=>kS,copyDocumentWithTransform:()=>X6,dateToUtcString:()=>qa,expectBoolean:()=>J6,expectByte:()=>gS,expectFloat32:()=>Rl,expectInt:()=>eK,expectInt32:()=>mS,expectLong:()=>Fa,expectNonNull:()=>rK,expectNumber:()=>Ba,expectObject:()=>aA,expectShort:()=>hS,expectString:()=>nK,expectUnion:()=>oK,generateIdempotencyToken:()=>ir.v4,handleFloat:()=>aK,limitedParseDouble:()=>ES,limitedParseFloat:()=>cK,limitedParseFloat32:()=>uK,logger:()=>Ha,nv:()=>MS,parseBoolean:()=>Q6,parseEpochTimestamp:()=>CS,parseRfc3339DateTime:()=>mK,parseRfc3339DateTimeWithOffset:()=>xS,parseRfc7231DateTime:()=>IS,quoteHeader:()=>PS,splitEvery:()=>LS,splitHeader:()=>Va,strictParseByte:()=>bS,strictParseDouble:()=>Pl,strictParseFloat:()=>sK,strictParseFloat32:()=>SS,strictParseInt:()=>lK,strictParseInt32:()=>dK,strictParseLong:()=>uA,strictParseShort:()=>ls});var Ht=I(()=>{d();iA();lA();jA();qA();TS();zA();WA();KA();YA();QA()});var Pt,ui=I(()=>{d();Pt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var Ll,US,ZA=I(()=>{d();Ll=N(nt()),US=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:o,defaultContentType:s}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=o,this.defaultContentType=s}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let o=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,c=this.defaultContentType,f=Symbol("initialRequestMarker"),m={async*[Symbol.asyncIterator](){if(n){let p={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let E=a.flush();yield{[f]:!0,headers:p,body:E}}for await(let p of t)yield p}};return o.serialize(m,p=>{if(p[f])return{headers:p.headers,body:p.body};let E=Object.keys(p).find(D=>D!=="__type")??"",{additionalHeaders:y,body:w,eventType:C,explicitPayloadContentType:A}=this.writeEventBody(E,i,p);return{headers:{":event-type":{type:"string",value:C},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:A??c},...y},body:w}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let o=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),c=Symbol("initialResponseMarker"),f=o.deserialize(t.body,async E=>{let y=Object.keys(E).find(C=>C!=="__type")??"",w=E[y].body;if(y==="initial-response"){let C=await this.deserializer.read(r,w);return delete C[s],{[c]:!0,...C}}else if(y in a){let C=a[y];if(C.isStructSchema()){let A={},v=!1;for(let[D,k]of C.structIterator()){let{eventHeader:M,eventPayload:B}=k.getMergedTraits();if(v=v||!!(M||B),B)k.isBlobSchema()?A[D]=w:k.isStringSchema()?A[D]=(this.serdeContext?.utf8Encoder??Ll.toUtf8)(w):k.isStructSchema()&&(A[D]=await this.deserializer.read(k,w));else if(M){let j=E[y].headers[D]?.value;j!=null&&(k.isNumericSchema()?j&&typeof j=="object"&&"bytes"in j?A[D]=BigInt(j.toString()):A[D]=Number(j):A[D]=j)}}if(v)return{[y]:A}}return{[y]:await this.deserializer.read(C,w)}}else return{$unknown:E}}),m=f[Symbol.asyncIterator](),p=await m.next();if(p.done)return f;if(p.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[E,y]of Object.entries(p.value))n[E]=y}return{async*[Symbol.asyncIterator](){for(p?.value?.[c]||(yield p.value);;){let{done:E,value:y}=await m.next();if(E)break;yield y}}}}writeEventBody(t,r,n){let o=this.serializer,s=t,i=null,a,c=r.getSchema()[4].includes(t),f={};if(c){let E=r.getMemberSchema(t);if(E.isStructSchema()){for(let[y,w]of E.structIterator()){let{eventHeader:C,eventPayload:A}=w.getMergedTraits();if(A)i=y;else if(C){let v=n[t][y],D="binary";w.isNumericSchema()?(-2)**31<=v&&v<=2**31-1?D="integer":D="long":w.isTimestampSchema()?D="timestamp":w.isStringSchema()?D="string":w.isBooleanSchema()&&(D="boolean"),v!=null&&(f[y]={type:D,value:v},delete n[t][y])}}if(i!==null){let y=E.getMemberSchema(i);y.isBlobSchema()?a="application/octet-stream":y.isStringSchema()&&(a="text/plain"),o.write(y,n[t][i])}else o.write(E,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[E,y]=n[t];s=E,o.write(15,y)}let m=o.flush();return{body:typeof m=="string"?(this.serdeContext?.utf8Decoder??Ll.fromUtf8)(m):m,eventType:s,explicitPayloadContentType:a,additionalHeaders:f}}}});var eR={};Je(eR,{EventStreamSerde:()=>US});var tR=I(()=>{d();ZA()});var Ml,ds,Ul=I(()=>{d();xe();Ml=N(Ne());ui();ds=class extends Pt{options;constructor(t){super(),this.options=t}getRequestType(){return Ml.HttpRequest}getResponseType(){return Ml.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,o]of r.url.searchParams.entries())t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=V.of(r.input),s=Br(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...o.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let f=n[c];if(typeof f!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,f)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(tR(),eR));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,o,s){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var rR,nR,fs,oR=I(()=>{d();xe();Ht();rR=N(Ne()),nR=N(Sl());bl();Tl();Ul();fs=class extends ds{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),f=V.of(t?.input),m=f.getSchema(),p=!1,E,y=new rR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(y,c),this.setHostPrefix(y,t,o);let w=Br(t.traits);if(w.http){y.method=w.http[0];let[C,A]=w.http[1].split("?");y.path=="/"?y.path=C:y.path+=C;let v=new URLSearchParams(A??"");Object.assign(i,Object.fromEntries(v))}}for(let[w,C]of f.structIterator()){let A=C.getMergedTraits()??{},v=o[w];if(!(v==null&&!C.isIdempotencyToken()))if(A.httpPayload)C.isStreaming()?C.isStructSchema()?o[w]&&(E=await this.serializeEventStream({eventStream:o[w],requestSchema:f})):E=v:(s.write(C,v),E=s.flush()),delete o[w];else if(A.httpLabel){s.write(C,v);let D=s.flush();y.path.includes(`{${w}+}`)?y.path=y.path.replace(`{${w}+}`,D.split("/").map(Ur).join("/")):y.path.includes(`{${w}}`)&&(y.path=y.path.replace(`{${w}}`,Ur(D))),delete o[w]}else if(A.httpHeader)s.write(C,v),a[A.httpHeader.toLowerCase()]=String(s.flush()),delete o[w];else if(typeof A.httpPrefixHeaders=="string"){for(let[D,k]of Object.entries(v)){let M=A.httpPrefixHeaders+D;s.write([C.getValueSchema(),{httpHeader:M}],k),a[M.toLowerCase()]=s.flush()}delete o[w]}else A.httpQuery||A.httpQueryParams?(this.serializeQuery(C,v,i),delete o[w]):p=!0}return p&&o&&(s.write(m,o),E=s.flush()),y.headers=a,y.query=i,y.body=E,y}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let f=o.flush();(i||f!==void 0)&&a.push(f)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=V.of(t.output),i={};if(n.statusCode>=300){let c=await sr(n.body,r);throw c.byteLength>0&&Object.assign(i,await o.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let f=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=f}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let c=await sr(n.body,r);if(c.byteLength>0){let f=await o.read(s,c);for(let m of a)i[m]=f[m]}}else a.discardResponseBody&&await sr(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=!0,c=this.deserializer,f=V.of(t),m=[];for(let[p,E]of f.structIterator()){let y=E.getMemberTraits();if(y.httpPayload){if(a=!1,E.isStreaming())E.isStructSchema()?i[p]=await this.deserializeEventStream({response:n,responseSchema:f}):i[p]=(0,nR.sdkStreamMixin)(n.body);else if(n.body){let C=await sr(n.body,r);C.byteLength>0&&(i[p]=await c.read(E,C))}}else if(y.httpHeader){let w=String(y.httpHeader).toLowerCase(),C=n.headers[w];if(C!=null)if(E.isListSchema()){let A=E.getValueSchema();A.getMergedTraits().httpHeader=w;let v;A.isTimestampSchema()&&A.getSchema()===4?v=LS(C,",",2):v=Va(C);let D=[];for(let k of v)D.push(await c.read(A,k.trim()));i[p]=D}else i[p]=await c.read(E,C)}else if(y.httpPrefixHeaders!==void 0){i[p]={};for(let[w,C]of Object.entries(n.headers))if(w.startsWith(y.httpPrefixHeaders)){let A=E.getValueSchema();A.getMergedTraits().httpHeader=w,i[p][w.slice(y.httpPrefixHeaders.length)]=await c.read(A,C)}}else y.httpResponseCode?i[p]=n.statusCode:m.push(p)}return m.discardResponseBody=a,m}}});var sR,Sn,iR=I(()=>{d();xe();sR=N(Ne());bl();Ul();Sn=class extends ds{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),c=V.of(t?.input),f=c.getSchema(),m,p=new sR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(p,a),this.setHostPrefix(p,t,r));let E={...r};if(r){let y=c.getEventStreamMember();if(y){if(E[y]){let w={};for(let[C,A]of c.structIterator())C!==y&&E[C]&&(o.write(A,E[C]),w[C]=o.flush());m=await this.serializeEventStream({eventStream:E[y],requestSchema:c,initialRequest:w})}}else o.write(f,E),m=o.flush()}return p.headers=i,p.query=s,p.body=m,p.method="POST",p}async deserializeResponse(t,r,n){let o=this.deserializer,s=V.of(t.output),i={};if(n.statusCode>=300){let c=await sr(n.body,r);throw c.byteLength>0&&Object.assign(i,await o.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let f=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=f}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:s,initialResponseContainer:i});else{let c=await sr(n.body,r);c.byteLength>0&&Object.assign(i,await o.read(s,c))}return i.$metadata=this.deserializeMetadata(n),i}}});var BS,FS=I(()=>{d();Tl();BS=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Ur(a)).join("/"):Ur(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function HS(e,t){return new Bl(e,t)}var aR,Bl,cR=I(()=>{d();aR=N(Ne());FS();Bl=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new aR.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=BS(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Xt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?6:s||r?5:void 0:void 0)??t.timestampFormat.default}var Fl=I(()=>{d()});var jS,uR,ps,qS=I(()=>{d();xe();Ht();jS=N(ot()),uR=N(nt());ui();Fl();ps=class extends Pt{settings;constructor(t){super(),this.settings=t}read(t,r){let n=V.of(t);if(n.isListSchema())return Va(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??jS.fromBase64)(r);if(n.isTimestampSchema())switch(Xt(n,this.settings)){case 5:return $S(r);case 6:return kS(r);case 7:return ci(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=vt.from(s)),s}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Ue(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??uR.toUtf8)((this.serdeContext?.base64Decoder??jS.fromBase64)(t))}}});var Hl,ms,lR=I(()=>{d();xe();Hl=N(nt());ui();qS();ms=class extends Pt{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new ps(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=V.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??Hl.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Hl.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var zS,Wa,GS=I(()=>{d();xe();Ht();zS=N(ot());ui();Fl();Wa=class extends Pt{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=V.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Xt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=qa(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??zS.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),f=n.getValueSchema().isTimestampSchema()?c:PS(c);i!==""&&(i+=", "),i+=f}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=vt.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??zS.toBase64)(s.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,ir.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var hs,dR=I(()=>{d();xe();GS();hs=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new Wa(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=V.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var fR={};Je(fR,{FromStringShapeDeserializer:()=>ps,HttpBindingProtocol:()=>fs,HttpInterceptingShapeDeserializer:()=>ms,HttpInterceptingShapeSerializer:()=>hs,HttpProtocol:()=>ds,RequestBuilder:()=>Bl,RpcProtocol:()=>Sn,SerdeContext:()=>Pt,ToStringShapeSerializer:()=>Wa,collectBody:()=>sr,determineTimestampFormat:()=>Xt,extendedEncodeURIComponent:()=>Ur,requestBuilder:()=>HS,resolvedPath:()=>BS});var jt=I(()=>{d();bl();Tl();oR();Ul();iR();cR();FS();qS();lR();dR();GS();Fl();ui()});var pR=I(()=>{d();jt()});function MK(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var mR=I(()=>{d()});var En,hR=I(()=>{d();En=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var gR,VS,WS,yR=I(()=>{d();gR=N(Ne()),VS=N(Zn()),WS=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=gR.HttpRequest.clone(t);if(n.in===VS.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===VS.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var SR,KS,ER=I(()=>{d();SR=N(Ne()),KS=class{async sign(t,r,n){let o=SR.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Tr,bR=I(()=>{d();Tr=class{async sign(t,r,n){return t}}});var TR=I(()=>{d();yR();ER();bR()});var wR,UK,YS,jl,XS,_R=I(()=>{d();wR=e=>function(r){return jl(r)&&r.expiration.getTime()-Date.now()<e},UK=3e5,YS=wR(3e5),jl=e=>e.expiration!==void 0,XS=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async f=>{s||(s=n(f));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async f=>((!i||f?.forceRefresh)&&(o=await c(f)),o):async f=>((!i||f?.forceRefresh)&&(o=await c(f)),a?o:r(o)?(t(o)&&await c(f),o):(a=!0,o))}});var xR=I(()=>{d();hR();TR();_R()});var li={};Je(li,{DefaultIdentityProviderConfig:()=>En,EXPIRATION_MS:()=>UK,HttpApiKeyAuthSigner:()=>WS,HttpBearerAuthSigner:()=>KS,NoAuthSigner:()=>Tr,createIsIdentityExpiredFunction:()=>wR,createPaginator:()=>FI,doesIdentityRequireRefresh:()=>jl,getHttpAuthSchemeEndpointRuleSetPlugin:()=>as,getHttpAuthSchemePlugin:()=>bW,getHttpSigningPlugin:()=>cs,getSmithyContext:()=>gW,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>xI,httpAuthSchemeMiddleware:()=>Oa,httpAuthSchemeMiddlewareOptions:()=>NI,httpSigningMiddleware:()=>Ny,httpSigningMiddlewareOptions:()=>LI,isIdentityExpired:()=>YS,memoizeIdentityProvider:()=>XS,normalizeProvider:()=>ro,requestBuilder:()=>HS,setFeature:()=>MK});var Nt=I(()=>{d();bI();OI();UI();BI();HI();pR();mR();xR()});var ao=$(gs=>{"use strict";d();var JS=Zn(),ZS=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),s=0;for(;;){let{value:i,done:a}=o.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let s=String(t[o]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}},BK=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),IR=e=>BK.test(e)||e.startsWith("[")&&e.endsWith("]"),FK=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),tE=(e,t=!1)=>{if(!t)return FK.test(e);let r=e.split(".");for(let n of r)if(!tE(n))return!1;return!0},eE={},Ka="endpoints";function io(e){return typeof e!="object"||e==null?e:"ref"in e?`$${io(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(io).join(", ")})`:JSON.stringify(e,null,2)}var gt=class extends Error{constructor(t){super(t),this.name="EndpointError"}},HK=(e,t)=>e===t,jK=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new gt(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new gt(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},CR=(e,t)=>jK(t).reduce((r,n)=>{if(typeof r!="object")throw new gt(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),qK=e=>e!=null,zK=e=>!e,QS={[JS.EndpointURLScheme.HTTP]:80,[JS.EndpointURLScheme.HTTPS]:443},GK=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:E,port:y,protocol:w="",path:C="",query:A={}}=e,v=new URL(`${w}//${E}${y?`:${y}`:""}${C}`);return v.search=Object.entries(A).map(([D,k])=>`${D}=${k}`).join("&"),v}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(JS.EndpointURLScheme).includes(c))return null;let f=IR(o),m=r.includes(`${n}:${QS[c]}`)||typeof e=="string"&&e.includes(`${n}:${QS[c]}`),p=`${n}${m?`:${QS[c]}`:""}`;return{scheme:c,authority:p,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:f}},VK=(e,t)=>e===t,WK=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),KK=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),YK={booleanEquals:HK,getAttr:CR,isSet:qK,isValidHostLabel:tE,not:zK,parseURL:GK,stringEquals:VK,substring:WK,uriEncode:KK},AR=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,f]=a.split("#");r.push(CR(n[c],f))}else r.push(n[a]);o=i+1}return r.join("")},XK=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],ql=(e,t,r)=>{if(typeof e=="string")return AR(e,r);if(e.fn)return vR.callFunction(e,r);if(e.ref)return XK(e,r);throw new gt(`'${t}': ${String(e)} is not a string, function or reference.`)},RR=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:vR.evaluateExpression(s,"arg",r)),o=e.split(".");return o[0]in eE&&o[1]!=null?eE[o[0]][o[1]](...n):YK[e](...n)},vR={evaluateExpression:ql,callFunction:RR},QK=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new gt(`'${e}' is already defined in Reference Record.`);let n=RR(t,r);return r.logger?.debug?.(`${Ka} evaluateCondition: ${io(t)} = ${io(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},rE=(e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=QK(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${Ka} assign: ${s.name} := ${io(s.value)}`))}return{result:!0,referenceRecord:r}},JK=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=ql(s,"Header value entry",t);if(typeof i!="string")throw new gt(`Header '${n}' value '${i}' is not a string`);return i})}),{}),PR=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:DR.getEndpointProperty(o,t)}),{}),NR=(e,t)=>{if(Array.isArray(e))return e.map(r=>NR(r,t));switch(typeof e){case"string":return AR(e,t);case"object":if(e===null)throw new gt(`Unexpected endpoint property: ${e}`);return DR.getEndpointProperties(e,t);case"boolean":return e;default:throw new gt(`Unexpected endpoint property type: ${typeof e}`)}},DR={getEndpointProperty:NR,getEndpointProperties:PR},ZK=(e,t)=>{let r=ql(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new gt(`Endpoint URL must be a string, got ${typeof r}`)},e8=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=rE(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:f}=n;return t.logger?.debug?.(`${Ka} Resolving endpoint from template: ${io(n)}`),{...f!=null&&{headers:JK(f,i)},...c!=null&&{properties:PR(c,i)},url:ZK(a,i)}},t8=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=rE(r,t);if(o)throw new gt(ql(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},OR=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=e8(r,t);if(n)return n}else if(r.type==="error")t8(r,t);else if(r.type==="tree"){let n=$R.evaluateTreeRule(r,t);if(n)return n}else throw new gt(`Unknown endpoint rule: ${r}`);throw new gt("Rules evaluation failed")},r8=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=rE(r,t);if(o)return $R.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},$R={evaluateRules:OR,evaluateTreeRule:r8},n8=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${Ka} Initial EndpointParams: ${io(r)}`);let i=Object.entries(o).filter(([,f])=>f.default!=null).map(([f,m])=>[f,m.default]);if(i.length>0)for(let[f,m]of i)r[f]=r[f]??m;let a=Object.entries(o).filter(([,f])=>f.required).map(([f])=>f);for(let f of a)if(r[f]==null)throw new gt(`Missing required parameter: '${f}'`);let c=OR(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${Ka} Resolved endpoint: ${io(c)}`),c};gs.EndpointCache=ZS;gs.EndpointError=gt;gs.customEndpointFunctions=eE;gs.isIpAddress=IR;gs.isValidHostLabel=tE;gs.resolveEndpoint=n8});var LR=$(kR=>{"use strict";d();function o8(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}kR.parseQueryString=o8});var bn=$(UR=>{"use strict";d();var s8=LR(),MR=e=>{if(typeof e=="string")return MR(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=s8.parseQueryString(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};UR.parseUrl=MR});var ys=$(wr=>{"use strict";d();var di=ao(),i8=bn(),FR=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!FR(r))return!1;return!0}return!(!di.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||di.isIpAddress(e))},BR=":",a8="/",c8=e=>{let t=e.split(BR);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(BR)==="")return null;let c=a.map(f=>f.split(a8)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},u8=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],l8="1.1",HR={partitions:u8,version:l8},jR=HR,qR="",zR=e=>{let{partitions:t}=jR;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},GR=(e,t="")=>{jR=e,qR=t},d8=()=>{GR(HR,"")},f8=()=>qR,VR={isVirtualHostableS3Bucket:FR,parseArn:c8,partition:zR};di.customEndpointFunctions.aws=VR;var p8=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>WR(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},WR=e=>i8.parseUrl(e.url);Object.defineProperty(wr,"EndpointError",{enumerable:!0,get:function(){return di.EndpointError}});Object.defineProperty(wr,"isIpAddress",{enumerable:!0,get:function(){return di.isIpAddress}});Object.defineProperty(wr,"resolveEndpoint",{enumerable:!0,get:function(){return di.resolveEndpoint}});wr.awsEndpointFunctions=VR;wr.getUserAgentPrefix=f8;wr.partition=zR;wr.resolveDefaultAwsRegionalEndpointsConfig=p8;wr.setPartitionInfo=GR;wr.toEndpointV1=WR;wr.useDefaultPartitionInfo=d8});var zl,co,KR=I(()=>{d();zl={warningEmitted:!1},co=e=>{e&&!zl.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(zl.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function uo(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var YR=I(()=>{d()});function XR(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var QR=I(()=>{d()});function JR(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var ZR=I(()=>{d()});var Tn={};Je(Tn,{emitWarningIfUnsupportedVersion:()=>co,setCredentialFeature:()=>uo,setFeature:()=>XR,setTokenFeature:()=>JR,state:()=>zl});var ar=I(()=>{d();KR();YR();QR();ZR()});var ev,nE,tv=I(()=>{d();ev=N(Ne()),nE=e=>ev.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var fi,oE=I(()=>{d();fi=e=>new Date(Date.now()+e)});var rv,nv=I(()=>{d();oE();rv=(e,t)=>Math.abs(fi(t).getTime()-e)>=3e5});var sE,ov=I(()=>{d();nv();sE=(e,t)=>{let r=Date.parse(e);return rv(r,t)?r-Date.now():t}});var iE=I(()=>{d();tv();oE();ov()});var sv,Ya,pi,yt,aE,cE=I(()=>{d();sv=N(Ne());iE();Ya=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},pi=async e=>{let t=Ya("context",e.context),r=Ya("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await Ya("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},yt=class{async sign(t,r,n){if(!sv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await pi(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,f=n.context;if(f?.authSchemes?.length??!1){let[p,E]=f.authSchemes;p?.name==="sigv4a"&&E?.name==="sigv4"&&(a=E?.signingRegion??a,c=E?.signingName??c)}return await i.sign(t,{signingDate:fi(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??nE(r.$response);if(n){let o=Ya("config",t.config),s=o.systemClockOffset;o.systemClockOffset=sE(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=nE(t);if(n){let o=Ya("config",r.config);o.systemClockOffset=sE(n,o.systemClockOffset)}}},aE=yt});var iv,Xa,av=I(()=>{d();iv=N(Ne());iE();cE();Xa=class extends yt{async sign(t,r,n){if(!iv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await pi(n),m=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:fi(o.systemClockOffset),signingRegion:m,signingService:c})}}});var uE,cv=I(()=>{d();uE=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Gl,lE=I(()=>{d();Gl=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var uv,lv,lo,dv=I(()=>{d();cv();lE();uv="AWS_AUTH_SCHEME_PREFERENCE",lv="auth_scheme_preference",lo={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Gl(t.signingName)in e)return["httpBearerAuth"];if(uv in e)return uE(e[uv])},configFileSelector:e=>{if(lv in e)return uE(e[lv])},default:[]}});var St=$(Ss=>{"use strict";d();var mi=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.tryNextLink=o,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},dE=class e extends mi{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},fE=class e extends mi{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},m8=(...e)=>async()=>{if(e.length===0)throw new mi("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},h8=e=>()=>Promise.resolve(e),g8=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};Ss.CredentialsProviderError=dE;Ss.ProviderError=mi;Ss.TokenProviderError=fE;Ss.chain=m8;Ss.fromStatic=h8;Ss.memoize=g8});var pE,fv,pv,mv=I(()=>{d();Nt();pE=N(St()),fv=e=>(e.sigv4aSigningRegionSet=ro(e.sigv4aSigningRegionSet),e),pv={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new pE.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new pE.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Uv=$(fe=>{"use strict";d();var fo=oS(),Es=nt(),y8=Oy(),Sv=Ne(),hv=mt(),Vl=Vy(),Ev="X-Amz-Algorithm",bv="X-Amz-Credential",EE="X-Amz-Date",Tv="X-Amz-SignedHeaders",wv="X-Amz-Expires",bE="X-Amz-Signature",TE="X-Amz-Security-Token",S8="X-Amz-Region-Set",wE="authorization",_E=EE.toLowerCase(),_v="date",xv=[wE,_E,_v],Iv=bE.toLowerCase(),Ql="x-amz-content-sha256",Cv=TE.toLowerCase(),E8="host",Av={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Rv=/^proxy-/,vv=/^sec-/,b8=[/^proxy-/i,/^sec-/i],Wl="AWS4-HMAC-SHA256",T8="AWS4-ECDSA-P256-SHA256",Pv="AWS4-HMAC-SHA256-PAYLOAD",Nv="UNSIGNED-PAYLOAD",Dv=50,xE="aws4_request",Ov=3600*24*7,hi={},Kl=[],Yl=(e,t,r)=>`${e}/${t}/${r}/${xE}`,$v=async(e,t,r,n,o)=>{let s=await gv(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${fo.toHex(s)}:${t.sessionToken}`;if(i in hi)return hi[i];for(Kl.push(i);Kl.length>Dv;)delete hi[Kl.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,xE])a=await gv(e,a,c);return hi[i]=a},w8=()=>{Kl.length=0,Object.keys(hi).forEach(e=>{delete hi[e]})},gv=(e,t,r)=>{let n=new e(t);return n.update(Es.toUint8Array(r)),n.digest()},mE=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in Av||t?.has(s)||Rv.test(s)||vv.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},Xl=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Ql)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||y8.isArrayBuffer(t)){let n=new r;return n.update(Es.toUint8Array(t)),fo.toHex(await n.digest())}return Nv},hE=class{format(t){let r=[];for(let s of Object.keys(t)){let i=Es.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=Es.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let f=new Uint8Array(c.buffer);return f.set(a,3),f;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(gE.fromNumber(t.value.valueOf()).bytes,1),m;case"uuid":if(!_8.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let p=new Uint8Array(17);return p[0]=9,p.set(fo.fromHex(t.value.replace(/\-/g,"")),1),p}}},_8=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,gE=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&yv(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&yv(t),parseInt(fo.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function yv(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var kv=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},Lv=(e,t={})=>{let{headers:r,query:n={}}=Sv.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},yE=e=>{e=Sv.HttpRequest.clone(e);for(let t of Object.keys(e.headers))xv.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},Mv=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===Iv)continue;let o=Vl.escapeUri(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${Vl.escapeUri(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${Vl.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},x8=e=>I8(e).toISOString().replace(/\.\d{3}Z$/,"Z"),I8=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Jl=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=hv.normalizeProvider(n),this.credentialProvider=hv.normalizeProvider(r)}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Mv(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n,o){let s=new this.sha256;s.update(Es.toUint8Array(n));let i=await s.digest();return`${o}
${t}
${r}
${fo.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Vl.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=x8(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},SE=class extends Jl{headerFormatter=new hE;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:f,signingService:m}=r,p=await this.credentialProvider();this.validateResolvedCredentials(p);let E=f??await this.regionProvider(),{longDate:y,shortDate:w}=this.formatDate(n);if(o>Ov)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let C=Yl(w,E,m??this.service),A=Lv(yE(t),{unhoistableHeaders:i,hoistableHeaders:c});p.sessionToken&&(A.query[TE]=p.sessionToken),A.query[Ev]=Wl,A.query[bv]=`${p.accessKeyId}/${C}`,A.query[EE]=y,A.query[wv]=o.toString(10);let v=mE(A,s,a);return A.query[Tv]=this.getCanonicalHeaderList(v),A.query[bE]=await this.getSignature(y,C,this.getSigningKey(p,E,w,m),this.createCanonicalRequest(A,v,await Xl(t,this.sha256))),A}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:f}=this.formatDate(n),m=Yl(c,a,i??this.service),p=await Xl({headers:{},body:r},this.sha256),E=new this.sha256;E.update(t);let y=fo.toHex(await E.digest()),w=[Pv,f,m,o,y,p].join(`
`);return this.signString(w,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update(Es.toUint8Array(t)),fo.toHex(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),f=yE(t),{longDate:m,shortDate:p}=this.formatDate(r),E=Yl(p,c,i??this.service);f.headers[_E]=m,a.sessionToken&&(f.headers[Cv]=a.sessionToken);let y=await Xl(f,this.sha256);!kv(Ql,f.headers)&&this.applyChecksum&&(f.headers[Ql]=y);let w=mE(f,o,n),C=await this.getSignature(m,E,this.getSigningKey(a,c,p,i),this.createCanonicalRequest(f,w,y));return f.headers[wE]=`${Wl} Credential=${a.accessKeyId}/${E}, SignedHeaders=${this.getCanonicalHeaderList(w)}, Signature=${C}`,f}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o,Wl),i=new this.sha256(await n);return i.update(Es.toUint8Array(s)),fo.toHex(await i.digest())}getSigningKey(t,r,n,o){return $v(this.sha256,t,n,r,o||this.service)}},C8={SignatureV4a:null};fe.ALGORITHM_IDENTIFIER=Wl;fe.ALGORITHM_IDENTIFIER_V4A=T8;fe.ALGORITHM_QUERY_PARAM=Ev;fe.ALWAYS_UNSIGNABLE_HEADERS=Av;fe.AMZ_DATE_HEADER=_E;fe.AMZ_DATE_QUERY_PARAM=EE;fe.AUTH_HEADER=wE;fe.CREDENTIAL_QUERY_PARAM=bv;fe.DATE_HEADER=_v;fe.EVENT_ALGORITHM_IDENTIFIER=Pv;fe.EXPIRES_QUERY_PARAM=wv;fe.GENERATED_HEADERS=xv;fe.HOST_HEADER=E8;fe.KEY_TYPE_IDENTIFIER=xE;fe.MAX_CACHE_SIZE=Dv;fe.MAX_PRESIGNED_TTL=Ov;fe.PROXY_HEADER_PATTERN=Rv;fe.REGION_SET_PARAM=S8;fe.SEC_HEADER_PATTERN=vv;fe.SHA256_HEADER=Ql;fe.SIGNATURE_HEADER=Iv;fe.SIGNATURE_QUERY_PARAM=bE;fe.SIGNED_HEADERS_QUERY_PARAM=Tv;fe.SignatureV4=SE;fe.SignatureV4Base=Jl;fe.TOKEN_HEADER=Cv;fe.TOKEN_QUERY_PARAM=TE;fe.UNSIGNABLE_PATTERNS=b8;fe.UNSIGNED_PAYLOAD=Nv;fe.clearCredentialCache=w8;fe.createScope=Yl;fe.getCanonicalHeaders=mE;fe.getCanonicalQuery=Mv;fe.getPayloadHash=Xl;fe.getSigningKey=$v;fe.hasHeader=kv;fe.moveHeadersToQuery=Lv;fe.prepareRequest=yE;fe.signatureV4aContainer=C8});function A8(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=XS(t,YS,jl):r?n=ro(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function R8(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var IE,wn,Bv,Fv=I(()=>{d();ar();Nt();IE=N(Uv()),wn=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(f){f&&f!==t&&f!==n&&(r=!0),t=f;let m=A8(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),p=R8(e,m);r&&!p.attributed?(n=async E=>p(E).then(y=>uo(y,"CREDENTIALS_CODE","e")),n.memoized=p.memoized,n.configBound=p.configBound,n.attributed=!0):n=p},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=ro(e.signer):e.regionInfoProvider?a=()=>ro(e.region)().then(async f=>[await e.regionInfoProvider(f,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},f]).then(([f,m])=>{let{signingRegion:p,signingService:E}=f;e.signingRegion=e.signingRegion||p||m,e.signingName=e.signingName||E||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},w=e.signerConstructor||IE.SignatureV4;return new w(y)}):a=async f=>{f=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await ro(e.region)(),properties:{}},f);let m=f.signingRegion,p=f.signingName;e.signingRegion=e.signingRegion||m,e.signingName=e.signingName||p||e.serviceId;let E={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},y=e.signerConstructor||IE.SignatureV4;return new y(E)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},Bv=wn});var Hv=I(()=>{d();cE();av();dv();mv();Fv()});var jv={};Je(jv,{AWSSDKSigV4Signer:()=>aE,AwsSdkSigV4ASigner:()=>Xa,AwsSdkSigV4Signer:()=>yt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>lo,NODE_SIGV4A_CONFIG_OPTIONS:()=>pv,getBearerTokenEnvKey:()=>Gl,resolveAWSSDKSigV4Config:()=>Bv,resolveAwsSdkSigV4AConfig:()=>fv,resolveAwsSdkSigV4Config:()=>wn,validateSigningProperties:()=>pi});var CE=I(()=>{d();Hv();lE()});function po(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Zl(e){return e[AE]=!0,e}var AE,ed=I(()=>{d();AE=Symbol("@smithy/core/cbor::tagSymbol")});function Gv(e){De=e,xn=new DataView(De.buffer,De.byteOffset,De.byteLength)}function Hr(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(De[e]&224)>>5,n=De[e]&31;switch(r){case 0:case 1:case 6:let o,s;if(n<24)o=n,s=1;else switch(n){case 24:case 25:case 26:case 27:let i=Wv[n],a=i+1;if(s=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let c=e+1;i===1?o=De[c]:i===2?o=xn.getUint16(c):i===4?o=xn.getUint32(c):o=xn.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return me=s,RE(o);if(r===1){let i;return typeof o=="bigint"?i=BigInt(-1)-o:i=-1-o,me=s,RE(i)}else if(n===2||n===3){let i=ec(e+s,t),a=BigInt(0),c=e+s+me;for(let f=c;f<c+i;++f)a=a<<BigInt(8)|BigInt(De[f]);return me=s+me+i,n===3?-a-BigInt(1):a}else if(n===4){let i=Hr(e+s,t),[a,c]=i,f=c<0?-1:1,m="0".repeat(Math.abs(a)+1)+String(BigInt(f)*BigInt(c)),p,E=c<0?"-":"";return p=a===0?m:m.slice(0,m.length+a)+"."+m.slice(a),p=p.replace(/^0+/g,""),p===""&&(p="0"),p[0]==="."&&(p="0"+p),p=E+p,me=s+me,MS(p)}else{let i=Hr(e+s,t);return me=s+me,Zl({tag:RE(o),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return k8(e,t);case 5:return F8(e,t);case 4:return U8(e,t);case 2:return L8(e,t)}else switch(r){case 3:return $8(e,t);case 5:return B8(e,t);case 4:return M8(e,t);case 2:return $E(e,t)}default:return H8(e,t)}}function Vv(e,t,r){return N8&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):qv?qv.decode(e.subarray(t,r)):(0,zv.toUtf8)(e.subarray(t,r))}function D8(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function O8(e,t){let r=e>>7,n=(e&124)>>2,o=(e&3)<<8|t,s=r===0?1:-1,i,a;if(n===0){if(o===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return o===0?s*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=o/1024,s*(i*a)}function ec(e,t){let r=De[e]&31;if(r<24)return me=1,r;if(r===24||r===25||r===26||r===27){let n=Wv[r];if(me=n+1,t-e<me)throw new Error(`countLength ${n} greater than remaining buf len.`);let o=e+1;return n===1?De[o]:n===2?xn.getUint16(o):n===4?xn.getUint32(o):D8(xn.getBigUint64(o))}throw new Error(`unexpected minor value ${r}.`)}function $8(e,t){let r=ec(e,t),n=me;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let o=Vv(De,e,e+r);return me=n+r,o}function k8(e,t){e+=1;let r=[];for(let n=e;e<t;){if(De[e]===255){let c=po(r.length);return c.set(r,0),me=e-n+2,Vv(c,0,c.length)}let o=(De[e]&224)>>5,s=De[e]&31;if(o!==3)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=$E(e,t);e+=me;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function $E(e,t){let r=ec(e,t),n=me;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let o=De.subarray(e,e+r);return me=n+r,o}function L8(e,t){e+=1;let r=[];for(let n=e;e<t;){if(De[e]===255){let c=po(r.length);return c.set(r,0),me=e-n+2,c}let o=(De[e]&224)>>5,s=De[e]&31;if(o!==2)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=$E(e,t);e+=me;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function M8(e,t){let r=ec(e,t),n=me;e+=n;let o=e,s=Array(r);for(let i=0;i<r;++i){let a=Hr(e,t),c=me;s[i]=a,e+=c}return me=n+(e-o),s}function U8(e,t){e+=1;let r=[];for(let n=e;e<t;){if(De[e]===255)return me=e-n+2,r;let o=Hr(e,t);e+=me,r.push(o)}throw new Error("expected break marker.")}function B8(e,t){let r=ec(e,t),n=me;e+=n;let o=e,s={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(De[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=Hr(e,t);e+=me;let f=Hr(e,t);e+=me,s[c]=f}return me=n+(e-o),s}function F8(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(De[e]===255)return me=e-r+2,n;let o=(De[e]&224)>>5;if(o!==3)throw new Error(`unexpected major type ${o} for map key.`);let s=Hr(e,t);e+=me;let i=Hr(e,t);e+=me,n[s]=i}throw new Error("expected break marker.")}function H8(e,t){let r=De[e]&31;switch(r){case 21:case 20:return me=1,r===21;case 22:return me=1,null;case 23:return me=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return me=3,O8(De[e+1],De[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return me=5,xn.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return me=9,xn.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function RE(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var zv,P8,N8,De,xn,qv,me,Wv,Kv=I(()=>{d();Ht();zv=N(nt());ed();P8=typeof TextDecoder<"u",N8=typeof Buffer<"u",De=po(0),xn=new DataView(De.buffer,De.byteOffset,De.byteLength),qv=P8?new TextDecoder:null,me=0;Wv={24:1,25:2,26:4,27:8}});function LE(e){se.byteLength-Z<e&&(Z<16e6?rd(Math.max(se.byteLength*4,se.byteLength+e)):rd(se.byteLength+e+16e6))}function ME(){let e=po(Z);return e.set(se.subarray(0,Z),0),Z=0,e}function rd(e){let t=se;se=po(e),t&&(t.copy?t.copy(se,0,0,t.byteLength):se.set(t,0)),An=new DataView(se.buffer,se.byteOffset,se.byteLength)}function Cn(e,t){t<24?se[Z++]=e<<5|t:t<256?(se[Z++]=e<<5|24,se[Z++]=t):t<65536?(se[Z++]=e<<5|25,An.setUint16(Z,t),Z+=2):t<2**32?(se[Z++]=e<<5|26,An.setUint32(Z,t),Z+=4):(se[Z++]=e<<5|27,An.setBigUint64(Z,typeof t=="bigint"?t:BigInt(t)),Z+=8)}function Qv(e){let t=[e];for(;t.length;){let r=t.pop();if(LE(typeof r=="string"?r.length*4:64),typeof r=="string"){if(Yv)Cn(3,Buffer.byteLength(r)),Z+=se.write(r,Z);else{let n=(0,Xv.fromUtf8)(r);Cn(3,n.byteLength),se.set(n,Z),Z+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,o=n?0:1,s=n?r:-r-1;s<24?se[Z++]=o<<5|s:s<256?(se[Z++]=o<<5|24,se[Z++]=s):s<65536?(se[Z++]=o<<5|25,se[Z++]=s>>8,se[Z++]=s):s<4294967296?(se[Z++]=o<<5|26,An.setUint32(Z,s),Z+=4):(se[Z++]=o<<5|27,An.setBigUint64(Z,BigInt(s)),Z+=8);continue}se[Z++]=251,An.setFloat64(Z,r),Z+=8;continue}else if(typeof r=="bigint"){let n=r>=0,o=n?0:1,s=n?r:-r-BigInt(1),i=Number(s);if(i<24)se[Z++]=o<<5|i;else if(i<256)se[Z++]=o<<5|24,se[Z++]=i;else if(i<65536)se[Z++]=o<<5|25,se[Z++]=i>>8,se[Z++]=i&255;else if(i<4294967296)se[Z++]=o<<5|26,An.setUint32(Z,i),Z+=4;else if(s<BigInt("18446744073709551616"))se[Z++]=o<<5|27,An.setBigUint64(Z,s),Z+=8;else{let a=s.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),f=s,m=0;for(;c.byteLength-++m>=0;)c[c.byteLength-m]=Number(f&BigInt(255)),f>>=BigInt(8);LE(c.byteLength*2),se[Z++]=n?194:195,Yv?Cn(2,Buffer.byteLength(c)):Cn(2,c.byteLength),se.set(c,Z),Z+=c.byteLength}continue}else if(r===null){se[Z++]=246;continue}else if(typeof r=="boolean"){se[Z++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);Cn(4,r.length);continue}else if(typeof r.byteLength=="number"){LE(r.length*2),Cn(2,r.length),se.set(r,Z),Z+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Ue){let o=r.string.indexOf("."),s=o===-1?0:o-r.string.length+1,i=BigInt(r.string.replace(".",""));se[Z++]=196,t.push(i),t.push(s),Cn(4,2);continue}if(r[AE])if("tag"in r&&"value"in r){t.push(r.value),Cn(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let o=n.length-1;o>=0;--o){let s=n[o];t.push(r[s]),t.push(s)}Cn(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var Xv,Yv,j8,se,An,Z,Jv=I(()=>{d();Ht();Xv=N(nt());ed();Yv=typeof Buffer<"u",j8=2048,se=po(j8),An=new DataView(se.buffer,se.byteOffset,se.byteLength),Z=0});var UE,Zv=I(()=>{d();Kv();Jv();UE={deserialize(e){return Gv(e),Hr(0,e.length)},serialize(e){try{return Qv(e),ME()}catch(t){throw ME(),t}},resizeEncodingBuffer(e){rd(e)}}});var nd,od,sd=I(()=>{d();ed();nd=e=>Zl({tag:1,value:e.getTime()/1e3}),od=(e,t)=>{let r=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(o=>o.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var HE,id,BE,FE,jE=I(()=>{d();jt();xe();Ht();HE=N(ot());Zv();sd();id=class extends Pt{createSerializer(){let t=new BE;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new FE;return t.setSerdeContext(this.serdeContext),t}},BE=class extends Pt{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=V.of(t);if(r==null)return n.isIdempotencyToken()?(0,ir.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??HE.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?nd(new Date(Number(r)/1e3|0)):nd(r);if(typeof r=="function"||typeof r=="object"){let o=r;if(n.isListSchema()&&Array.isArray(o)){let i=!!n.getMergedTraits().sparse,a=[],c=0;for(let f of o){let m=this.serialize(n.getValueSchema(),f);(m!=null||i)&&(a[c++]=m)}return a}if(o instanceof Date)return nd(o);let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(o)){let c=this.serialize(n.getValueSchema(),o[a]);(c!=null||i)&&(s[a]=c)}}else if(n.isStructSchema()){for(let[a,c]of n.structIterator()){let f=this.serialize(c,o[a]);f!=null&&(s[a]=f)}if(n.isUnionSchema()&&Array.isArray(o.$unknown)){let[a,c]=o.$unknown;s[a]=c}}else if(n.isDocumentSchema())for(let i of Object.keys(o))s[i]=this.serialize(n.getValueSchema(),o[i]);return s}return r}flush(){let t=UE.serialize(this.value);return this.value=void 0,t}},FE=class extends Pt{read(t,r){let n=UE.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=V.of(t);if(n.isTimestampSchema()){if(typeof r=="number")return ci(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return ci(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??HE.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let s=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let f=this.readValue(i,c);(f!=null||a)&&s.push(f)}return s}let o={};if(n.isMapSchema()){let s=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(i,r[a]);(c!=null||s)&&(o[a]=c)}}else if(n.isStructSchema()){let s=n.isUnionSchema(),i;s&&(i=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,c]of n.structIterator())s&&i.delete(a),r[a]!=null&&(o[a]=this.readValue(c,r[a]));if(s&&i?.size===1&&Object.keys(o).length===0){let a=i.values().next().value;o.$unknown=[a,r[a]]}}return o}else return r}}});var eP,ad,tP=I(()=>{d();jt();xe();eP=N(mt());jE();sd();ad=class extends Sn{codec=new id;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);if(Object.assign(o.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),br(t.input)==="unit")delete o.body,delete o.headers["content-type"];else{o.body||(this.serializer.write(15,{}),o.body=this.serializer.flush());try{o.headers["content-length"]=String(o.body.byteLength)}catch{}}let{service:s,operation:i}=(0,eP.getSmithyContext)(n),a=`/service/${s}/operation/${i}`;return o.path.endsWith("/")?o.path+=a.slice(1):o.path+=a,o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=od(n,o)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let c={$metadata:s,$fault:n.statusCode<=500?"client":"server"},f=oe.for(a),m;try{m=f.getSchema(i)}catch{o.Message&&(o.message=o.Message);let v=oe.for("smithy.ts.sdk.synthetic."+a),D=v.getBaseException();if(D){let k=v.getErrorCtor(D);throw Object.assign(new k({name:i}),c,o)}throw Object.assign(new Error(i),c,o)}let p=V.of(m),E=f.getErrorCtor(m),y=o.message??o.Message??"Unknown",w=new E(y),C={};for(let[A,v]of p.structIterator())C[A]=this.deserializer.readValue(v,o[A]);throw Object.assign(w,c,{$fault:p.getMergedTraits().error,message:y},C)}getDefaultContentType(){return"application/cbor"}}});var rP=I(()=>{d();sd();tP();jE()});var iP=$(sP=>{"use strict";d();var bs=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},yo=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,qE=()=>{let e=[],t=[],r=!1,n=new Set,o=p=>p.sort((E,y)=>nP[y.step]-nP[E.step]||oP[y.priority||"normal"]-oP[E.priority||"normal"]),s=p=>{let E=!1,y=w=>{let C=bs(w.name,w.aliases);if(C.includes(p)){E=!0;for(let A of C)n.delete(A);return!1}return!0};return e=e.filter(y),t=t.filter(y),E},i=p=>{let E=!1,y=w=>{if(w.middleware===p){E=!0;for(let C of bs(w.name,w.aliases))n.delete(C);return!1}return!0};return e=e.filter(y),t=t.filter(y),E},a=p=>(e.forEach(E=>{p.add(E.middleware,{...E})}),t.forEach(E=>{p.addRelativeTo(E.middleware,{...E})}),p.identifyOnResolve?.(m.identifyOnResolve()),p),c=p=>{let E=[];return p.before.forEach(y=>{y.before.length===0&&y.after.length===0?E.push(y):E.push(...c(y))}),E.push(p),p.after.reverse().forEach(y=>{y.before.length===0&&y.after.length===0?E.push(y):E.push(...c(y))}),E},f=(p=!1)=>{let E=[],y=[],w={};return e.forEach(A=>{let v={...A,before:[],after:[]};for(let D of bs(v.name,v.aliases))w[D]=v;E.push(v)}),t.forEach(A=>{let v={...A,before:[],after:[]};for(let D of bs(v.name,v.aliases))w[D]=v;y.push(v)}),y.forEach(A=>{if(A.toMiddleware){let v=w[A.toMiddleware];if(v===void 0){if(p)return;throw new Error(`${A.toMiddleware} is not found when adding ${yo(A.name,A.aliases)} middleware ${A.relation} ${A.toMiddleware}`)}A.relation==="after"&&v.after.push(A),A.relation==="before"&&v.before.push(A)}}),o(E).map(c).reduce((A,v)=>(A.push(...v),A),[])},m={add:(p,E={})=>{let{name:y,override:w,aliases:C}=E,A={step:"initialize",priority:"normal",middleware:p,...E},v=bs(y,C);if(v.length>0){if(v.some(D=>n.has(D))){if(!w)throw new Error(`Duplicate middleware name '${yo(y,C)}'`);for(let D of v){let k=e.findIndex(B=>B.name===D||B.aliases?.some(j=>j===D));if(k===-1)continue;let M=e[k];if(M.step!==A.step||A.priority!==M.priority)throw new Error(`"${yo(M.name,M.aliases)}" middleware with ${M.priority} priority in ${M.step} step cannot be overridden by "${yo(y,C)}" middleware with ${A.priority} priority in ${A.step} step.`);e.splice(k,1)}}for(let D of v)n.add(D)}e.push(A)},addRelativeTo:(p,E)=>{let{name:y,override:w,aliases:C}=E,A={middleware:p,...E},v=bs(y,C);if(v.length>0){if(v.some(D=>n.has(D))){if(!w)throw new Error(`Duplicate middleware name '${yo(y,C)}'`);for(let D of v){let k=t.findIndex(B=>B.name===D||B.aliases?.some(j=>j===D));if(k===-1)continue;let M=t[k];if(M.toMiddleware!==A.toMiddleware||M.relation!==A.relation)throw new Error(`"${yo(M.name,M.aliases)}" middleware ${M.relation} "${M.toMiddleware}" middleware cannot be overridden by "${yo(y,C)}" middleware ${A.relation} "${A.toMiddleware}" middleware.`);t.splice(k,1)}}for(let D of v)n.add(D)}t.push(A)},clone:()=>a(qE()),use:p=>{p.applyToStack(m)},remove:p=>typeof p=="string"?s(p):i(p),removeByTag:p=>{let E=!1,y=w=>{let{tags:C,name:A,aliases:v}=w;if(C&&C.includes(p)){let D=bs(A,v);for(let k of D)n.delete(k);return E=!0,!1}return!0};return e=e.filter(y),t=t.filter(y),E},concat:p=>{let E=a(qE());return E.use(p),E.identifyOnResolve(r||E.identifyOnResolve()||(p.identifyOnResolve?.()??!1)),E},applyToStack:a,identify:()=>f(!0).map(p=>{let E=p.step??p.relation+" "+p.toMiddleware;return yo(p.name,p.aliases)+" - "+E}),identifyOnResolve(p){return typeof p=="boolean"&&(r=p),r},resolve:(p,E)=>{for(let y of f().map(w=>w.middleware).reverse())p=y(p,E);return r&&console.log(m.identify()),p}};return m},nP={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},oP={high:3,normal:2,low:1};sP.constructStack=qE});var he=$(Re=>{"use strict";d();var uP=iP(),JE=(jt(),ue(fR)),GE=Zn(),q8=(xe(),ue(Al)),aP=(Ht(),ue(JA)),VE=class{config;middlewareStack=uP.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=o===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},zE="***SensitiveInformation***";function WE(e,t){if(t==null)return t;let r=q8.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return zE;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return zE}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return zE}else if(r.isStructSchema()&&typeof t=="object"){let n=t,o={};for(let[s,i]of r.structIterator())n[s]!=null&&(o[s]=WE(i,n[s]));return o}return t}var cd=class{middlewareStack=uP.constructStack();schema;static classBuilder(){return new KE}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:f,additionalContext:m,CommandCtor:p}){for(let A of o.bind(this)(p,t,r,n))this.middlewareStack.use(A);let E=t.concat(this.middlewareStack),{logger:y}=r,w={logger:y,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[GE.SMITHY_CONTEXT_KEY]:{commandInstance:this,...f},...m},{requestHandler:C}=r;return E.resolve(A=>C.handle(A.request,n||{}),w)}},KE=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends cd{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,o,s){let i=t._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,o,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?WE.bind(null,a):f=>f),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?WE.bind(null,c):f=>f),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},z8="***SensitiveInformation***",G8=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=async function(i,a,c){let f=new n(i);if(typeof a=="function")this.send(f,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(f,a||{},c)}else return this.send(f,a)},s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},YE=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},lP=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},dP=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=W8(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw lP(i,t)},V8=e=>({output:t,parsedBody:r,errorCode:n})=>{dP({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},W8=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),K8=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},cP=!1,Y8=e=>{e&&!cP&&parseInt(e.substring(1,e.indexOf(".")))<16&&(cP=!0)},X8=e=>{let t=[];for(let r in GE.AlgorithmId){let n=GE.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},Q8=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},J8=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),Z8=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},fP=e=>Object.assign(X8(e),J8(e)),e5=fP,t5=e=>Object.assign(Q8(e),Z8(e)),r5=e=>Array.isArray(e)?e:[e],pP=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=pP(e[r]));return e},n5=e=>e!=null,XE=class{trace(){}debug(){}info(){}warn(){}error(){}};function mP(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,i5(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}hP(n,null,s,i)}return n}var o5=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},s5=(e,t)=>{let r={};for(let n in t)hP(r,e,t,n);return r},i5=(e,t,r)=>mP(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),hP=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=a5,c=c5,f=n]=i;(typeof a=="function"&&a(t[f])||typeof a!="function"&&a)&&(e[n]=c(t[f]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},a5=e=>e!=null,c5=e=>e,u5=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},l5=e=>e.toISOString().replace(".000Z","Z"),QE=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(QE);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=QE(e[r]));return t}return e};Object.defineProperty(Re,"collectBody",{enumerable:!0,get:function(){return JE.collectBody}});Object.defineProperty(Re,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return JE.extendedEncodeURIComponent}});Object.defineProperty(Re,"resolvedPath",{enumerable:!0,get:function(){return JE.resolvedPath}});Re.Client=VE;Re.Command=cd;Re.NoOpLogger=XE;Re.SENSITIVE_STRING=z8;Re.ServiceException=YE;Re._json=QE;Re.convertMap=o5;Re.createAggregatedClient=G8;Re.decorateServiceException=lP;Re.emitWarningIfUnsupportedVersion=Y8;Re.getArrayIfSingleItem=r5;Re.getDefaultClientConfiguration=e5;Re.getDefaultExtensionConfiguration=fP;Re.getValueFromTextNode=pP;Re.isSerializableHeaderValue=n5;Re.loadConfigsForDefaultMode=K8;Re.map=mP;Re.resolveDefaultRuntimeConfig=t5;Re.serializeDateTime=l5;Re.serializeFloat=u5;Re.take=s5;Re.throwDefaultError=dP;Re.withBaseException=V8;Object.keys(aP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Re,e)&&Object.defineProperty(Re,e,{enumerable:!0,get:function(){return aP[e]}})})});var ZE,cr,yi=I(()=>{d();xe();ZE=N(he()),cr=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),o=Object.values(n).find(s=>!!s.getMergedTraits().httpPayload);if(o){let s=o.getMergedTraits().mediaType;return s||(o.isStringSchema()?"text/plain":o.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:f,httpLabel:m,httpPrefixHeaders:p}=i.getMergedTraits();return!a&&!c&&!f&&!m&&p===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,o,s,i){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let f={$metadata:s,$fault:n.statusCode<500?"client":"server"},m=oe.for(a);try{return{errorSchema:i?.(m,c)??m.getSchema(t),errorMetadata:f}}catch{o.message=o.message??o.Message??"UnknownError";let E=oe.for("smithy.ts.sdk.synthetic."+a),y=E.getBaseException();if(y){let w=E.getErrorCtor(y)??Error;throw this.decorateServiceException(Object.assign(new w({name:c}),f),o)}throw this.decorateServiceException(Object.assign(new Error(c),f),o)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,o=(0,ZE.decorateServiceException)(t,r);n&&(o.message=n),o.Error={...o.Error,Type:o.Error.Type,Code:o.Error.Code,Message:o.Error.message??o.Error.Message??n};let s=o.$metadata.requestId;return s&&(o.RequestId=s),o}return(0,ZE.decorateServiceException)(t,r)}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,s]=n.split(";"),i=Object.entries(t),a={Code:o,Type:s};Object.assign(t,a);for(let[c,f]of i)a[c==="message"?"Message":c]=f;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(o=>V.of(o).getMergedTraits().awsQueryError?.[0]===r)}}}});var ud,gP=I(()=>{d();rP();xe();yi();ud=class extends ad{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new cr(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),o}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=(()=>{let w=n.headers["x-amzn-query-error"];return w&&this.awsQueryCompatible?w.split(";")[0]:od(n,o)??"Unknown"})(),{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),f=V.of(a),m=o.message??o.Message??"Unknown",p=oe.for(a[1]).getErrorCtor(a)??Error,E=new p(m),y={};for(let[w,C]of f.structIterator())o[w]!=null&&(y[w]=this.deserializer.readValue(C,o[w]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,y),this.mixin.decorateServiceException(Object.assign(E,c,{$fault:f.getMergedTraits().error,message:m},y),o)}}});var yP,SP,EP,bP=I(()=>{d();yP=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},SP=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},EP=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Et,So=I(()=>{d();Et=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function*Si(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let n=0;n<r[4].length;++n){let o=r[4][n],s=r[5][n],i=new V([s,0],o);!(o in t)&&!i.isIdempotencyToken()||(yield[o,i])}}function*TP(e,t,r){if(e.isUnitSchema())return;let n=e.getSchema(),o=Object.keys(t).filter(s=>s!=="__type").length;for(let s=0;s<n[4].length&&o!==0;++s){let i=n[4][s],a=n[5][s],c=new V([a,0],i),f=i;r&&(f=c.getMergedTraits()[r]??i),f in t&&(yield[i,c],o-=1)}}var tc=I(()=>{d();xe()});var Ei,eb=I(()=>{d();Ei=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function wP(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Ue(n,"bigDecimal"):BigInt(n)}return t}var _P=I(()=>{d();Ht()});var xP,IP,ld,tb=I(()=>{d();xP=N(he()),IP=N(nt()),ld=(e,t)=>(0,xP.collectBody)(e,t).then(r=>(t?.utf8Encoder??IP.toUtf8)(r))});var rc,CP,bi,nc=I(()=>{d();tb();rc=(e,t)=>ld(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),CP=async(e,t)=>{let r=await rc(e,t);return r.message=r.message??r.Message,r},bi=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var AP,Ti,rb=I(()=>{d();jt();xe();Ht();AP=N(ot());So();tc();eb();_P();nc();Ti=class extends Et{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,wP):await rc(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=V.of(t);if(n){if(o.isStructSchema()){let i=o.isUnionSchema(),a={},c;i&&(c=new Ei(r,a));for(let[f,m]of TP(o,r,this.settings.jsonName?"jsonName":!1)){let p=this.settings.jsonName?m.getMergedTraits().jsonName??f:f;i&&c.mark(p),r[p]!=null&&(a[f]=this._read(m,r[p]))}return i&&c.writeUnknown(),a}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let f of r)(c||f!=null)&&a.push(this._read(i,f));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[f,m]of Object.entries(r))(c||m!=null)&&(a[f]=this._read(i,m));return a}}if(o.isBlobSchema()&&typeof r=="string")return(0,AP.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s)return s==="application/json"||s.endsWith("+json")?vt.from(r):r;if(o.isTimestampSchema()&&r!=null)switch(Xt(o,this.settings)){case 5:return xS(r);case 6:return IS(r);case 7:return CS(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null){if(r instanceof Ue)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new Ue(i.string,i.type):new Ue(String(r),"bigDecimal")}if(o.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Ue?i[a]=c:i[a]=this._read(o,c);return i}else return structuredClone(r);return r}}});var RP,dd,vP=I(()=>{d();Ht();RP="\u039D",dd=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Ue){let n=`${RP+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${RP+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var nb,wi,ob=I(()=>{d();jt();xe();Ht();nb=N(ot());So();tc();vP();wi=class extends Et{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=V.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=V.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new dd;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=V.of(t);if(o){if(s.isStructSchema()){let i={};for(let[a,c]of Si(s,r)){let f=this._write(c,r[a],s);if(f!==void 0){let m=c.getMergedTraits().jsonName,p=this.settings.jsonName?m??a:a;i[p]=f}}if(s.isUnionSchema()&&Object.keys(i).length===0){let{$unknown:a}=r;if(Array.isArray(a)){let[c,f]=a;i[c]=this._write(15,f)}}return i}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let f of r)(c||f!=null)&&a.push(this._write(i,f));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[f,m]of Object.entries(r))(c||m!=null)&&(a[f]=this._write(i,m));return a}if(r instanceof Uint8Array&&(s.isBlobSchema()||s.isDocumentSchema()))return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??nb.toBase64)(r);if(r instanceof Date&&(s.isTimestampSchema()||s.isDocumentSchema()))switch(Xt(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return qa(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Ue&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return(0,ir.v4)();let i=s.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?vt.from(r):r}if(typeof r=="number"&&s.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&s.isBlobSchema())return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??nb.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),s.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Ue?(this.useReplacer=!0,i[a]=c):i[a]=this._write(s,c);return i}else return structuredClone(r);return r}}}});var Eo,fd=I(()=>{d();So();rb();ob();Eo=class extends Et{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new wi(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ti(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var bo,pd=I(()=>{d();jt();xe();yi();fd();nc();bo=class extends Sn{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=o??new Eo({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new cr(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),(br(t.input)==="unit"||!o.body)&&(o.body="{}"),o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=bi(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),f=V.of(a),m=o.message??o.Message??"Unknown",p=oe.for(a[1]).getErrorCtor(a)??Error,E=new p(m),y={};for(let[w,C]of f.structIterator())o[w]!=null&&(y[w]=this.codec.createDeserializer().readObject(C,o[w]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,y),this.mixin.decorateServiceException(Object.assign(E,c,{$fault:f.getMergedTraits().error,message:m},y),o)}}});var md,PP=I(()=>{d();pd();md=class extends bo{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var hd,NP=I(()=>{d();pd();hd=class extends bo{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var To,DP=I(()=>{d();jt();xe();yi();fd();nc();To=class extends fs{serializer;deserializer;codec;mixin=new cr;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Eo(r),this.serializer=new hs(this.codec.createSerializer(),r),this.deserializer=new ms(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=V.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return o.body==null&&o.headers["content-type"]===this.getDefaultContentType()&&(o.body="{}"),o}async deserializeResponse(t,r,n){let o=await super.deserializeResponse(t,r,n),s=V.of(t.output);for(let[i,a]of s.structIterator())a.getMemberTraits().httpPayload&&!(i in o)&&(o[i]=null);return o}async handleError(t,r,n,o,s){let i=bi(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),f=V.of(a),m=o.message??o.Message??"Unknown",p=oe.for(a[1]).getErrorCtor(a)??Error,E=new p(m);await this.deserializeHttpMessage(a,r,n,o);let y={};for(let[w,C]of f.structIterator()){let A=C.getMergedTraits().jsonName??w;y[w]=this.codec.createDeserializer().readObject(C,o[A])}throw this.mixin.decorateServiceException(Object.assign(E,c,{$fault:f.getMergedTraits().error,message:m},y),o)}getDefaultContentType(){return"application/json"}}});var OP,$P,kP=I(()=>{d();OP=N(he()),$P=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,OP.expectUnion)(e)}});var MP=$((R_e,LP)=>{d();(()=>{"use strict";var e={d:(u,l)=>{for(var g in l)e.o(l,g)&&!e.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:l[g]})},o:(u,l)=>Object.prototype.hasOwnProperty.call(u,l),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>ct,XMLParser:()=>Kg,XMLValidator:()=>ry});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function o(u,l){let g=[],_=l.exec(u);for(;_;){let b=[];b.startIndex=l.lastIndex-_[0].length;let T=_.length;for(let R=0;R<T;R++)b.push(_[R]);g.push(b),_=l.exec(u)}return g}let s=function(u){return n.exec(u)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(u,l){l=Object.assign({},i,l);let g=[],_=!1,b=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let T=0;T<u.length;T++)if(u[T]==="<"&&u[T+1]==="?"){if(T+=2,T=f(u,T),T.err)return T}else{if(u[T]!=="<"){if(c(u[T]))continue;return v("InvalidChar","char '"+u[T]+"' is not expected.",k(u,T))}{let R=T;if(T++,u[T]==="!"){T=m(u,T);continue}{let x=!1;u[T]==="/"&&(x=!0,T++);let P="";for(;T<u.length&&u[T]!==">"&&u[T]!==" "&&u[T]!=="	"&&u[T]!==`
`&&u[T]!=="\r";T++)P+=u[T];if(P=P.trim(),P[P.length-1]==="/"&&(P=P.substring(0,P.length-1),T--),!s(P)){let L;return L=P.trim().length===0?"Invalid space after '<'.":"Tag '"+P+"' is an invalid name.",v("InvalidTag",L,k(u,T))}let O=y(u,T);if(O===!1)return v("InvalidAttr","Attributes for '"+P+"' have open quote.",k(u,T));let U=O.value;if(T=O.index,U[U.length-1]==="/"){let L=T-U.length;U=U.substring(0,U.length-1);let H=C(U,l);if(H!==!0)return v(H.err.code,H.err.msg,k(u,L+H.err.line));_=!0}else if(x){if(!O.tagClosed)return v("InvalidTag","Closing tag '"+P+"' doesn't have proper closing.",k(u,T));if(U.trim().length>0)return v("InvalidTag","Closing tag '"+P+"' can't have attributes or invalid starting.",k(u,R));if(g.length===0)return v("InvalidTag","Closing tag '"+P+"' has not been opened.",k(u,R));{let L=g.pop();if(P!==L.tagName){let H=k(u,L.tagStartPos);return v("InvalidTag","Expected closing tag '"+L.tagName+"' (opened in line "+H.line+", col "+H.col+") instead of closing tag '"+P+"'.",k(u,R))}g.length==0&&(b=!0)}}else{let L=C(U,l);if(L!==!0)return v(L.err.code,L.err.msg,k(u,T-U.length+L.err.line));if(b===!0)return v("InvalidXml","Multiple possible root nodes found.",k(u,T));l.unpairedTags.indexOf(P)!==-1||g.push({tagName:P,tagStartPos:R}),_=!0}for(T++;T<u.length;T++)if(u[T]==="<"){if(u[T+1]==="!"){T++,T=m(u,T);continue}if(u[T+1]!=="?")break;if(T=f(u,++T),T.err)return T}else if(u[T]==="&"){let L=A(u,T);if(L==-1)return v("InvalidChar","char '&' is not expected.",k(u,T));T=L}else if(b===!0&&!c(u[T]))return v("InvalidXml","Extra text at the end",k(u,T));u[T]==="<"&&T--}}}return _?g.length==1?v("InvalidTag","Unclosed tag '"+g[0].tagName+"'.",k(u,g[0].tagStartPos)):!(g.length>0)||v("InvalidXml","Invalid '"+JSON.stringify(g.map((T=>T.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):v("InvalidXml","Start tag expected.",1)}function c(u){return u===" "||u==="	"||u===`
`||u==="\r"}function f(u,l){let g=l;for(;l<u.length;l++)if(!(u[l]!="?"&&u[l]!=" ")){let _=u.substr(g,l-g);if(l>5&&_==="xml")return v("InvalidXml","XML declaration allowed only at the start of the document.",k(u,l));if(u[l]=="?"&&u[l+1]==">"){l++;break}}return l}function m(u,l){if(u.length>l+5&&u[l+1]==="-"&&u[l+2]==="-"){for(l+=3;l<u.length;l++)if(u[l]==="-"&&u[l+1]==="-"&&u[l+2]===">"){l+=2;break}}else if(u.length>l+8&&u[l+1]==="D"&&u[l+2]==="O"&&u[l+3]==="C"&&u[l+4]==="T"&&u[l+5]==="Y"&&u[l+6]==="P"&&u[l+7]==="E"){let g=1;for(l+=8;l<u.length;l++)if(u[l]==="<")g++;else if(u[l]===">"&&(g--,g===0))break}else if(u.length>l+9&&u[l+1]==="["&&u[l+2]==="C"&&u[l+3]==="D"&&u[l+4]==="A"&&u[l+5]==="T"&&u[l+6]==="A"&&u[l+7]==="["){for(l+=8;l<u.length;l++)if(u[l]==="]"&&u[l+1]==="]"&&u[l+2]===">"){l+=2;break}}return l}let p='"',E="'";function y(u,l){let g="",_="",b=!1;for(;l<u.length;l++){if(u[l]===p||u[l]===E)_===""?_=u[l]:_!==u[l]||(_="");else if(u[l]===">"&&_===""){b=!0;break}g+=u[l]}return _===""&&{value:g,index:l,tagClosed:b}}let w=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function C(u,l){let g=o(u,w),_={};for(let b=0;b<g.length;b++){if(g[b][1].length===0)return v("InvalidAttr","Attribute '"+g[b][2]+"' has no space in starting.",M(g[b]));if(g[b][3]!==void 0&&g[b][4]===void 0)return v("InvalidAttr","Attribute '"+g[b][2]+"' is without value.",M(g[b]));if(g[b][3]===void 0&&!l.allowBooleanAttributes)return v("InvalidAttr","boolean attribute '"+g[b][2]+"' is not allowed.",M(g[b]));let T=g[b][2];if(!D(T))return v("InvalidAttr","Attribute '"+T+"' is an invalid name.",M(g[b]));if(_.hasOwnProperty(T))return v("InvalidAttr","Attribute '"+T+"' is repeated.",M(g[b]));_[T]=1}return!0}function A(u,l){if(u[++l]===";")return-1;if(u[l]==="#")return(function(_,b){let T=/\d/;for(_[b]==="x"&&(b++,T=/[\da-fA-F]/);b<_.length;b++){if(_[b]===";")return b;if(!_[b].match(T))break}return-1})(u,++l);let g=0;for(;l<u.length;l++,g++)if(!(u[l].match(/\w/)&&g<20)){if(u[l]===";")break;return-1}return l}function v(u,l,g){return{err:{code:u,msg:l,line:g.line||g,col:g.col}}}function D(u){return s(u)}function k(u,l){let g=u.substring(0,l).split(/\r?\n/);return{line:g.length,col:g[g.length-1].length+1}}function M(u){return u.startIndex+u[1].length}let B={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,l){return l},attributeValueProcessor:function(u,l){return l},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,l,g){return u},captureMetaData:!1},j;j=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class de{constructor(l){this.tagname=l,this.child=[],this[":@"]={}}add(l,g){l==="__proto__"&&(l="#__proto__"),this.child.push({[l]:g})}addChild(l,g){l.tagname==="__proto__"&&(l.tagname="#__proto__"),l[":@"]&&Object.keys(l[":@"]).length>0?this.child.push({[l.tagname]:l.child,":@":l[":@"]}):this.child.push({[l.tagname]:l.child}),g!==void 0&&(this.child[this.child.length-1][j]={startIndex:g})}static getMetaDataSymbol(){return j}}function F(u,l){let g={};if(u[l+3]!=="O"||u[l+4]!=="C"||u[l+5]!=="T"||u[l+6]!=="Y"||u[l+7]!=="P"||u[l+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{l+=9;let _=1,b=!1,T=!1,R="";for(;l<u.length;l++)if(u[l]!=="<"||T)if(u[l]===">"){if(T?u[l-1]==="-"&&u[l-2]==="-"&&(T=!1,_--):_--,_===0)break}else u[l]==="["?b=!0:R+=u[l];else{if(b&&Ct(u,"!ENTITY",l)){let x,P;l+=7,[x,P,l]=te(u,l+1),P.indexOf("&")===-1&&(g[x]={regx:RegExp(`&${x};`,"g"),val:P})}else if(b&&Ct(u,"!ELEMENT",l)){l+=8;let{index:x}=Ag(u,l+1);l=x}else if(b&&Ct(u,"!ATTLIST",l))l+=8;else if(b&&Ct(u,"!NOTATION",l)){l+=9;let{index:x}=_e(u,l+1);l=x}else{if(!Ct(u,"!--",l))throw new Error("Invalid DOCTYPE");T=!0}_++,R=""}if(_!==0)throw new Error("Unclosed DOCTYPE")}return{entities:g,i:l}}let z=(u,l)=>{for(;l<u.length&&/\s/.test(u[l]);)l++;return l};function te(u,l){l=z(u,l);let g="";for(;l<u.length&&!/\s/.test(u[l])&&u[l]!=='"'&&u[l]!=="'";)g+=u[l],l++;if(ns(g),l=z(u,l),u.substring(l,l+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[l]==="%")throw new Error("Parameter entities are not supported");let _="";return[l,_]=Ve(u,l,"entity"),[g,_,--l]}function _e(u,l){l=z(u,l);let g="";for(;l<u.length&&!/\s/.test(u[l]);)g+=u[l],l++;ns(g),l=z(u,l);let _=u.substring(l,l+6).toUpperCase();if(_!=="SYSTEM"&&_!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${_}"`);l+=_.length,l=z(u,l);let b=null,T=null;if(_==="PUBLIC")[l,b]=Ve(u,l,"publicIdentifier"),u[l=z(u,l)]!=='"'&&u[l]!=="'"||([l,T]=Ve(u,l,"systemIdentifier"));else if(_==="SYSTEM"&&([l,T]=Ve(u,l,"systemIdentifier"),!T))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:g,publicIdentifier:b,systemIdentifier:T,index:--l}}function Ve(u,l,g){let _="",b=u[l];if(b!=='"'&&b!=="'")throw new Error(`Expected quoted string, found "${b}"`);for(l++;l<u.length&&u[l]!==b;)_+=u[l],l++;if(u[l]!==b)throw new Error(`Unterminated ${g} value`);return[++l,_]}function Ag(u,l){l=z(u,l);let g="";for(;l<u.length&&!/\s/.test(u[l]);)g+=u[l],l++;if(!ns(g))throw new Error(`Invalid element name: "${g}"`);let _="";if(u[l=z(u,l)]==="E"&&Ct(u,"MPTY",l))l+=4;else if(u[l]==="A"&&Ct(u,"NY",l))l+=2;else{if(u[l]!=="(")throw new Error(`Invalid Element Expression, found "${u[l]}"`);for(l++;l<u.length&&u[l]!==")";)_+=u[l],l++;if(u[l]!==")")throw new Error("Unterminated content model")}return{elementName:g,contentModel:_.trim(),index:l}}function Ct(u,l,g){for(let _=0;_<l.length;_++)if(l[_]!==u[g+_+1])return!1;return!0}function ns(u){if(s(u))return u;throw new Error(`Invalid entity name ${u}`)}let Rg=/^[-+]?0x[a-fA-F0-9]+$/,vg=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Pg={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},Ng=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function wa(u){return typeof u=="function"?u:Array.isArray(u)?l=>{for(let g of u)if(typeof g=="string"&&l===g||g instanceof RegExp&&g.test(l))return!0}:()=>!1}class Dg{constructor(l){this.options=l,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(g,_)=>String.fromCodePoint(Number.parseInt(_,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(g,_)=>String.fromCodePoint(Number.parseInt(_,16))}},this.addExternalEntities=Og,this.parseXml=Ug,this.parseTextData=$g,this.resolveNameSpace=kg,this.buildAttributesMap=Mg,this.isItStopNode=jg,this.replaceEntitiesValue=Fg,this.readStopNodeData=qg,this.saveTextToParentTag=Hg,this.addChild=Bg,this.ignoreAttributesFn=wa(this.options.ignoreAttributes)}}function Og(u){let l=Object.keys(u);for(let g=0;g<l.length;g++){let _=l[g];this.lastEntities[_]={regex:new RegExp("&"+_+";","g"),val:u[_]}}}function $g(u,l,g,_,b,T,R){if(u!==void 0&&(this.options.trimValues&&!_&&(u=u.trim()),u.length>0)){R||(u=this.replaceEntitiesValue(u));let x=this.options.tagValueProcessor(l,u,g,b,T);return x==null?u:typeof x!=typeof u||x!==u?x:this.options.trimValues||u.trim()===u?_a(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function kg(u){if(this.options.removeNSPrefix){let l=u.split(":"),g=u.charAt(0)==="/"?"/":"";if(l[0]==="xmlns")return"";l.length===2&&(u=g+l[1])}return u}let Lg=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Mg(u,l,g){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let _=o(u,Lg),b=_.length,T={};for(let R=0;R<b;R++){let x=this.resolveNameSpace(_[R][1]);if(this.ignoreAttributesFn(x,l))continue;let P=_[R][4],O=this.options.attributeNamePrefix+x;if(x.length)if(this.options.transformAttributeName&&(O=this.options.transformAttributeName(O)),O==="__proto__"&&(O="#__proto__"),P!==void 0){this.options.trimValues&&(P=P.trim()),P=this.replaceEntitiesValue(P);let U=this.options.attributeValueProcessor(x,P,l);T[O]=U==null?P:typeof U!=typeof P||U!==P?U:_a(P,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(T[O]=!0)}if(!Object.keys(T).length)return;if(this.options.attributesGroupName){let R={};return R[this.options.attributesGroupName]=T,R}return T}}let Ug=function(u){u=u.replace(/\r\n?/g,`
`);let l=new de("!xml"),g=l,_="",b="";for(let T=0;T<u.length;T++)if(u[T]==="<")if(u[T+1]==="/"){let R=At(u,">",T,"Closing Tag is not closed."),x=u.substring(T+2,R).trim();if(this.options.removeNSPrefix){let U=x.indexOf(":");U!==-1&&(x=x.substr(U+1))}this.options.transformTagName&&(x=this.options.transformTagName(x)),g&&(_=this.saveTextToParentTag(_,g,b));let P=b.substring(b.lastIndexOf(".")+1);if(x&&this.options.unpairedTags.indexOf(x)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${x}>`);let O=0;P&&this.options.unpairedTags.indexOf(P)!==-1?(O=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):O=b.lastIndexOf("."),b=b.substring(0,O),g=this.tagsNodeStack.pop(),_="",T=R}else if(u[T+1]==="?"){let R=os(u,T,!1,"?>");if(!R)throw new Error("Pi Tag is not closed.");if(_=this.saveTextToParentTag(_,g,b),!(this.options.ignoreDeclaration&&R.tagName==="?xml"||this.options.ignorePiTags)){let x=new de(R.tagName);x.add(this.options.textNodeName,""),R.tagName!==R.tagExp&&R.attrExpPresent&&(x[":@"]=this.buildAttributesMap(R.tagExp,b,R.tagName)),this.addChild(g,x,b,T)}T=R.closeIndex+1}else if(u.substr(T+1,3)==="!--"){let R=At(u,"-->",T+4,"Comment is not closed.");if(this.options.commentPropName){let x=u.substring(T+4,R-2);_=this.saveTextToParentTag(_,g,b),g.add(this.options.commentPropName,[{[this.options.textNodeName]:x}])}T=R}else if(u.substr(T+1,2)==="!D"){let R=F(u,T);this.docTypeEntities=R.entities,T=R.i}else if(u.substr(T+1,2)==="!["){let R=At(u,"]]>",T,"CDATA is not closed.")-2,x=u.substring(T+9,R);_=this.saveTextToParentTag(_,g,b);let P=this.parseTextData(x,g.tagname,b,!0,!1,!0,!0);P==null&&(P=""),this.options.cdataPropName?g.add(this.options.cdataPropName,[{[this.options.textNodeName]:x}]):g.add(this.options.textNodeName,P),T=R+2}else{let R=os(u,T,this.options.removeNSPrefix),x=R.tagName,P=R.rawTagName,O=R.tagExp,U=R.attrExpPresent,L=R.closeIndex;this.options.transformTagName&&(x=this.options.transformTagName(x)),g&&_&&g.tagname!=="!xml"&&(_=this.saveTextToParentTag(_,g,b,!1));let H=g;H&&this.options.unpairedTags.indexOf(H.tagname)!==-1&&(g=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),x!==l.tagname&&(b+=b?"."+x:x);let K=T;if(this.isItStopNode(this.options.stopNodes,b,x)){let q="";if(O.length>0&&O.lastIndexOf("/")===O.length-1)x[x.length-1]==="/"?(x=x.substr(0,x.length-1),b=b.substr(0,b.length-1),O=x):O=O.substr(0,O.length-1),T=R.closeIndex;else if(this.options.unpairedTags.indexOf(x)!==-1)T=R.closeIndex;else{let We=this.readStopNodeData(u,P,L+1);if(!We)throw new Error(`Unexpected end of ${P}`);T=We.i,q=We.tagContent}let ce=new de(x);x!==O&&U&&(ce[":@"]=this.buildAttributesMap(O,b,x)),q&&(q=this.parseTextData(q,x,b,!0,U,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),ce.add(this.options.textNodeName,q),this.addChild(g,ce,b,K)}else{if(O.length>0&&O.lastIndexOf("/")===O.length-1){x[x.length-1]==="/"?(x=x.substr(0,x.length-1),b=b.substr(0,b.length-1),O=x):O=O.substr(0,O.length-1),this.options.transformTagName&&(x=this.options.transformTagName(x));let q=new de(x);x!==O&&U&&(q[":@"]=this.buildAttributesMap(O,b,x)),this.addChild(g,q,b,K),b=b.substr(0,b.lastIndexOf("."))}else{let q=new de(x);this.tagsNodeStack.push(g),x!==O&&U&&(q[":@"]=this.buildAttributesMap(O,b,x)),this.addChild(g,q,b,K),g=q}_="",T=L}}else _+=u[T];return l.child};function Bg(u,l,g,_){this.options.captureMetaData||(_=void 0);let b=this.options.updateTag(l.tagname,g,l[":@"]);b===!1||(typeof b=="string"&&(l.tagname=b),u.addChild(l,_))}let Fg=function(u){if(this.options.processEntities){for(let l in this.docTypeEntities){let g=this.docTypeEntities[l];u=u.replace(g.regx,g.val)}for(let l in this.lastEntities){let g=this.lastEntities[l];u=u.replace(g.regex,g.val)}if(this.options.htmlEntities)for(let l in this.htmlEntities){let g=this.htmlEntities[l];u=u.replace(g.regex,g.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function Hg(u,l,g,_){return u&&(_===void 0&&(_=l.child.length===0),(u=this.parseTextData(u,l.tagname,g,!1,!!l[":@"]&&Object.keys(l[":@"]).length!==0,_))!==void 0&&u!==""&&l.add(this.options.textNodeName,u),u=""),u}function jg(u,l,g){let _="*."+g;for(let b in u){let T=u[b];if(_===T||l===T)return!0}return!1}function At(u,l,g,_){let b=u.indexOf(l,g);if(b===-1)throw new Error(_);return b+l.length-1}function os(u,l,g,_=">"){let b=(function(L,H,K=">"){let q,ce="";for(let We=H;We<L.length;We++){let ut=L[We];if(q)ut===q&&(q="");else if(ut==='"'||ut==="'")q=ut;else if(ut===K[0]){if(!K[1])return{data:ce,index:We};if(L[We+1]===K[1])return{data:ce,index:We}}else ut==="	"&&(ut=" ");ce+=ut}})(u,l+1,_);if(!b)return;let T=b.data,R=b.index,x=T.search(/\s/),P=T,O=!0;x!==-1&&(P=T.substring(0,x),T=T.substring(x+1).trimStart());let U=P;if(g){let L=P.indexOf(":");L!==-1&&(P=P.substr(L+1),O=P!==b.data.substr(L+1))}return{tagName:P,tagExp:T,closeIndex:R,attrExpPresent:O,rawTagName:U}}function qg(u,l,g){let _=g,b=1;for(;g<u.length;g++)if(u[g]==="<")if(u[g+1]==="/"){let T=At(u,">",g,`${l} is not closed`);if(u.substring(g+2,T).trim()===l&&(b--,b===0))return{tagContent:u.substring(_,g),i:T};g=T}else if(u[g+1]==="?")g=At(u,"?>",g+1,"StopNode is not closed.");else if(u.substr(g+1,3)==="!--")g=At(u,"-->",g+3,"StopNode is not closed.");else if(u.substr(g+1,2)==="![")g=At(u,"]]>",g,"StopNode is not closed.")-2;else{let T=os(u,g,">");T&&((T&&T.tagName)===l&&T.tagExp[T.tagExp.length-1]!=="/"&&b++,g=T.closeIndex)}}function _a(u,l,g){if(l&&typeof u=="string"){let _=u.trim();return _==="true"||_!=="false"&&(function(b,T={}){if(T=Object.assign({},Pg,T),!b||typeof b!="string")return b;let R=b.trim();if(T.skipLike!==void 0&&T.skipLike.test(R))return b;if(b==="0")return 0;if(T.hex&&Rg.test(R))return(function(P){if(parseInt)return parseInt(P,16);if(Number.parseInt)return Number.parseInt(P,16);if(window&&window.parseInt)return window.parseInt(P,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(R);if(R.search(/.+[eE].+/)!==-1)return(function(P,O,U){if(!U.eNotation)return P;let L=O.match(Ng);if(L){let H=L[1]||"",K=L[3].indexOf("e")===-1?"E":"e",q=L[2],ce=H?P[q.length+1]===K:P[q.length]===K;return q.length>1&&ce?P:q.length!==1||!L[3].startsWith(`.${K}`)&&L[3][0]!==K?U.leadingZeros&&!ce?(O=(L[1]||"")+L[3],Number(O)):P:Number(O)}return P})(b,R,T);{let P=vg.exec(R);if(P){let O=P[1]||"",U=P[2],L=((x=P[3])&&x.indexOf(".")!==-1&&((x=x.replace(/0+$/,""))==="."?x="0":x[0]==="."?x="0"+x:x[x.length-1]==="."&&(x=x.substring(0,x.length-1))),x),H=O?b[U.length+1]===".":b[U.length]===".";if(!T.leadingZeros&&(U.length>1||U.length===1&&!H))return b;{let K=Number(R),q=String(K);if(K===0||K===-0)return K;if(q.search(/[eE]/)!==-1)return T.eNotation?K:b;if(R.indexOf(".")!==-1)return q==="0"||q===L||q===`${O}${L}`?K:b;let ce=U?L:R;return U?ce===q||O+ce===q?K:b:ce===q||ce===O+q?K:b}}return b}var x})(u,g)}return u!==void 0?u:""}let ss=de.getMetaDataSymbol();function zg(u,l){return xa(u,l)}function xa(u,l,g){let _,b={};for(let T=0;T<u.length;T++){let R=u[T],x=Gg(R),P="";if(P=g===void 0?x:g+"."+x,x===l.textNodeName)_===void 0?_=R[x]:_+=""+R[x];else{if(x===void 0)continue;if(R[x]){let O=xa(R[x],l,P),U=Wg(O,l);R[ss]!==void 0&&(O[ss]=R[ss]),R[":@"]?Vg(O,R[":@"],P,l):Object.keys(O).length!==1||O[l.textNodeName]===void 0||l.alwaysCreateTextNode?Object.keys(O).length===0&&(l.alwaysCreateTextNode?O[l.textNodeName]="":O=""):O=O[l.textNodeName],b[x]!==void 0&&b.hasOwnProperty(x)?(Array.isArray(b[x])||(b[x]=[b[x]]),b[x].push(O)):l.isArray(x,P,U)?b[x]=[O]:b[x]=O}}}return typeof _=="string"?_.length>0&&(b[l.textNodeName]=_):_!==void 0&&(b[l.textNodeName]=_),b}function Gg(u){let l=Object.keys(u);for(let g=0;g<l.length;g++){let _=l[g];if(_!==":@")return _}}function Vg(u,l,g,_){if(l){let b=Object.keys(l),T=b.length;for(let R=0;R<T;R++){let x=b[R];_.isArray(x,g+"."+x,!0,!0)?u[x]=[l[x]]:u[x]=l[x]}}}function Wg(u,l){let{textNodeName:g}=l,_=Object.keys(u).length;return _===0||!(_!==1||!u[g]&&typeof u[g]!="boolean"&&u[g]!==0)}class Kg{constructor(l){this.externalEntities={},this.options=(function(g){return Object.assign({},B,g)})(l)}parse(l,g){if(typeof l!="string"){if(!l.toString)throw new Error("XML data is accepted in String or Bytes[] form.");l=l.toString()}if(g){g===!0&&(g={});let T=a(l,g);if(T!==!0)throw Error(`${T.err.msg}:${T.err.line}:${T.err.col}`)}let _=new Dg(this.options);_.addExternalEntities(this.externalEntities);let b=_.parseXml(l);return this.options.preserveOrder||b===void 0?b:zg(b,this.options)}addEntity(l,g){if(g.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(l.indexOf("&")!==-1||l.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(g==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[l]=g}static getMetaDataSymbol(){return de.getMetaDataSymbol()}}function Yg(u,l){let g="";return l.format&&l.indentBy.length>0&&(g=`
`),Ia(u,l,"",g)}function Ia(u,l,g,_){let b="",T=!1;for(let R=0;R<u.length;R++){let x=u[R],P=Xg(x);if(P===void 0)continue;let O="";if(O=g.length===0?P:`${g}.${P}`,P===l.textNodeName){let K=x[P];Qg(O,l)||(K=l.tagValueProcessor(P,K),K=Aa(K,l)),T&&(b+=_),b+=K,T=!1;continue}if(P===l.cdataPropName){T&&(b+=_),b+=`<![CDATA[${x[P][0][l.textNodeName]}]]>`,T=!1;continue}if(P===l.commentPropName){b+=_+`<!--${x[P][0][l.textNodeName]}-->`,T=!0;continue}if(P[0]==="?"){let K=Ca(x[":@"],l),q=P==="?xml"?"":_,ce=x[P][0][l.textNodeName];ce=ce.length!==0?" "+ce:"",b+=q+`<${P}${ce}${K}?>`,T=!0;continue}let U=_;U!==""&&(U+=l.indentBy);let L=_+`<${P}${Ca(x[":@"],l)}`,H=Ia(x[P],l,O,U);l.unpairedTags.indexOf(P)!==-1?l.suppressUnpairedNode?b+=L+">":b+=L+"/>":H&&H.length!==0||!l.suppressEmptyNode?H&&H.endsWith(">")?b+=L+`>${H}${_}</${P}>`:(b+=L+">",H&&_!==""&&(H.includes("/>")||H.includes("</"))?b+=_+l.indentBy+H+_:b+=H,b+=`</${P}>`):b+=L+"/>",T=!0}return b}function Xg(u){let l=Object.keys(u);for(let g=0;g<l.length;g++){let _=l[g];if(u.hasOwnProperty(_)&&_!==":@")return _}}function Ca(u,l){let g="";if(u&&!l.ignoreAttributes)for(let _ in u){if(!u.hasOwnProperty(_))continue;let b=l.attributeValueProcessor(_,u[_]);b=Aa(b,l),b===!0&&l.suppressBooleanAttributes?g+=` ${_.substr(l.attributeNamePrefix.length)}`:g+=` ${_.substr(l.attributeNamePrefix.length)}="${b}"`}return g}function Qg(u,l){let g=(u=u.substr(0,u.length-l.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let _ in l.stopNodes)if(l.stopNodes[_]===u||l.stopNodes[_]==="*."+g)return!0;return!1}function Aa(u,l){if(u&&u.length>0&&l.processEntities)for(let g=0;g<l.entities.length;g++){let _=l.entities[g];u=u.replace(_.regex,_.val)}return u}let Jg={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,l){return l},attributeValueProcessor:function(u,l){return l},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function ct(u){this.options=Object.assign({},Jg,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=wa(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=ty),this.processTextOrObjNode=Zg,this.options.format?(this.indentate=ey,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function Zg(u,l,g,_){let b=this.j2x(u,g+1,_.concat(l));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],l,b.attrStr,g):this.buildObjectNode(b.val,l,b.attrStr,g)}function ey(u){return this.options.indentBy.repeat(u)}function ty(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}ct.prototype.build=function(u){return this.options.preserveOrder?Yg(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},ct.prototype.j2x=function(u,l,g){let _="",b="",T=g.join(".");for(let R in u)if(Object.prototype.hasOwnProperty.call(u,R))if(u[R]===void 0)this.isAttribute(R)&&(b+="");else if(u[R]===null)this.isAttribute(R)||R===this.options.cdataPropName?b+="":R[0]==="?"?b+=this.indentate(l)+"<"+R+"?"+this.tagEndChar:b+=this.indentate(l)+"<"+R+"/"+this.tagEndChar;else if(u[R]instanceof Date)b+=this.buildTextValNode(u[R],R,"",l);else if(typeof u[R]!="object"){let x=this.isAttribute(R);if(x&&!this.ignoreAttributesFn(x,T))_+=this.buildAttrPairStr(x,""+u[R]);else if(!x)if(R===this.options.textNodeName){let P=this.options.tagValueProcessor(R,""+u[R]);b+=this.replaceEntitiesValue(P)}else b+=this.buildTextValNode(u[R],R,"",l)}else if(Array.isArray(u[R])){let x=u[R].length,P="",O="";for(let U=0;U<x;U++){let L=u[R][U];if(L!==void 0)if(L===null)R[0]==="?"?b+=this.indentate(l)+"<"+R+"?"+this.tagEndChar:b+=this.indentate(l)+"<"+R+"/"+this.tagEndChar;else if(typeof L=="object")if(this.options.oneListGroup){let H=this.j2x(L,l+1,g.concat(R));P+=H.val,this.options.attributesGroupName&&L.hasOwnProperty(this.options.attributesGroupName)&&(O+=H.attrStr)}else P+=this.processTextOrObjNode(L,R,l,g);else if(this.options.oneListGroup){let H=this.options.tagValueProcessor(R,L);H=this.replaceEntitiesValue(H),P+=H}else P+=this.buildTextValNode(L,R,"",l)}this.options.oneListGroup&&(P=this.buildObjectNode(P,R,O,l)),b+=P}else if(this.options.attributesGroupName&&R===this.options.attributesGroupName){let x=Object.keys(u[R]),P=x.length;for(let O=0;O<P;O++)_+=this.buildAttrPairStr(x[O],""+u[R][x[O]])}else b+=this.processTextOrObjNode(u[R],R,l,g);return{attrStr:_,val:b}},ct.prototype.buildAttrPairStr=function(u,l){return l=this.options.attributeValueProcessor(u,""+l),l=this.replaceEntitiesValue(l),this.options.suppressBooleanAttributes&&l==="true"?" "+u:" "+u+'="'+l+'"'},ct.prototype.buildObjectNode=function(u,l,g,_){if(u==="")return l[0]==="?"?this.indentate(_)+"<"+l+g+"?"+this.tagEndChar:this.indentate(_)+"<"+l+g+this.closeTag(l)+this.tagEndChar;{let b="</"+l+this.tagEndChar,T="";return l[0]==="?"&&(T="?",b=""),!g&&g!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&l===this.options.commentPropName&&T.length===0?this.indentate(_)+`<!--${u}-->`+this.newLine:this.indentate(_)+"<"+l+g+T+this.tagEndChar+u+this.indentate(_)+b:this.indentate(_)+"<"+l+g+T+">"+u+b}},ct.prototype.closeTag=function(u){let l="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(l="/"):l=this.options.suppressEmptyNode?"/":`></${u}`,l},ct.prototype.buildTextValNode=function(u,l,g,_){if(this.options.cdataPropName!==!1&&l===this.options.cdataPropName)return this.indentate(_)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&l===this.options.commentPropName)return this.indentate(_)+`<!--${u}-->`+this.newLine;if(l[0]==="?")return this.indentate(_)+"<"+l+g+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(l,u);return b=this.replaceEntitiesValue(b),b===""?this.indentate(_)+"<"+l+g+this.closeTag(l)+this.tagEndChar:this.indentate(_)+"<"+l+g+">"+b+"</"+l+this.tagEndChar}},ct.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let l=0;l<this.options.entities.length;l++){let g=this.options.entities[l];u=u.replace(g.regex,g.val)}return u};let ry={validate:a};LP.exports=t})()});var UP=$(ib=>{"use strict";d();Object.defineProperty(ib,"__esModule",{value:!0});ib.parseXML=f5;var d5=MP(),sb=new d5.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});sb.addEntity("#xD","\r");sb.addEntity("#10",`
`);function f5(e){return sb.parse(e,!0)}});var Sd=$(yd=>{"use strict";d();var p5=UP();function m5(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function h5(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var gd=class{value;constructor(t){this.value=t}toString(){return h5(""+this.value)}},ab=class e{name;children;attributes={};static of(t,r,n){let o=new e(t);return r!==void 0&&o.addChildNode(new gd(r)),n!==void 0&&o.withName(n),o}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=e.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new e(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${m5(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(yd,"parseXML",{enumerable:!0,get:function(){return p5.parseXML}});yd.XmlNode=ab;yd.XmlText=gd});var BP,FP,HP,wo,Ed=I(()=>{d();BP=N(Sd());jt();xe();FP=N(he()),HP=N(nt());So();eb();wo=class extends Et{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new ps(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=V.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(f=>!!f.getMemberTraits().eventPayload)){let f={},m=Object.keys(s)[0];return s[m].isBlobSchema()?f[m]=r:f[m]=this.read(s[m],r),f}let a=(this.serdeContext?.utf8Encoder??HP.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=V.of(t);if(n.isUnitSchema())return;let o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),f=[],m=c.getMergedTraits().xmlName??"member",p=i?r:(r[0]??r)[m],E=Array.isArray(p)?p:[p];for(let y of E)(y!=null||s)&&f.push(this.readSchema(c,y));return f}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),f=n.getValueSchema(),m;i?m=Array.isArray(r)?r:[r]:m=Array.isArray(r.entry)?r.entry:[r.entry];let p=c.getMergedTraits().xmlName??"key",E=f.getMergedTraits().xmlName??"value";for(let y of m){let w=y[p],C=y[E];(C!=null||s)&&(a[w]=this.readSchema(f,C))}return a}if(n.isStructSchema()){let c=n.isUnionSchema(),f;c&&(f=new Ei(r,a));for(let[m,p]of n.structIterator()){let E=p.getMergedTraits(),y=E.httpPayload?E.xmlName??p.getName():p.getMemberTraits().xmlName??m;c&&f.mark(y),r[y]!=null&&(a[m]=this.readSchema(p,r[y]))}return c&&f.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,BP.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",o=Object.keys(r)[0],s=r[o];return s[n]&&(s[o]=s[n],delete s[n]),(0,FP.getValueFromTextNode)(s)}return{}}}});var jP,qP,bd,zP=I(()=>{d();jt();xe();Ht();jP=N(he()),qP=N(ot());So();tc();bd=class extends Et{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=V.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??qP.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,ir.v4)()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Ue?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Xt(o,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,jP.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(o.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let f=this.getKey("member",s.getMergedTraits().xmlName),m=i?`${n}${a}`:`${n}${f}.${a}`;this.write(s,c,m),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[f,m]of Object.entries(r)){if(m==null)continue;let p=this.getKey("key",s.getMergedTraits().xmlName),E=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`,y=this.getKey("value",i.getMergedTraits().xmlName),w=a?`${n}${c}.${y}`:`${n}entry.${c}.${y}`;this.write(s,f,E),this.write(i,m,w),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object"){let s=!1;for(let[i,a]of Si(o,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(i,a.getMergedTraits().xmlName),f=`${n}${c}`;this.write(a,r[i],f),s=!0}if(!s&&o.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,c]=i,f=`${n}${a}`;this.write(15,c,f)}}}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Ur(t)}=`}writeValue(t){this.buffer+=Ur(t)}}});var _o,cb=I(()=>{d();jt();xe();yi();Ed();zP();_o=class extends Sn{options;serializer;deserializer;mixin=new cr;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new bd(r),this.deserializer=new wo(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(br(t.input)==="unit"||!o.body)&&(o.body="");let s=t.name.split("#")[1]??t.name;return o.body=`Action=${s}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1)),o}async deserializeResponse(t,r,n){let o=this.deserializer,s=V.of(t.output),i={};if(n.statusCode>=300){let p=await sr(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(15,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let p in n.headers){let E=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=E}let a=t.name.split("#")[1]??t.name,c=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,f=await sr(n.body,r);return f.byteLength>0&&Object.assign(i,await o.read(s,f,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.loadQueryError(o),c=this.loadQueryErrorMessage(o);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:f,errorMetadata:m}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,s,this.mixin.findQueryCompatibleError),p=V.of(f),E=oe.for(f[1]).getErrorCtor(f)??Error,y=new E(c),w={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[C,A]of p.structIterator()){let v=A.getMergedTraits().xmlName??C,D=a[v]??o[v];w[C]=this.deserializer.readSchema(A,D)}throw this.mixin.decorateServiceException(Object.assign(y,m,{$fault:p.getMergedTraits().error,message:c},w),o)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Td,GP=I(()=>{d();cb();Td=class extends _o{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var VP,WP,ub,KP,wd,lb=I(()=>{d();VP=N(Sd()),WP=N(he());tb();ub=(e,t)=>ld(e,t).then(r=>{if(r.length){let n;try{n=(0,VP.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,WP.getValueFromTextNode)(i)}return{}}),KP=async(e,t)=>{let r=await ub(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},wd=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Dt,db,_d,_i,fb=I(()=>{d();Dt=N(Sd());jt();xe();Ht();db=N(he()),_d=N(ot());So();tc();_i=class extends Et{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=V.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??_d.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Dt.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);for(let[m,p]of Si(t,r)){let E=r[m];if(E!=null||p.isIdempotencyToken()){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??m,this.writeSimple(p,E));continue}if(p.isListSchema())this.writeList(p,E,i,c);else if(p.isMapSchema())this.writeMap(p,E,i,c);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,E,c));else{let y=Dt.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,E,y,c),i.addChildNode(y)}}}let{$unknown:f}=r;if(f&&t.isUnionSchema()&&Array.isArray(f)&&Object.keys(r).length===1){let[m,p]=f,E=Dt.XmlNode.of(m);if(typeof p!="string")if(r instanceof Dt.XmlNode||r instanceof Dt.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,p,E,c),i.addChildNode(E)}return c&&i.addAttribute(a,c),i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,f=!!s.xmlFlattened,[m,p]=this.getXmlnsAttribute(t,o),E=(y,w)=>{if(i.isListSchema())this.writeList(i,Array.isArray(w)?w:[w],y,p);else if(i.isMapSchema())this.writeMap(i,w,y,p);else if(i.isStructSchema()){let C=this.writeStruct(i,w,p);y.addChildNode(C.withName(f?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let C=Dt.XmlNode.of(f?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,w,C,p),y.addChildNode(C)}};if(f)for(let y of r)(c||y!=null)&&E(n,y);else{let y=Dt.XmlNode.of(s.xmlName??t.getMemberName());p&&y.addAttribute(m,p);for(let w of r)(c||w!=null)&&E(y,w);n.addChildNode(y)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),f=a.getMergedTraits().xmlName??"key",m=t.getValueSchema(),p=m.getMergedTraits(),E=p.xmlName??"value",y=!!p.sparse,w=!!i.xmlFlattened,[C,A]=this.getXmlnsAttribute(t,o),v=(D,k,M)=>{let B=Dt.XmlNode.of(f,k),[j,de]=this.getXmlnsAttribute(a,A);de&&B.addAttribute(j,de),D.addChildNode(B);let F=Dt.XmlNode.of(E);m.isListSchema()?this.writeList(m,M,F,A):m.isMapSchema()?this.writeMap(m,M,F,A,!0):m.isStructSchema()?F=this.writeStruct(m,M,A):this.writeSimpleInto(m,M,F,A),D.addChildNode(F)};if(w){for(let[D,k]of Object.entries(r))if(y||k!=null){let M=Dt.XmlNode.of(i.xmlName??t.getMemberName());v(M,D,k),n.addChildNode(M)}}else{let D;s||(D=Dt.XmlNode.of(i.xmlName??t.getMemberName()),A&&D.addAttribute(C,A),n.addChildNode(D));for(let[k,M]of Object.entries(r))if(y||M!=null){let B=Dt.XmlNode.of("entry");v(B,k,M),(s?n:D).addChildNode(B)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=V.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??_d.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Xt(n,this.settings)){case 5:o=r.toISOString().replace(".000Z","Z");break;case 6:o=(0,db.dateToUtcString)(r);break;case 7:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,db.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Ue?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=(0,ir.v4)():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=V.of(t),a=new Dt.XmlText(s),[c,f]=this.getXmlnsAttribute(i,o);f&&n.addAttribute(c,f),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var xi,pb=I(()=>{d();So();Ed();fb();xi=class extends Et{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new _i(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new wo(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var xd,YP=I(()=>{d();jt();xe();yi();lb();pb();xd=class extends fs{codec;serializer;deserializer;mixin=new cr;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new xi(r),this.serializer=new hs(this.codec.createSerializer(),r),this.deserializer=new ms(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=V.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return typeof o.body=="string"&&o.headers["content-type"]===this.getDefaultContentType()&&!o.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(s)&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=wd(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),f=V.of(a),m=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",p=oe.for(a[1]).getErrorCtor(a)??Error,E=new p(m);await this.deserializeHttpMessage(a,r,n,o);let y={};for(let[w,C]of f.structIterator()){let A=C.getMergedTraits().xmlName??w,v=o.Error?.[A]??o[A];y[w]=this.codec.createDeserializer().readSchema(C,v)}throw this.mixin.decorateServiceException(Object.assign(E,c,{$fault:f.getMergedTraits().error,message:m},y),o)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var mb={};Je(mb,{AwsEc2QueryProtocol:()=>Td,AwsJson1_0Protocol:()=>md,AwsJson1_1Protocol:()=>hd,AwsJsonRpcProtocol:()=>bo,AwsQueryProtocol:()=>_o,AwsRestJsonProtocol:()=>To,AwsRestXmlProtocol:()=>xd,AwsSmithyRpcV2CborProtocol:()=>ud,JsonCodec:()=>Eo,JsonShapeDeserializer:()=>Ti,JsonShapeSerializer:()=>wi,XmlCodec:()=>xi,XmlShapeDeserializer:()=>wo,XmlShapeSerializer:()=>_i,_toBool:()=>SP,_toNum:()=>EP,_toStr:()=>yP,awsExpectUnion:()=>$P,loadRestJsonErrorCode:()=>bi,loadRestXmlErrorCode:()=>wd,parseJsonBody:()=>rc,parseJsonErrorBody:()=>CP,parseXmlBody:()=>ub,parseXmlErrorBody:()=>KP});var Ts=I(()=>{d();gP();bP();PP();NP();pd();DP();fd();rb();ob();kP();nc();GP();cb();YP();pb();Ed();fb();lb()});var xo={};Je(xo,{AWSSDKSigV4Signer:()=>aE,AwsEc2QueryProtocol:()=>Td,AwsJson1_0Protocol:()=>md,AwsJson1_1Protocol:()=>hd,AwsJsonRpcProtocol:()=>bo,AwsQueryProtocol:()=>_o,AwsRestJsonProtocol:()=>To,AwsRestXmlProtocol:()=>xd,AwsSdkSigV4ASigner:()=>Xa,AwsSdkSigV4Signer:()=>yt,AwsSmithyRpcV2CborProtocol:()=>ud,JsonCodec:()=>Eo,JsonShapeDeserializer:()=>Ti,JsonShapeSerializer:()=>wi,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>lo,NODE_SIGV4A_CONFIG_OPTIONS:()=>pv,XmlCodec:()=>xi,XmlShapeDeserializer:()=>wo,XmlShapeSerializer:()=>_i,_toBool:()=>SP,_toNum:()=>EP,_toStr:()=>yP,awsExpectUnion:()=>$P,emitWarningIfUnsupportedVersion:()=>co,getBearerTokenEnvKey:()=>Gl,loadRestJsonErrorCode:()=>bi,loadRestXmlErrorCode:()=>wd,parseJsonBody:()=>rc,parseJsonErrorBody:()=>CP,parseXmlBody:()=>ub,parseXmlErrorBody:()=>KP,resolveAWSSDKSigV4Config:()=>Bv,resolveAwsSdkSigV4AConfig:()=>fv,resolveAwsSdkSigV4Config:()=>wn,setCredentialFeature:()=>uo,setFeature:()=>XR,setTokenFeature:()=>JR,state:()=>zl,validateSigningProperties:()=>pi});var lt=I(()=>{d();ar();CE();Ts()});var ws=$(Ii=>{"use strict";d();var g5=(Nt(),ue(li)),y5=ys(),S5=Ne(),jr=(lt(),ue(xo)),ZP=void 0;function E5(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function b5(e){let t=g5.normalizeProvider(e.userAgentAppId??ZP),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!E5(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var T5=/\d{12}\.ddb/;async function w5(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&jr.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?jr.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):jr.setFeature(e,"RETRY_MODE_STANDARD","E"):jr.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(T5)&&jr.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":jr.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":jr.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":jr.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&jr.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))jr.setFeature(e,i,a)}}var XP="user-agent",hb="x-amz-user-agent",QP=" ",gb="/",_5=/[^!$%&'*+\-.^_`|~\w]/g,x5=/[^!$%&'*+\-.^_`|~\w#]/g,JP="-",I5=1024;function C5(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=I5){t.length?t+=","+n:t+=n;continue}break}return t}var eN=e=>(t,r)=>async n=>{let{request:o}=n;if(!S5.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Id)||[],a=(await e.defaultUserAgentProvider()).map(Id);await w5(r,e,n);let c=r;a.push(`m/${C5(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let f=e?.customUserAgent?.map(Id)||[],m=await e.userAgentAppId();m&&a.push(Id(["app",`${m}`]));let p=y5.getUserAgentPrefix(),E=(p?[p]:[]).concat([...a,...i,...f]).join(QP),y=[...a.filter(w=>w.startsWith("aws-sdk-")),...f].join(QP);return e.runtime!=="browser"?(y&&(s[hb]=s[hb]?`${s[XP]} ${y}`:y),s[XP]=E):s[hb]=E,t({...n,request:o})},Id=e=>{let t=e[0].split(gb).map(i=>i.replace(_5,JP)).join(gb),r=e[1]?.replace(x5,JP),n=t.indexOf(gb),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},tN={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},A5=e=>({applyToStack:t=>{t.add(eN(e),tN)}});Ii.DEFAULT_UA_APP_ID=ZP;Ii.getUserAgentMiddlewareOptions=tN;Ii.getUserAgentPlugin=A5;Ii.resolveUserAgentConfig=b5;Ii.userAgentMiddleware=eN});var rN=$(Ci=>{"use strict";d();var R5=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},v5=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};Ci.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ci.SelectorType||(Ci.SelectorType={}));Ci.booleanSelector=R5;Ci.numberSelector=v5});var qt=$(dt=>{"use strict";d();var Io=rN(),Cd=mt(),P5=ao(),sN="AWS_USE_DUALSTACK_ENDPOINT",iN="use_dualstack_endpoint",N5=!1,D5={environmentVariableSelector:e=>Io.booleanSelector(e,sN,Io.SelectorType.ENV),configFileSelector:e=>Io.booleanSelector(e,iN,Io.SelectorType.CONFIG),default:!1},aN="AWS_USE_FIPS_ENDPOINT",cN="use_fips_endpoint",O5=!1,$5={environmentVariableSelector:e=>Io.booleanSelector(e,aN,Io.SelectorType.ENV),configFileSelector:e=>Io.booleanSelector(e,cN,Io.SelectorType.CONFIG),default:!1},k5=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:Cd.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:Cd.normalizeProvider(o??!1)})},L5=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},M5=e=>{let t=Cd.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?Cd.normalizeProvider(typeof r=="string"?o(r):r):()=>L5({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},uN="AWS_REGION",lN="region",U5={environmentVariableSelector:e=>e[uN],configFileSelector:e=>e[lN],default:()=>{throw new Error("Region is missing")}},B5={preferredFile:"credentials"},nN=new Set,F5=(e,t=P5.isValidHostLabel)=>{if(!nN.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else nN.add(e)},dN=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),H5=e=>dN(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,j5=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,o=H5(n);return F5(o),o},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return dN(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},oN=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,q5=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),z5=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",G5=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},V5=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=z5(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},f=oN(o[a]?.variants,c),m=oN(s[i]?.variants,c),p=q5(a,{regionHostname:f,partitionHostname:m});if(p===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let E=G5(p,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:p,...E&&{signingRegion:E},...o[a]?.signingService&&{signingService:o[a].signingService}}};dt.CONFIG_USE_DUALSTACK_ENDPOINT=iN;dt.CONFIG_USE_FIPS_ENDPOINT=cN;dt.DEFAULT_USE_DUALSTACK_ENDPOINT=N5;dt.DEFAULT_USE_FIPS_ENDPOINT=O5;dt.ENV_USE_DUALSTACK_ENDPOINT=sN;dt.ENV_USE_FIPS_ENDPOINT=aN;dt.NODE_REGION_CONFIG_FILE_OPTIONS=B5;dt.NODE_REGION_CONFIG_OPTIONS=U5;dt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=D5;dt.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=$5;dt.REGION_ENV_NAME=uN;dt.REGION_INI_NAME=lN;dt.getRegionInfo=V5;dt.resolveCustomEndpointsConfig=k5;dt.resolveEndpointsConfig=M5;dt.resolveRegionConfig=j5});var Ai=$(Ad=>{"use strict";d();var W5=Ne(),fN="content-length";function pN(e){return t=>async r=>{let n=r.request;if(W5.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(fN)===-1)try{let i=e(o);n.headers={...n.headers,[fN]:String(i)}}catch{}}return t({...r,request:n})}}var mN={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},K5=e=>({applyToStack:t=>{t.add(pN(e.bodyLengthChecker),mN)}});Ad.contentLengthMiddleware=pN;Ad.contentLengthMiddlewareOptions=mN;Ad.getContentLengthPlugin=K5});var Sb=$(Rd=>{"use strict";d();Object.defineProperty(Rd,"__esModule",{value:!0});Rd.getHomeDir=void 0;var Y5=ne("os"),X5=ne("path"),yb={},Q5=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",J5=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${X5.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=Q5();return yb[o]||(yb[o]=(0,Y5.homedir)()),yb[o]};Rd.getHomeDir=J5});var Eb=$(vd=>{"use strict";d();Object.defineProperty(vd,"__esModule",{value:!0});vd.getSSOTokenFilepath=void 0;var Z5=ne("crypto"),e9=ne("path"),t9=Sb(),r9=e=>{let r=(0,Z5.createHash)("sha1").update(e).digest("hex");return(0,e9.join)((0,t9.getHomeDir)(),".aws","sso","cache",`${r}.json`)};vd.getSSOTokenFilepath=r9});var hN=$(Co=>{"use strict";d();Object.defineProperty(Co,"__esModule",{value:!0});Co.getSSOTokenFromFile=Co.tokenIntercept=void 0;var n9=ne("fs/promises"),o9=Eb();Co.tokenIntercept={};var s9=async e=>{if(Co.tokenIntercept[e])return Co.tokenIntercept[e];let t=(0,o9.getSSOTokenFilepath)(e),r=await(0,n9.readFile)(t,"utf8");return JSON.parse(r)};Co.getSSOTokenFromFile=s9});var gN=$(Qt=>{"use strict";d();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.readFile=Qt.fileIntercept=Qt.filePromises=void 0;var i9=ne("node:fs/promises");Qt.filePromises={};Qt.fileIntercept={};var a9=(e,t)=>Qt.fileIntercept[e]!==void 0?Qt.fileIntercept[e]:((!Qt.filePromises[e]||t?.ignoreCache)&&(Qt.filePromises[e]=(0,i9.readFile)(e,"utf8")),Qt.filePromises[e]);Qt.readFile=a9});var qr=$(Ot=>{"use strict";d();var oc=Sb(),yN=Eb(),bb=hN(),Pd=ne("path"),Nd=Zn(),Ri=gN(),EN="AWS_PROFILE",bN="default",c9=e=>e.profile||process.env[EN]||bN,_s=".",u9=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(_s);return r===-1?!1:Object.values(Nd.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(_s),s=r.substring(0,o)===Nd.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),l9="AWS_CONFIG_FILE",TN=()=>process.env[l9]||Pd.join(oc.getHomeDir(),".aws","config"),d9="AWS_SHARED_CREDENTIALS_FILE",f9=()=>process.env[d9]||Pd.join(oc.getHomeDir(),".aws","credentials"),p9=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,m9=["__proto__","profile __proto__"],Tb=e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=p9.exec(a);if(c){let[,f,,m]=c;Object.values(Nd.IniSectionType).includes(f)&&(r=[f,m].join(_s))}else r=a;if(m9.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,f]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(f==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let m=n?[n,c].join(_s):c;t[r][m]=f}}}}return t},SN=()=>({}),wN=async(e={})=>{let{filepath:t=f9(),configFilepath:r=TN()}=e,n=oc.getHomeDir(),o="~/",s=t;t.startsWith(o)&&(s=Pd.join(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=Pd.join(n,r.slice(2)));let a=await Promise.all([Ri.readFile(i,{ignoreCache:e.ignoreCache}).then(Tb).then(u9).catch(SN),Ri.readFile(s,{ignoreCache:e.ignoreCache}).then(Tb).catch(SN)]);return{configFile:a[0],credentialsFile:a[1]}},h9=e=>Object.entries(e).filter(([t])=>t.startsWith(Nd.IniSectionType.SSO_SESSION+_s)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(_s)+1)]:n}),{}),g9=()=>({}),y9=async(e={})=>Ri.readFile(e.configFilepath??TN()).then(Tb).then(h9).catch(g9),S9=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},E9=async e=>{let t=await wN(e);return S9(t.configFile,t.credentialsFile)},b9={getFileRecord(){return Ri.fileIntercept},interceptFile(e,t){Ri.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return bb.tokenIntercept},interceptToken(e,t){bb.tokenIntercept[e]=t}};Object.defineProperty(Ot,"getSSOTokenFromFile",{enumerable:!0,get:function(){return bb.getSSOTokenFromFile}});Object.defineProperty(Ot,"readFile",{enumerable:!0,get:function(){return Ri.readFile}});Ot.CONFIG_PREFIX_SEPARATOR=_s;Ot.DEFAULT_PROFILE=bN;Ot.ENV_PROFILE=EN;Ot.externalDataInterceptor=b9;Ot.getProfileName=c9;Ot.loadSharedConfigFiles=wN;Ot.loadSsoSessionData=y9;Ot.parseKnownFiles=E9;Object.keys(oc).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ot,e)&&Object.defineProperty(Ot,e,{enumerable:!0,get:function(){return oc[e]}})});Object.keys(yN).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ot,e)&&Object.defineProperty(Ot,e,{enumerable:!0,get:function(){return yN[e]}})})});var zr=$(IN=>{"use strict";d();var sc=St(),_N=qr();function xN(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var T9=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new sc.CredentialsProviderError(r.message||`Not found in ENV: ${xN(e.toString())}`,{logger:t?.logger})}},w9=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=_N.getProfileName(r),{configFile:o,credentialsFile:s}=await _N.loadSharedConfigFiles(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let m=e(c,t==="config"?o:s);if(m===void 0)throw new Error;return m}catch(f){throw new sc.CredentialsProviderError(f.message||`Not found in config files w/ profile [${n}]: ${xN(e.toString())}`,{logger:r.logger})}},_9=e=>typeof e=="function",x9=e=>_9(e)?async()=>await e():sc.fromStatic(e),I9=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return sc.memoize(sc.chain(T9(e,i),w9(t,n),x9(r)))};IN.loadConfig=I9});var vN=$(Dd=>{"use strict";d();Object.defineProperty(Dd,"__esModule",{value:!0});Dd.getEndpointUrlConfig=void 0;var CN=qr(),AN="AWS_ENDPOINT_URL",RN="endpoint_url",C9=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[AN,...r].join("_")];if(n)return n;let o=t[AN];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(CN.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),RN].join(CN.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[RN];if(n)return n},default:void 0});Dd.getEndpointUrlConfig=C9});var PN=$(Od=>{"use strict";d();Object.defineProperty(Od,"__esModule",{value:!0});Od.getEndpointFromConfig=void 0;var A9=zr(),R9=vN(),v9=async e=>(0,A9.loadConfig)((0,R9.getEndpointUrlConfig)(e??""))();Od.getEndpointFromConfig=v9});var Gr=$(Rn=>{"use strict";d();var DN=PN(),NN=bn(),P9=(Nt(),ue(li)),$d=mt(),N9=Py(),D9=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),M9(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!L9(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},O9=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,$9=/(\d+\.){3}\d+/,k9=/\.\./,L9=e=>O9.test(e)&&!$9.test(e)&&!k9.test(e),M9=e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},U9=(e,t,r,n=!1)=>{let o=async()=>{let s;return n?s=r.clientContextParams?.[e]??r[e]??r[t]:s=r[e]??r[t],typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await o();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:a,port:c,path:f}=s;return`${i}//${a}${c?":"+c:""}${f}`}}return s}:o},wb=e=>typeof e=="object"?"url"in e?NN.parseUrl(e.url):e:NN.parseUrl(e),ON=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await DN.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(wb(i)),r.isCustomEndpoint=!0)}let o=await $N(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},$N=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await U9(i.name,s,r,i.type!=="builtInParams")();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await D9(n),n},kN=({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&P9.setFeature(n,"ENDPOINT_OVERRIDE","N");let s=await ON(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=$d.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},LN={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:N9.serializerMiddlewareOption.name},B9=(e,t)=>({applyToStack:r=>{r.addRelativeTo(kN({config:e,instructions:t}),LN)}}),F9=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>wb(await $d.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:$d.normalizeProvider(n??!1),useFipsEndpoint:$d.normalizeProvider(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=DN.getEndpointFromConfig(e.serviceId)),c),a},H9=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Rn.endpointMiddleware=kN;Rn.endpointMiddlewareOptions=LN;Rn.getEndpointFromInstructions=ON;Rn.getEndpointPlugin=B9;Rn.resolveEndpointConfig=F9;Rn.resolveEndpointRequiredConfig=H9;Rn.resolveParams=$N;Rn.toEndpointV1=wb});var xb=$(Ao=>{"use strict";d();var j9=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],q9=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],z9=["TimeoutError","RequestTimeout","RequestTimeoutException"],G9=[500,502,503,504],V9=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],W9=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],MN=e=>e?.$retryable!==void 0,K9=e=>j9.includes(e.name),UN=e=>e.$metadata?.clockSkewCorrected,BN=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},Y9=e=>e.$metadata?.httpStatusCode===429||q9.includes(e.name)||e.$retryable?.throttling==!0,_b=(e,t=0)=>MN(e)||UN(e)||z9.includes(e.name)||V9.includes(e?.code||"")||W9.includes(e?.code||"")||G9.includes(e.$metadata?.httpStatusCode||0)||BN(e)||e.cause!==void 0&&t<=10&&_b(e.cause,t+1),X9=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!_b(e)}return!1};Ao.isBrowserNetworkError=BN;Ao.isClockSkewCorrectedError=UN;Ao.isClockSkewError=K9;Ao.isRetryableByTrait=MN;Ao.isServerError=X9;Ao.isThrottlingError=Y9;Ao.isTransientError=_b});var xs=$(ze=>{"use strict";d();var Q9=xb();ze.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(ze.RETRY_MODES||(ze.RETRY_MODES={}));var Ib=3,J9=ze.RETRY_MODES.STANDARD,kd=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Q9.isThrottlingError(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},ic=100,vb=20*1e3,HN=500,Cb=500,jN=5,qN=10,zN=1,Z9="amz-sdk-invocation-id",eY="amz-sdk-request",tY=()=>{let e=ic;return{computeNextBackoffDelay:n=>Math.floor(Math.min(vb,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},FN=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(vb,e),getRetryCost:()=>r}),ac=class{maxAttempts;mode=ze.RETRY_MODES.STANDARD;capacity=Cb;retryBackoffStrategy=tY();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return FN({retryDelay:ic,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?HN:ic);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,FN({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Cb,this.capacity+(t.getRetryCost()??zN))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ib}`),Ib}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?qN:jN}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},Ab=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=ze.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new kd,this.standardRetryStrategy=new ac(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},Rb=class extends ac{computeNextBackoffDelay;constructor(t,r=ic){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};ze.AdaptiveRetryStrategy=Ab;ze.ConfiguredRetryStrategy=Rb;ze.DEFAULT_MAX_ATTEMPTS=Ib;ze.DEFAULT_RETRY_DELAY_BASE=ic;ze.DEFAULT_RETRY_MODE=J9;ze.DefaultRateLimiter=kd;ze.INITIAL_RETRY_TOKENS=Cb;ze.INVOCATION_ID_HEADER=Z9;ze.MAXIMUM_RETRY_DELAY=vb;ze.NO_RETRY_INCREMENT=zN;ze.REQUEST_HEADER=eY;ze.RETRY_COST=jN;ze.StandardRetryStrategy=ac;ze.THROTTLING_RETRY_DELAY_BASE=HN;ze.TIMEOUT_RETRY_COST=qN});var GN=$(Ld=>{"use strict";d();Object.defineProperty(Ld,"__esModule",{value:!0});Ld.isStreamingPayload=void 0;var rY=ne("stream"),nY=e=>e?.body instanceof rY.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Ld.isStreamingPayload=nY});var _r=$(tt=>{"use strict";d();var qe=xs(),vi=Ne(),Ro=xb(),WN=kl(),VN=mt(),oY=he(),sY=GN(),iY=(e,t)=>{let r=e,n=qe.NO_RETRY_INCREMENT,o=qe.RETRY_COST,s=qe.TIMEOUT_RETRY_COST,i=e,a=p=>p.name==="TimeoutError"?s:o,c=p=>a(p)<=i;return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:p=>{if(!c(p))throw new Error("No retry token available");let E=a(p);return i-=E,E},releaseRetryTokens:p=>{i+=p??n,i=Math.min(i,r)}})},KN=(e,t)=>Math.floor(Math.min(qe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),YN=e=>e?Ro.isRetryableByTrait(e)||Ro.isClockSkewError(e)||Ro.isThrottlingError(e)||Ro.isTransientError(e):!1,XN=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Md=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=qe.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??YN,this.delayDecider=r?.delayDecider??KN,this.retryQuota=r?.retryQuota??iY(qe.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=qe.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(vi.HttpRequest.isInstance(c)&&(c.headers[qe.INVOCATION_ID_HEADER]=WN.v4());;)try{vi.HttpRequest.isInstance(c)&&(c.headers[qe.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:f,output:m}=await t(r);return n?.afterRequest&&n.afterRequest(f),this.retryQuota.releaseRetryTokens(o),m.$metadata.attempts=s+1,m.$metadata.totalRetryDelay=i,{response:f,output:m}}catch(f){let m=XN(f);if(s++,this.shouldRetry(m,s,a)){o=this.retryQuota.retrieveRetryTokens(m);let p=this.delayDecider(Ro.isThrottlingError(m)?qe.THROTTLING_RETRY_DELAY_BASE:qe.DEFAULT_RETRY_DELAY_BASE,s),E=aY(m.$response),y=Math.max(E||0,p);i+=y,await new Promise(w=>setTimeout(w,y));continue}throw m.$metadata||(m.$metadata={}),m.$metadata.attempts=s,m.$metadata.totalRetryDelay=i,m}}},aY=e=>{if(!vi.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Pb=class extends Md{rateLimiter;constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new qe.DefaultRateLimiter,this.mode=qe.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Nb="AWS_MAX_ATTEMPTS",Db="max_attempts",cY={environmentVariableSelector:e=>{let t=e[Nb];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Nb} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Db];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Db} mast be a number, got "${t}"`);return r},default:qe.DEFAULT_MAX_ATTEMPTS},uY=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=VN.normalizeProvider(n??qe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await VN.normalizeProvider(r)()===qe.RETRY_MODES.ADAPTIVE?new qe.AdaptiveRetryStrategy(o):new qe.StandardRetryStrategy(o))})},QN="AWS_RETRY_MODE",JN="retry_mode",lY={environmentVariableSelector:e=>e[QN],configFileSelector:e=>e[JN],default:qe.DEFAULT_RETRY_MODE},ZN=()=>e=>async t=>{let{request:r}=t;return vi.HttpRequest.isInstance(r)&&(delete r.headers[qe.INVOCATION_ID_HEADER],delete r.headers[qe.REQUEST_HEADER]),e(t)},eD={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},dY=e=>({applyToStack:t=>{t.addRelativeTo(ZN(),eD)}}),tD=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(fY(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,f=0,{request:m}=n,p=vi.HttpRequest.isInstance(m);for(p&&(m.headers[qe.INVOCATION_ID_HEADER]=WN.v4());;)try{p&&(m.headers[qe.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:E,output:y}=await t(n);return o.recordSuccess(i),y.$metadata.attempts=c+1,y.$metadata.totalRetryDelay=f,{response:E,output:y}}catch(E){let y=pY(E);if(a=XN(E),p&&sY.isStreamingPayload(m))throw(r.logger instanceof oY.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,y)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=f,a}c=i.getRetryCount();let w=i.getRetryDelay();f+=w,await new Promise(C=>setTimeout(C,w))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},fY=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",pY=e=>{let t={error:e,errorType:mY(e)},r=nD(e.$response);return r&&(t.retryAfterHint=r),t},mY=e=>Ro.isThrottlingError(e)?"THROTTLING":Ro.isTransientError(e)?"TRANSIENT":Ro.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",rD={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},hY=e=>({applyToStack:t=>{t.add(tD(e),rD)}}),nD=e=>{if(!vi.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};tt.AdaptiveRetryStrategy=Pb;tt.CONFIG_MAX_ATTEMPTS=Db;tt.CONFIG_RETRY_MODE=JN;tt.ENV_MAX_ATTEMPTS=Nb;tt.ENV_RETRY_MODE=QN;tt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=cY;tt.NODE_RETRY_MODE_CONFIG_OPTIONS=lY;tt.StandardRetryStrategy=Md;tt.defaultDelayDecider=KN;tt.defaultRetryDecider=YN;tt.getOmitRetryHeadersPlugin=dY;tt.getRetryAfterHint=nD;tt.getRetryPlugin=hY;tt.omitRetryHeadersMiddleware=ZN;tt.omitRetryHeadersMiddlewareOptions=eD;tt.resolveRetryConfig=uY;tt.retryMiddleware=tD;tt.retryMiddlewareOptions=rD});var $b=$(vo=>{"use strict";d();Object.defineProperty(vo,"__esModule",{value:!0});vo.resolveHttpAuthSchemeConfig=vo.defaultDynamoDBHttpAuthSchemeProvider=vo.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var gY=(lt(),ue(xo)),Ob=mt(),yY=async(e,t,r)=>({operation:(0,Ob.getSmithyContext)(t).operation,region:await(0,Ob.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});vo.defaultDynamoDBHttpAuthSchemeParametersProvider=yY;function SY(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var EY=e=>{let t=[];switch(e.operation){default:t.push(SY(e))}return t};vo.defaultDynamoDBHttpAuthSchemeProvider=EY;var bY=e=>{let t=(0,gY.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Ob.normalizeProvider)(e.authSchemePreference??[])})};vo.resolveHttpAuthSchemeConfig=bY});var oD=$((PIe,TY)=>{TY.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.957.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.957.0","@aws-sdk/dynamodb-codec":"3.957.0","@aws-sdk/middleware-endpoint-discovery":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var kb=$(Po=>{"use strict";d();var wY=(ar(),ue(Tn)),_Y=St(),sD="AWS_ACCESS_KEY_ID",iD="AWS_SECRET_ACCESS_KEY",aD="AWS_SESSION_TOKEN",cD="AWS_CREDENTIAL_EXPIRATION",uD="AWS_CREDENTIAL_SCOPE",lD="AWS_ACCOUNT_ID",xY=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[sD],r=process.env[iD],n=process.env[aD],o=process.env[cD],s=process.env[uD],i=process.env[lD];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return wY.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new _Y.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};Po.ENV_ACCOUNT_ID=lD;Po.ENV_CREDENTIAL_SCOPE=uD;Po.ENV_EXPIRATION=cD;Po.ENV_KEY=sD;Po.ENV_SECRET=iD;Po.ENV_SESSION=aD;Po.fromEnv=xY});var uc=$(bt=>{"use strict";d();var Vr=St(),IY=ne("url"),CY=ne("buffer"),AY=ne("http"),Fb=zr(),RY=bn();function cc(e){return new Promise((t,r)=>{let n=AY.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Vr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Vr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new Vr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(CY.Buffer.concat(i)),n.destroy()})}),n.end()})}var mD=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",hD=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),gD=1e3,yD=0,Hb=({maxRetries:e=yD,timeout:t=gD})=>({maxRetries:e,timeout:t}),Mb=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},Ud="AWS_CONTAINER_CREDENTIALS_FULL_URI",Bd="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Ub="AWS_CONTAINER_AUTHORIZATION_TOKEN",vY=(e={})=>{let{timeout:t,maxRetries:r}=Hb(e);return()=>Mb(async()=>{let n=await $Y({logger:e.logger}),o=JSON.parse(await PY(t,n));if(!mD(o))throw new Vr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return hD(o)},r)},PY=async(e,t)=>(process.env[Ub]&&(t.headers={...t.headers,Authorization:process.env[Ub]}),(await cc({...t,timeout:e})).toString()),NY="169.254.170.2",DY={localhost:!0,"127.0.0.1":!0},OY={"http:":!0,"https:":!0},$Y=async({logger:e})=>{if(process.env[Bd])return{hostname:NY,path:process.env[Bd]};if(process.env[Ud]){let t=IY.parse(process.env[Ud]);if(!t.hostname||!(t.hostname in DY))throw new Vr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in OY))throw new Vr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Vr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Bd} or ${Ud} environment variable is set`,{tryNextLink:!1,logger:e})},Bb=class e extends Vr.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};bt.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(bt.Endpoint||(bt.Endpoint={}));var kY="AWS_EC2_METADATA_SERVICE_ENDPOINT",LY="ec2_metadata_service_endpoint",MY={environmentVariableSelector:e=>e[kY],configFileSelector:e=>e[LY],default:void 0},Pi;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Pi||(Pi={}));var UY="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",BY="ec2_metadata_service_endpoint_mode",FY={environmentVariableSelector:e=>e[UY],configFileSelector:e=>e[BY],default:Pi.IPv4},SD=async()=>RY.parseUrl(await HY()||await jY()),HY=async()=>Fb.loadConfig(MY)(),jY=async()=>{let e=await Fb.loadConfig(FY)();switch(e){case Pi.IPv4:return bt.Endpoint.IPv4;case Pi.IPv6:return bt.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Pi)}`)}},qY=300,zY=300,GY="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",dD=(e,t)=>{let r=qY+Math.floor(Math.random()*zY),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+GY);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},VY=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=dD(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=dD(n,r);else throw s}return n=o,o}},ED="/latest/meta-data/iam/security-credentials/",WY="/latest/api/token",Lb="AWS_EC2_METADATA_V1_DISABLED",fD="ec2_metadata_v1_disabled",pD="x-aws-ec2-metadata-token",KY=(e={})=>VY(YY(e),{logger:e.logger}),YY=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=Hb(e),i=async(a,c)=>{if(t||c.headers?.[pD]==null){let p=!1,E=!1,y=await Fb.loadConfig({environmentVariableSelector:w=>{let C=w[Lb];if(E=!!C&&C!=="false",C===void 0)throw new Vr.CredentialsProviderError(`${Lb} not set in env, checking config file next.`,{logger:e.logger});return E},configFileSelector:w=>{let C=w[fD];return p=!!C&&C!=="false",p},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||y){let w=[];throw e.ec2MetadataV1Disabled&&w.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),p&&w.push(`config file profile (${fD})`),E&&w.push(`process environment variable (${Lb})`),new Bb(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${w.join(", ")}].`)}}let m=(await Mb(async()=>{let p;try{p=await QY(c)}catch(E){throw E.statusCode===401&&(t=!1),E}return p},a)).trim();return Mb(async()=>{let p;try{p=await JY(m,c,e)}catch(E){throw E.statusCode===401&&(t=!1),E}return p},a)};return async()=>{let a=await SD();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await XY({...a,timeout:o})).toString()}catch(f){if(f?.statusCode===400)throw Object.assign(f,{message:"EC2 Metadata token request returned error"});return(f.message==="TimeoutError"||[403,404,405].includes(f.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[pD]:c},timeout:o})}}},XY=async e=>cc({...e,path:WY,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),QY=async e=>(await cc({...e,path:ED})).toString(),JY=async(e,t,r)=>{let n=JSON.parse((await cc({...t,path:ED+e})).toString());if(!mD(n))throw new Vr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return hD(n)};bt.DEFAULT_MAX_RETRIES=yD;bt.DEFAULT_TIMEOUT=gD;bt.ENV_CMDS_AUTH_TOKEN=Ub;bt.ENV_CMDS_FULL_URI=Ud;bt.ENV_CMDS_RELATIVE_URI=Bd;bt.fromContainerMetadata=vY;bt.fromInstanceMetadata=KY;bt.getInstanceMetadataEndpoint=SD;bt.httpRequest=cc;bt.providerConfigFromInit=Hb});var bD=$(Fd=>{"use strict";d();Object.defineProperty(Fd,"__esModule",{value:!0});Fd.checkUrl=void 0;var ZY=St(),eX="169.254.170.2",tX="169.254.170.23",rX="[fd00:ec2::23]",nX=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===eX||e.hostname===tX||e.hostname===rX)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new ZY.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Fd.checkUrl=nX});var TD=$(Hd=>{"use strict";d();Object.defineProperty(Hd,"__esModule",{value:!0});Hd.createGetRequest=aX;Hd.getCredentials=cX;var jb=St(),oX=Ne(),sX=he(),iX=Sl();function aX(e){return new oX.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function cX(e,t){let n=await(0,iX.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new jb.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,sX.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new jb.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new jb.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var wD=$(jd=>{"use strict";d();Object.defineProperty(jd,"__esModule",{value:!0});jd.retryWrapper=void 0;var uX=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};jd.retryWrapper=uX});var ID=$(qd=>{"use strict";d();Object.defineProperty(qd,"__esModule",{value:!0});qd.fromHttp=void 0;var lX=(Ga(),ue(za)),dX=(ar(),ue(Tn)),fX=oo(),_D=St(),pX=lX.__importDefault(ne("fs/promises")),mX=bD(),xD=TD(),hX=wD(),gX="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",yX="http://169.254.170.2",SX="AWS_CONTAINER_CREDENTIALS_FULL_URI",EX="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",bX="AWS_CONTAINER_AUTHORIZATION_TOKEN",TX=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[gX],n=e.awsContainerCredentialsFullUri??process.env[SX],o=e.awsContainerAuthorizationToken??process.env[bX],s=e.awsContainerAuthorizationTokenFile??process.env[EX],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${yX}${r}`;else throw new _D.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,mX.checkUrl)(a,e.logger);let c=fX.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,hX.retryWrapper)(async()=>{let f=(0,xD.createGetRequest)(a);o?f.headers.Authorization=o:s&&(f.headers.Authorization=(await pX.default.readFile(s)).toString());try{let m=await c.handle(f);return(0,xD.getCredentials)(m.response).then(p=>(0,dX.setCredentialFeature)(p,"CREDENTIALS_HTTP","z"))}catch(m){throw new _D.CredentialsProviderError(String(m),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};qd.fromHttp=TX});var qb=$(zd=>{"use strict";d();Object.defineProperty(zd,"__esModule",{value:!0});zd.fromHttp=void 0;var wX=ID();Object.defineProperty(zd,"fromHttp",{enumerable:!0,get:function(){return wX.fromHttp}})});function _X(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function xX(e){return{schemeId:"smithy.api#noAuth"}}var lc,CD,AD,RD,zb=I(()=>{d();lt();lc=N(mt()),CD=async(e,t,r)=>({operation:(0,lc.getSmithyContext)(t).operation,region:await(0,lc.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});AD=e=>{let t=[];return e.operation==="CreateToken"?t.push(xX(e)):t.push(_X(e)),t},RD=e=>{let t=wn(e);return Object.assign(t,{authSchemePreference:(0,lc.normalizeProvider)(e.authSchemePreference??[])})}});var vD,PD,Gb=I(()=>{d();vD=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),PD={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Ni,Gd=I(()=>{Ni={name:"@aws-sdk/nested-clients",version:"3.957.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var Di=$(Is=>{"use strict";d();var ND=ne("os"),Vb=ne("process"),CX=ws(),DD={isCrtAvailable:!1},AX=()=>DD.isCrtAvailable?["md/crt-avail"]:null,OD=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${ND.platform()}`,ND.release()],["lang/js"],["md/nodejs",`${Vb.versions.node}`]],o=AX();o&&n.push(o),e&&n.push([`api/${e}`,t]),Vb.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Vb.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},RX=OD,$D="AWS_SDK_UA_APP_ID",kD="sdk_ua_app_id",vX="sdk-ua-app-id",PX={environmentVariableSelector:e=>e[$D],configFileSelector:e=>e[kD]??e[vX],default:CX.DEFAULT_UA_APP_ID};Is.NODE_APP_ID_CONFIG_OPTIONS=PX;Is.UA_APP_ID_ENV_NAME=$D;Is.UA_APP_ID_INI_NAME=kD;Is.createDefaultUserAgentProvider=OD;Is.crtAvailability=DD;Is.defaultUserAgent=RX});var Oi=$(UD=>{"use strict";d();var Wb=ti(),NX=nt(),DX=ne("buffer"),LD=ne("crypto"),Kb=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(NX.toUint8Array(MD(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?LD.createHmac(this.algorithmIdentifier,MD(this.secret)):LD.createHash(this.algorithmIdentifier)}};function MD(e,t){return DX.Buffer.isBuffer(e)?e:typeof e=="string"?Wb.fromString(e,t):ArrayBuffer.isView(e)?Wb.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Wb.fromArrayBuffer(e)}UD.Hash=Kb});var $i=$(BD=>{"use strict";d();var Yb=ne("node:fs"),OX=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof Yb.ReadStream){if(e.path!=null)return Yb.lstatSync(e.path).size;if(typeof e.fd=="number")return Yb.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};BD.calculateBodyLength=OX});var ki=$(qD=>{"use strict";d();var $X=qt(),FD=zr(),kX=St(),LX="AWS_EXECUTION_ENV",HD="AWS_REGION",jD="AWS_DEFAULT_REGION",MX="AWS_EC2_METADATA_DISABLED",UX=["in-region","cross-region","mobile","standard","legacy"],BX="/latest/meta-data/placement/region",FX="AWS_DEFAULTS_MODE",HX="defaults_mode",jX={environmentVariableSelector:e=>e[FX],configFileSelector:e=>e[HX],default:"legacy"},qX=({region:e=FD.loadConfig($X.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=FD.loadConfig(jX)}={})=>kX.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return zX(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${UX.join(", ")}, got ${r}`)}}),zX=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await GX();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},GX=async()=>{if(process.env[LX]&&(process.env[HD]||process.env[jD]))return process.env[HD]??process.env[jD];if(!process.env[MX])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>N(uc())),r=await e();return(await t({...r,path:BX})).toString()}catch{}};qD.resolveDefaultsModeConfig=qX});var ZD,lr,zD,dc,Li,Mi,vn,Xb,Qb,GD,VD,WD,eO,tO,ur,KD,rO,YD,XD,QD,JD,VX,nO,oO=I(()=>{d();ZD="required",lr="argv",zD="isSet",dc="booleanEquals",Li="error",Mi="endpoint",vn="tree",Xb="PartitionResult",Qb="getAttr",GD={[ZD]:!1,type:"string"},VD={[ZD]:!0,default:!1,type:"boolean"},WD={ref:"Endpoint"},eO={fn:dc,[lr]:[{ref:"UseFIPS"},!0]},tO={fn:dc,[lr]:[{ref:"UseDualStack"},!0]},ur={},KD={fn:Qb,[lr]:[{ref:Xb},"supportsFIPS"]},rO={ref:Xb},YD={fn:dc,[lr]:[!0,{fn:Qb,[lr]:[rO,"supportsDualStack"]}]},XD=[eO],QD=[tO],JD=[{ref:"Region"}],VX={version:"1.0",parameters:{Region:GD,UseDualStack:VD,UseFIPS:VD,Endpoint:GD},rules:[{conditions:[{fn:zD,[lr]:[WD]}],rules:[{conditions:XD,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Li},{conditions:QD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Li},{endpoint:{url:WD,properties:ur,headers:ur},type:Mi}],type:vn},{conditions:[{fn:zD,[lr]:JD}],rules:[{conditions:[{fn:"aws.partition",[lr]:JD,assign:Xb}],rules:[{conditions:[eO,tO],rules:[{conditions:[{fn:dc,[lr]:[!0,KD]},YD],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ur,headers:ur},type:Mi}],type:vn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Li}],type:vn},{conditions:XD,rules:[{conditions:[{fn:dc,[lr]:[KD,!0]}],rules:[{conditions:[{fn:"stringEquals",[lr]:[{fn:Qb,[lr]:[rO,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:ur,headers:ur},type:Mi},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ur,headers:ur},type:Mi}],type:vn},{error:"FIPS is enabled but this partition does not support FIPS",type:Li}],type:vn},{conditions:QD,rules:[{conditions:[YD],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ur,headers:ur},type:Mi}],type:vn},{error:"DualStack is enabled but this partition does not support DualStack",type:Li}],type:vn},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:ur,headers:ur},type:Mi}],type:vn}],type:vn},{error:"Invalid Configuration: Missing Region",type:Li}]},nO=VX});var sO,Ui,WX,iO,aO=I(()=>{d();sO=N(ys()),Ui=N(ao());oO();WX=new Ui.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),iO=(e,t={})=>WX.get(e,()=>(0,Ui.resolveEndpoint)(nO,{endpointParams:e,logger:t.logger}));Ui.customEndpointFunctions.aws=sO.awsEndpointFunctions});var cO,uO,Vd,Wd,lO,dO=I(()=>{d();lt();Ts();Nt();cO=N(he()),uO=N(bn()),Vd=N(ot()),Wd=N(nt());zb();aO();lO=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Vd.fromBase64,base64Encoder:e?.base64Encoder??Vd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??iO,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??AD,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new yt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Tr}],logger:e?.logger??new cO.NoOpLogger,protocol:e?.protocol??To,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??uO.parseUrl,utf8Decoder:e?.utf8Decoder??Wd.fromUtf8,utf8Encoder:e?.utf8Encoder??Wd.toUtf8})});var Kd,Do,fO,Yd,No,Xd,Qd,pO,mO,hO,gO,yO=I(()=>{d();Gd();lt();Kd=N(Di()),Do=N(qt()),fO=N(Oi()),Yd=N(_r()),No=N(zr()),Xd=N(oo()),Qd=N(he()),pO=N($i()),mO=N(ki()),hO=N(xs());dO();gO=e=>{(0,Qd.emitWarningIfUnsupportedVersion)(process.version);let t=(0,mO.resolveDefaultsModeConfig)(e),r=()=>t().then(Qd.loadConfigsForDefaultMode),n=lO(e);co(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,No.loadConfig)(lo,o),bodyLengthChecker:e?.bodyLengthChecker??pO.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Kd.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ni.version}),maxAttempts:e?.maxAttempts??(0,No.loadConfig)(Yd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,No.loadConfig)(Do.NODE_REGION_CONFIG_OPTIONS,{...Do.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Xd.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,No.loadConfig)({...Yd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||hO.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??fO.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Xd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,No.loadConfig)(Do.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,No.loadConfig)(Do.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,No.loadConfig)(Kd.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var EO=$(Bi=>{"use strict";d();Object.defineProperty(Bi,"__esModule",{value:!0});Bi.warning=void 0;Bi.stsRegionDefaultResolver=YX;var SO=qt(),KX=zr();function YX(e={}){return(0,KX.loadConfig)({...SO.NODE_REGION_CONFIG_OPTIONS,async default(){return Bi.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...SO.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}Bi.warning={silence:!1}});var Cs=$(Wr=>{"use strict";d();var bO=EO(),fc=qt(),XX=e=>({setRegion(t){e.region=t},region(){return e.region}}),QX=e=>({region:e.region()});Object.defineProperty(Wr,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return fc.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(Wr,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return fc.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(Wr,"REGION_ENV_NAME",{enumerable:!0,get:function(){return fc.REGION_ENV_NAME}});Object.defineProperty(Wr,"REGION_INI_NAME",{enumerable:!0,get:function(){return fc.REGION_INI_NAME}});Object.defineProperty(Wr,"resolveRegionConfig",{enumerable:!0,get:function(){return fc.resolveRegionConfig}});Wr.getAwsRegionExtensionConfiguration=XX;Wr.resolveAwsRegionExtensionConfiguration=QX;Object.keys(bO).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Wr,e)&&Object.defineProperty(Wr,e,{enumerable:!0,get:function(){return bO[e]}})})});var TO,wO,_O=I(()=>{d();TO=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},wO=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Jd,Zd,ef,xO,IO=I(()=>{d();Jd=N(Cs()),Zd=N(Ne()),ef=N(he());_O();xO=(e,t)=>{let r=Object.assign((0,Jd.getAwsRegionExtensionConfiguration)(e),(0,ef.getDefaultExtensionConfiguration)(e),(0,Zd.getHttpHandlerExtensionConfiguration)(e),TO(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Jd.resolveAwsRegionExtensionConfiguration)(r),(0,ef.resolveDefaultRuntimeConfig)(r),(0,Zd.resolveHttpHandlerRuntimeConfig)(r),wO(r))}});var tf,CO,AO,rf,RO,vO,PO,nf,Jb,pc,Zb=I(()=>{d();tf=N(Qs()),CO=N(Js()),AO=N(Zs()),rf=N(ws()),RO=N(qt());Nt();xe();vO=N(Ai()),PO=N(Gr()),nf=N(_r()),Jb=N(he());zb();Gb();yO();IO();pc=class extends Jb.Client{config;constructor(...[t]){let r=gO(t||{});super(r),this.initConfig=r;let n=vD(r),o=(0,rf.resolveUserAgentConfig)(n),s=(0,nf.resolveRetryConfig)(o),i=(0,RO.resolveRegionConfig)(s),a=(0,tf.resolveHostHeaderConfig)(i),c=(0,PO.resolveEndpointConfig)(a),f=RD(c),m=xO(f,t?.extensions||[]);this.config=m,this.middlewareStack.use(us(this.config)),this.middlewareStack.use((0,rf.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,nf.getRetryPlugin)(this.config)),this.middlewareStack.use((0,vO.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,tf.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,CO.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,AO.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(as(this.config,{httpAuthSchemeParametersProvider:CD,identityProviderConfigProvider:async p=>new En({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(cs(this.config))}destroy(){super.destroy()}}});var NO,it,of=I(()=>{d();NO=N(he()),it=class e extends NO.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var mc,hc,gc,yc,Sc,Ec,bc,Tc,wc,_c,xc,eT=I(()=>{d();of();mc=class e extends it{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},hc=class e extends it{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},gc=class e extends it{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},yc=class e extends it{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Sc=class e extends it{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ec=class e extends it{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},bc=class e extends it{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Tc=class e extends it{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},wc=class e extends it{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},_c=class e extends it{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},xc=class e extends it{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var JX,ZX,eQ,tQ,rQ,nQ,oQ,sQ,iQ,aQ,cQ,uQ,lQ,dQ,fQ,pQ,mQ,hQ,gQ,yQ,Kr,SQ,EQ,bQ,TQ,wQ,Ge,_Q,xr,xQ,IQ,Ir,CQ,DO,OO,AQ,RQ,vQ,$O,PQ,Ce,NQ,DQ,OQ,$Q,kO,LO,MO,UO,BO,FO,HO,jO,qO,zO,GO,VO,WO,KO,YO,tT,rT=I(()=>{d();xe();eT();of();JX="AccessDeniedException",ZX="AuthorizationPendingException",eQ="AccessToken",tQ="ClientSecret",rQ="CreateToken",nQ="CreateTokenRequest",oQ="CreateTokenResponse",sQ="CodeVerifier",iQ="ExpiredTokenException",aQ="InvalidClientException",cQ="InvalidGrantException",uQ="InvalidRequestException",lQ="InternalServerException",dQ="InvalidScopeException",fQ="IdToken",pQ="RefreshToken",mQ="SlowDownException",hQ="UnauthorizedClientException",gQ="UnsupportedGrantTypeException",yQ="accessToken",Kr="client",SQ="clientId",EQ="clientSecret",bQ="codeVerifier",TQ="code",wQ="deviceCode",Ge="error",_Q="expiresIn",xr="error_description",xQ="grantType",IQ="http",Ir="httpError",CQ="idToken",DO="reason",OO="refreshToken",AQ="redirectUri",RQ="scope",vQ="server",$O="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",PQ="tokenType",Ce="com.amazonaws.ssooidc",NQ=[0,Ce,eQ,8,0],DQ=[0,Ce,tQ,8,0],OQ=[0,Ce,sQ,8,0],$Q=[0,Ce,fQ,8,0],kO=[0,Ce,pQ,8,0],LO=[-3,Ce,JX,{[Ge]:Kr,[Ir]:400},[Ge,DO,xr],[0,0,0]];oe.for(Ce).registerError(LO,mc);MO=[-3,Ce,ZX,{[Ge]:Kr,[Ir]:400},[Ge,xr],[0,0]];oe.for(Ce).registerError(MO,hc);UO=[3,Ce,nQ,0,[SQ,EQ,xQ,wQ,TQ,OO,RQ,AQ,bQ],[0,[()=>DQ,0],0,0,0,[()=>kO,0],64,0,[()=>OQ,0]]],BO=[3,Ce,oQ,0,[yQ,PQ,_Q,OO,CQ],[[()=>NQ,0],0,1,[()=>kO,0],[()=>$Q,0]]],FO=[-3,Ce,iQ,{[Ge]:Kr,[Ir]:400},[Ge,xr],[0,0]];oe.for(Ce).registerError(FO,gc);HO=[-3,Ce,lQ,{[Ge]:vQ,[Ir]:500},[Ge,xr],[0,0]];oe.for(Ce).registerError(HO,yc);jO=[-3,Ce,aQ,{[Ge]:Kr,[Ir]:401},[Ge,xr],[0,0]];oe.for(Ce).registerError(jO,Sc);qO=[-3,Ce,cQ,{[Ge]:Kr,[Ir]:400},[Ge,xr],[0,0]];oe.for(Ce).registerError(qO,Ec);zO=[-3,Ce,uQ,{[Ge]:Kr,[Ir]:400},[Ge,DO,xr],[0,0,0]];oe.for(Ce).registerError(zO,bc);GO=[-3,Ce,dQ,{[Ge]:Kr,[Ir]:400},[Ge,xr],[0,0]];oe.for(Ce).registerError(GO,Tc);VO=[-3,Ce,mQ,{[Ge]:Kr,[Ir]:400},[Ge,xr],[0,0]];oe.for(Ce).registerError(VO,wc);WO=[-3,Ce,hQ,{[Ge]:Kr,[Ir]:400},[Ge,xr],[0,0]];oe.for(Ce).registerError(WO,_c);KO=[-3,Ce,gQ,{[Ge]:Kr,[Ir]:400},[Ge,xr],[0,0]];oe.for(Ce).registerError(KO,xc);YO=[-3,$O,"SSOOIDCServiceException",0,[],[]];oe.for($O).registerError(YO,it);tT=[9,Ce,rQ,{[IQ]:["POST","/token",200]},()=>UO,()=>BO]});var XO,nT,Ic,oT=I(()=>{d();XO=N(Gr()),nT=N(he());Gb();rT();Ic=class extends nT.Command.classBuilder().ep(PD).m(function(t,r,n,o){return[(0,XO.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(tT).build(){}});var QO,kQ,sf,JO=I(()=>{d();QO=N(he());oT();Zb();kQ={CreateTokenCommand:Ic},sf=class extends pc{};(0,QO.createAggregatedClient)(kQ,sf)});var ZO=I(()=>{d();oT()});var LQ,MQ,e1=I(()=>{d();LQ={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},MQ={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var t1=I(()=>{d()});var sT={};Je(sT,{$Command:()=>nT.Command,AccessDeniedException:()=>mc,AccessDeniedException$:()=>LO,AccessDeniedExceptionReason:()=>LQ,AuthorizationPendingException:()=>hc,AuthorizationPendingException$:()=>MO,CreateToken$:()=>tT,CreateTokenCommand:()=>Ic,CreateTokenRequest$:()=>UO,CreateTokenResponse$:()=>BO,ExpiredTokenException:()=>gc,ExpiredTokenException$:()=>FO,InternalServerException:()=>yc,InternalServerException$:()=>HO,InvalidClientException:()=>Sc,InvalidClientException$:()=>jO,InvalidGrantException:()=>Ec,InvalidGrantException$:()=>qO,InvalidRequestException:()=>bc,InvalidRequestException$:()=>zO,InvalidRequestExceptionReason:()=>MQ,InvalidScopeException:()=>Tc,InvalidScopeException$:()=>GO,SSOOIDC:()=>sf,SSOOIDCClient:()=>pc,SSOOIDCServiceException:()=>it,SSOOIDCServiceException$:()=>YO,SlowDownException:()=>wc,SlowDownException$:()=>VO,UnauthorizedClientException:()=>_c,UnauthorizedClientException$:()=>WO,UnsupportedGrantTypeException:()=>xc,UnsupportedGrantTypeException$:()=>KO,__Client:()=>Jb.Client});var iT=I(()=>{d();Zb();JO();ZO();rT();e1();eT();t1();of()});var s1=$(Ac=>{"use strict";d();var UQ=(ar(),ue(Tn)),BQ=(CE(),ue(jv)),Jt=St(),Cc=qr(),FQ=ne("fs"),HQ=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Jt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=BQ.getBearerTokenEnvKey(t);if(!(r in process.env))throw new Jt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return UQ.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},jQ=300*1e3,aT="To refresh this SSO session run 'aws sso login' with the corresponding profile.",qQ=async(e,t={},r)=>{let{SSOOIDCClient:n}=await Promise.resolve().then(()=>(iT(),sT)),o=i=>t.clientConfig?.[i]??t.parentClientConfig?.[i]??r?.[i];return new n(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:o("logger"),userAgentAppId:o("userAgentAppId")}))},zQ=async(e,t,r={},n)=>{let{CreateTokenCommand:o}=await Promise.resolve().then(()=>(iT(),sT));return(await qQ(t,r,n)).send(new o({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},r1=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Jt.TokenProviderError(`Token is expired. ${aT}`,!1)},As=(e,t,r=!1)=>{if(typeof t>"u")throw new Jt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${aT}`,!1)},{writeFile:GQ}=FQ.promises,VQ=(e,t)=>{let r=Cc.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return GQ(r,n)},n1=new Date(0),o1=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await Cc.parseKnownFiles(e),n=Cc.getProfileName({profile:e.profile??t?.profile}),o=r[n];if(o){if(!o.sso_session)throw new Jt.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Jt.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let s=o.sso_session,a=(await Cc.loadSsoSessionData(e))[s];if(!a)throw new Jt.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!a[y])throw new Jt.TokenProviderError(`Sso session '${s}' is missing required property '${y}'.`,!1);a.sso_start_url;let c=a.sso_region,f;try{f=await Cc.getSSOTokenFromFile(s)}catch{throw new Jt.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${aT}`,!1)}As("accessToken",f.accessToken),As("expiresAt",f.expiresAt);let{accessToken:m,expiresAt:p}=f,E={token:m,expiration:new Date(p)};if(E.expiration.getTime()-Date.now()>jQ)return E;if(Date.now()-n1.getTime()<30*1e3)return r1(E),E;As("clientId",f.clientId,!0),As("clientSecret",f.clientSecret,!0),As("refreshToken",f.refreshToken,!0);try{n1.setTime(Date.now());let y=await zQ(f,c,e,t);As("accessToken",y.accessToken),As("expiresIn",y.expiresIn);let w=new Date(Date.now()+y.expiresIn*1e3);try{await VQ(s,{...f,accessToken:y.accessToken,expiresAt:w.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:w}}catch{return r1(E),E}},WQ=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Jt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},KQ=(e={})=>Jt.memoize(Jt.chain(o1(e),async()=>{throw new Jt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Ac.fromEnvSigningName=HQ;Ac.fromSso=o1;Ac.fromStatic=WQ;Ac.nodeProvider=KQ});var uT=$(Oo=>{"use strict";d();Object.defineProperty(Oo,"__esModule",{value:!0});Oo.resolveHttpAuthSchemeConfig=Oo.defaultSSOHttpAuthSchemeProvider=Oo.defaultSSOHttpAuthSchemeParametersProvider=void 0;var YQ=(lt(),ue(xo)),cT=mt(),XQ=async(e,t,r)=>({operation:(0,cT.getSmithyContext)(t).operation,region:await(0,cT.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Oo.defaultSSOHttpAuthSchemeParametersProvider=XQ;function QQ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function af(e){return{schemeId:"smithy.api#noAuth"}}var JQ=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(af(e));break}case"ListAccountRoles":{t.push(af(e));break}case"ListAccounts":{t.push(af(e));break}case"Logout":{t.push(af(e));break}default:t.push(QQ(e))}return t};Oo.defaultSSOHttpAuthSchemeProvider=JQ;var ZQ=e=>{let t=(0,YQ.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,cT.normalizeProvider)(e.authSchemePreference??[])})};Oo.resolveHttpAuthSchemeConfig=ZQ});var i1=$((wAe,e7)=>{e7.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.957.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var T1=$(cf=>{"use strict";d();Object.defineProperty(cf,"__esModule",{value:!0});cf.ruleSet=void 0;var y1="required",fr="fn",pr="argv",ji="ref",a1=!0,c1="isSet",Rc="booleanEquals",Fi="error",Hi="endpoint",Pn="tree",lT="PartitionResult",dT="getAttr",u1={[y1]:!1,type:"string"},l1={[y1]:!0,default:!1,type:"boolean"},d1={[ji]:"Endpoint"},S1={[fr]:Rc,[pr]:[{[ji]:"UseFIPS"},!0]},E1={[fr]:Rc,[pr]:[{[ji]:"UseDualStack"},!0]},dr={},f1={[fr]:dT,[pr]:[{[ji]:lT},"supportsFIPS"]},b1={[ji]:lT},p1={[fr]:Rc,[pr]:[!0,{[fr]:dT,[pr]:[b1,"supportsDualStack"]}]},m1=[S1],h1=[E1],g1=[{[ji]:"Region"}],t7={version:"1.0",parameters:{Region:u1,UseDualStack:l1,UseFIPS:l1,Endpoint:u1},rules:[{conditions:[{[fr]:c1,[pr]:[d1]}],rules:[{conditions:m1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Fi},{conditions:h1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Fi},{endpoint:{url:d1,properties:dr,headers:dr},type:Hi}],type:Pn},{conditions:[{[fr]:c1,[pr]:g1}],rules:[{conditions:[{[fr]:"aws.partition",[pr]:g1,assign:lT}],rules:[{conditions:[S1,E1],rules:[{conditions:[{[fr]:Rc,[pr]:[a1,f1]},p1],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dr,headers:dr},type:Hi}],type:Pn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Fi}],type:Pn},{conditions:m1,rules:[{conditions:[{[fr]:Rc,[pr]:[f1,a1]}],rules:[{conditions:[{[fr]:"stringEquals",[pr]:[{[fr]:dT,[pr]:[b1,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:dr,headers:dr},type:Hi},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:dr,headers:dr},type:Hi}],type:Pn},{error:"FIPS is enabled but this partition does not support FIPS",type:Fi}],type:Pn},{conditions:h1,rules:[{conditions:[p1],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dr,headers:dr},type:Hi}],type:Pn},{error:"DualStack is enabled but this partition does not support DualStack",type:Fi}],type:Pn},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:dr,headers:dr},type:Hi}],type:Pn}],type:Pn},{error:"Invalid Configuration: Missing Region",type:Fi}]};cf.ruleSet=t7});var w1=$(uf=>{"use strict";d();Object.defineProperty(uf,"__esModule",{value:!0});uf.defaultEndpointResolver=void 0;var r7=ys(),fT=ao(),n7=T1(),o7=new fT.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),s7=(e,t={})=>o7.get(e,()=>(0,fT.resolveEndpoint)(n7.ruleSet,{endpointParams:e,logger:t.logger}));uf.defaultEndpointResolver=s7;fT.customEndpointFunctions.aws=r7.awsEndpointFunctions});var I1=$(lf=>{"use strict";d();Object.defineProperty(lf,"__esModule",{value:!0});lf.getRuntimeConfig=void 0;var i7=(lt(),ue(xo)),a7=(Ts(),ue(mb)),c7=(Nt(),ue(li)),u7=he(),l7=bn(),_1=ot(),x1=nt(),d7=uT(),f7=w1(),p7=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??_1.fromBase64,base64Encoder:e?.base64Encoder??_1.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??f7.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??d7.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new i7.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c7.NoAuthSigner}],logger:e?.logger??new u7.NoOpLogger,protocol:e?.protocol??a7.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??l7.parseUrl,utf8Decoder:e?.utf8Decoder??x1.fromUtf8,utf8Encoder:e?.utf8Encoder??x1.toUtf8});lf.getRuntimeConfig=p7});var N1=$(ff=>{"use strict";d();Object.defineProperty(ff,"__esModule",{value:!0});ff.getRuntimeConfig=void 0;var m7=(Ga(),ue(za)),h7=m7.__importDefault(i1()),C1=(lt(),ue(xo)),A1=Di(),df=qt(),g7=Oi(),R1=_r(),Rs=zr(),v1=oo(),P1=he(),y7=$i(),S7=ki(),E7=xs(),b7=I1(),T7=e=>{(0,P1.emitWarningIfUnsupportedVersion)(process.version);let t=(0,S7.resolveDefaultsModeConfig)(e),r=()=>t().then(P1.loadConfigsForDefaultMode),n=(0,b7.getRuntimeConfig)(e);(0,C1.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Rs.loadConfig)(C1.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??y7.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,A1.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:h7.default.version}),maxAttempts:e?.maxAttempts??(0,Rs.loadConfig)(R1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Rs.loadConfig)(df.NODE_REGION_CONFIG_OPTIONS,{...df.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:v1.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Rs.loadConfig)({...R1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||E7.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??g7.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??v1.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Rs.loadConfig)(df.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Rs.loadConfig)(df.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Rs.loadConfig)(A1.NODE_APP_ID_CONFIG_OPTIONS,o)}};ff.getRuntimeConfig=T7});var u$=$(Ee=>{"use strict";d();var D1=Qs(),w7=Js(),_7=Zs(),O1=ws(),x7=qt(),vc=(Nt(),ue(li)),zi=(xe(),ue(Al)),I7=Ai(),Dc=Gr(),$1=_r(),Cr=he(),k1=uT(),C7=N1(),L1=Cs(),M1=Ne(),A7=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),bf={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},R7=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},v7=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),P7=(e,t)=>{let r=Object.assign(L1.getAwsRegionExtensionConfiguration(e),Cr.getDefaultExtensionConfiguration(e),M1.getHttpHandlerExtensionConfiguration(e),R7(e));return t.forEach(n=>n.configure(r)),Object.assign(e,L1.resolveAwsRegionExtensionConfiguration(r),Cr.resolveDefaultRuntimeConfig(r),M1.resolveHttpHandlerRuntimeConfig(r),v7(r))},qi=class extends Cr.Client{config;constructor(...[t]){let r=C7.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=A7(r),o=O1.resolveUserAgentConfig(n),s=$1.resolveRetryConfig(o),i=x7.resolveRegionConfig(s),a=D1.resolveHostHeaderConfig(i),c=Dc.resolveEndpointConfig(a),f=k1.resolveHttpAuthSchemeConfig(c),m=P7(f,t?.extensions||[]);this.config=m,this.middlewareStack.use(zi.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(O1.getUserAgentPlugin(this.config)),this.middlewareStack.use($1.getRetryPlugin(this.config)),this.middlewareStack.use(I7.getContentLengthPlugin(this.config)),this.middlewareStack.use(D1.getHostHeaderPlugin(this.config)),this.middlewareStack.use(w7.getLoggerPlugin(this.config)),this.middlewareStack.use(_7.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(vc.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:k1.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async p=>new vc.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(vc.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},$o=class e extends Cr.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},pf=class e extends $o{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mf=class e extends $o{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hf=class e extends $o{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},gf=class e extends $o{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},N7="AccountInfo",D7="AccountListType",O7="AccessTokenType",$7="GetRoleCredentials",k7="GetRoleCredentialsRequest",L7="GetRoleCredentialsResponse",M7="InvalidRequestException",U7="Logout",B7="ListAccounts",F7="ListAccountsRequest",H7="ListAccountRolesRequest",j7="ListAccountRolesResponse",q7="ListAccountsResponse",z7="ListAccountRoles",G7="LogoutRequest",V7="RoleCredentials",W7="RoleInfo",K7="RoleListType",Y7="ResourceNotFoundException",X7="SecretAccessKeyType",Q7="SessionTokenType",J7="TooManyRequestsException",Z7="UnauthorizedException",Tf="accountId",eJ="accessKeyId",tJ="accountList",rJ="accountName",wf="accessToken",U1="account_id",_f="client",xf="error",nJ="emailAddress",oJ="expiration",If="http",Cf="httpError",Af="httpHeader",vs="httpQuery",Rf="message",B1="maxResults",F1="max_result",vf="nextToken",H1="next_token",sJ="roleCredentials",iJ="roleList",j1="roleName",aJ="role_name",q1="smithy.ts.sdk.synthetic.com.amazonaws.sso",cJ="secretAccessKey",uJ="sessionToken",Pf="x-amz-sso_bearer_token",Le="com.amazonaws.sso",Nf=[0,Le,O7,8,0],lJ=[0,Le,X7,8,0],dJ=[0,Le,Q7,8,0],z1=[3,Le,N7,0,[Tf,rJ,nJ],[0,0,0]],G1=[3,Le,k7,0,[j1,Tf,wf],[[0,{[vs]:aJ}],[0,{[vs]:U1}],[()=>Nf,{[Af]:Pf}]]],V1=[3,Le,L7,0,[sJ],[[()=>e$,0]]],W1=[-3,Le,M7,{[xf]:_f,[Cf]:400},[Rf],[0]];zi.TypeRegistry.for(Le).registerError(W1,pf);var K1=[3,Le,H7,0,[vf,B1,wf,Tf],[[0,{[vs]:H1}],[1,{[vs]:F1}],[()=>Nf,{[Af]:Pf}],[0,{[vs]:U1}]]],Y1=[3,Le,j7,0,[vf,iJ],[0,()=>mJ]],X1=[3,Le,F7,0,[vf,B1,wf],[[0,{[vs]:H1}],[1,{[vs]:F1}],[()=>Nf,{[Af]:Pf}]]],Q1=[3,Le,q7,0,[vf,tJ],[0,()=>pJ]],J1=[3,Le,G7,0,[wf],[[()=>Nf,{[Af]:Pf}]]],Z1=[-3,Le,Y7,{[xf]:_f,[Cf]:404},[Rf],[0]];zi.TypeRegistry.for(Le).registerError(Z1,mf);var e$=[3,Le,V7,0,[eJ,cJ,uJ,oJ],[0,[()=>lJ,0],[()=>dJ,0],1]],t$=[3,Le,W7,0,[j1,Tf],[0,0]],r$=[-3,Le,J7,{[xf]:_f,[Cf]:429},[Rf],[0]];zi.TypeRegistry.for(Le).registerError(r$,hf);var n$=[-3,Le,Z7,{[xf]:_f,[Cf]:401},[Rf],[0]];zi.TypeRegistry.for(Le).registerError(n$,gf);var fJ="unit",o$=[-3,q1,"SSOServiceException",0,[],[]];zi.TypeRegistry.for(q1).registerError(o$,$o);var pJ=[1,Le,D7,0,()=>z1],mJ=[1,Le,K7,0,()=>t$],s$=[9,Le,$7,{[If]:["GET","/federation/credentials",200]},()=>G1,()=>V1],i$=[9,Le,z7,{[If]:["GET","/assignment/roles",200]},()=>K1,()=>Y1],a$=[9,Le,B7,{[If]:["GET","/assignment/accounts",200]},()=>X1,()=>Q1],c$=[9,Le,U7,{[If]:["POST","/logout",200]},()=>J1,()=>fJ],yf=class extends Cr.Command.classBuilder().ep(bf).m(function(t,r,n,o){return[Dc.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(s$).build(){},Pc=class extends Cr.Command.classBuilder().ep(bf).m(function(t,r,n,o){return[Dc.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(i$).build(){},Nc=class extends Cr.Command.classBuilder().ep(bf).m(function(t,r,n,o){return[Dc.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(a$).build(){},Sf=class extends Cr.Command.classBuilder().ep(bf).m(function(t,r,n,o){return[Dc.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(c$).build(){},hJ={GetRoleCredentialsCommand:yf,ListAccountRolesCommand:Pc,ListAccountsCommand:Nc,LogoutCommand:Sf},Ef=class extends qi{};Cr.createAggregatedClient(hJ,Ef);var gJ=vc.createPaginator(qi,Pc,"nextToken","nextToken","maxResults"),yJ=vc.createPaginator(qi,Nc,"nextToken","nextToken","maxResults");Object.defineProperty(Ee,"$Command",{enumerable:!0,get:function(){return Cr.Command}});Object.defineProperty(Ee,"__Client",{enumerable:!0,get:function(){return Cr.Client}});Ee.AccountInfo$=z1;Ee.GetRoleCredentials$=s$;Ee.GetRoleCredentialsCommand=yf;Ee.GetRoleCredentialsRequest$=G1;Ee.GetRoleCredentialsResponse$=V1;Ee.InvalidRequestException=pf;Ee.InvalidRequestException$=W1;Ee.ListAccountRoles$=i$;Ee.ListAccountRolesCommand=Pc;Ee.ListAccountRolesRequest$=K1;Ee.ListAccountRolesResponse$=Y1;Ee.ListAccounts$=a$;Ee.ListAccountsCommand=Nc;Ee.ListAccountsRequest$=X1;Ee.ListAccountsResponse$=Q1;Ee.Logout$=c$;Ee.LogoutCommand=Sf;Ee.LogoutRequest$=J1;Ee.ResourceNotFoundException=mf;Ee.ResourceNotFoundException$=Z1;Ee.RoleCredentials$=e$;Ee.RoleInfo$=t$;Ee.SSO=Ef;Ee.SSOClient=qi;Ee.SSOServiceException=$o;Ee.SSOServiceException$=o$;Ee.TooManyRequestsException=hf;Ee.TooManyRequestsException$=r$;Ee.UnauthorizedException=gf;Ee.UnauthorizedException$=n$;Ee.paginateListAccountRoles=gJ;Ee.paginateListAccounts=yJ});var d$=$(pT=>{"use strict";d();var l$=u$();Object.defineProperty(pT,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return l$.GetRoleCredentialsCommand}});Object.defineProperty(pT,"SSOClient",{enumerable:!0,get:function(){return l$.SSOClient}})});var mT=$(Of=>{"use strict";d();var Ar=St(),Df=qr(),f$=(ar(),ue(Tn)),SJ=s1(),m$=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),Oc=!1,p$=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,callerClientConfig:c,profile:f,filepath:m,configFilepath:p,ignoreCache:E,logger:y})=>{let w,C="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Ve=await SJ.fromSso({profile:f,filepath:m,configFilepath:p,ignoreCache:E})();w={accessToken:Ve.token,expiresAt:new Date(Ve.expiration).toISOString()}}catch(Ve){throw new Ar.CredentialsProviderError(Ve.message,{tryNextLink:Oc,logger:y})}else try{w=await Df.getSSOTokenFromFile(e)}catch{throw new Ar.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${C}`,{tryNextLink:Oc,logger:y})}if(new Date(w.expiresAt).getTime()-Date.now()<=0)throw new Ar.CredentialsProviderError(`The SSO session associated with this profile has expired. ${C}`,{tryNextLink:Oc,logger:y});let{accessToken:A}=w,{SSOClient:v,GetRoleCredentialsCommand:D}=await Promise.resolve().then(function(){return d$()}),k=s||new v(Object.assign({},i??{},{logger:i?.logger??c?.logger??a?.logger,region:i?.region??n,userAgentAppId:i?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),M;try{M=await k.send(new D({accountId:r,roleName:o,accessToken:A}))}catch(Ve){throw new Ar.CredentialsProviderError(Ve,{tryNextLink:Oc,logger:y})}let{roleCredentials:{accessKeyId:B,secretAccessKey:j,sessionToken:de,expiration:F,credentialScope:z,accountId:te}={}}=M;if(!B||!j||!de||!F)throw new Ar.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Oc,logger:y});let _e={accessKeyId:B,secretAccessKey:j,sessionToken:de,expiration:new Date(F),...z&&{credentialScope:z},...te&&{accountId:te}};return t?f$.setCredentialFeature(_e,"CREDENTIALS_SSO","s"):f$.setCredentialFeature(_e,"CREDENTIALS_SSO_LEGACY","u"),_e},h$=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new Ar.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},EJ=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=Df.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let m=(await Df.parseKnownFiles(e))[c];if(!m)throw new Ar.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!m$(m))throw new Ar.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(m?.sso_session){let v=(await Df.loadSsoSessionData(e))[m.sso_session],D=` configurations in profile ${c} and sso-session ${m.sso_session}`;if(o&&o!==v.sso_region)throw new Ar.CredentialsProviderError("Conflicting SSO region"+D,{tryNextLink:!1,logger:e.logger});if(r&&r!==v.sso_start_url)throw new Ar.CredentialsProviderError("Conflicting SSO start_url"+D,{tryNextLink:!1,logger:e.logger});m.sso_region=v.sso_region,m.sso_start_url=v.sso_start_url}let{sso_start_url:p,sso_account_id:E,sso_region:y,sso_role_name:w,sso_session:C}=h$(m,e.logger);return p$({ssoStartUrl:p,ssoSession:C,ssoAccountId:E,ssoRegion:y,ssoRoleName:w,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!o||!s)throw new Ar.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return p$({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Of.fromSSO=EJ;Of.isSsoProfile=m$;Of.validateSsoProfile=h$});function bJ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function TJ(e){return{schemeId:"smithy.api#noAuth"}}var $c,g$,y$,S$,hT=I(()=>{d();lt();$c=N(mt()),g$=async(e,t,r)=>({operation:(0,$c.getSmithyContext)(t).operation,region:await(0,$c.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});y$=e=>{let t=[];return e.operation==="CreateOAuth2Token"?t.push(TJ(e)):t.push(bJ(e)),t},S$=e=>{let t=wn(e);return Object.assign(t,{authSchemePreference:(0,$c.normalizeProvider)(e.authSchemePreference??[])})}});var E$,b$,gT=I(()=>{d();E$=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),b$={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var R$,wt,T$,Ps,Gi,ko,Rr,Lf,yT,w$,_$,x$,ST,ET,Tt,bT,$f,kf,I$,C$,A$,wJ,v$,P$=I(()=>{d();R$="required",wt="argv",T$="isSet",Ps="booleanEquals",Gi="error",ko="endpoint",Rr="tree",Lf="PartitionResult",yT="stringEquals",w$={[R$]:!0,default:!1,type:"boolean"},_$={[R$]:!1,type:"string"},x$={ref:"Endpoint"},ST={fn:Ps,[wt]:[{ref:"UseFIPS"},!0]},ET={fn:Ps,[wt]:[{ref:"UseDualStack"},!0]},Tt={},bT={fn:"getAttr",[wt]:[{ref:Lf},"name"]},$f={fn:Ps,[wt]:[{ref:"UseFIPS"},!1]},kf={fn:Ps,[wt]:[{ref:"UseDualStack"},!1]},I$={fn:"getAttr",[wt]:[{ref:Lf},"supportsFIPS"]},C$={fn:Ps,[wt]:[!0,{fn:"getAttr",[wt]:[{ref:Lf},"supportsDualStack"]}]},A$=[{ref:"Region"}],wJ={version:"1.0",parameters:{UseDualStack:w$,UseFIPS:w$,Endpoint:_$,Region:_$},rules:[{conditions:[{fn:T$,[wt]:[x$]}],rules:[{conditions:[ST],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Gi},{rules:[{conditions:[ET],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Gi},{endpoint:{url:x$,properties:Tt,headers:Tt},type:ko}],type:Rr}],type:Rr},{rules:[{conditions:[{fn:T$,[wt]:A$}],rules:[{conditions:[{fn:"aws.partition",[wt]:A$,assign:Lf}],rules:[{conditions:[{fn:yT,[wt]:[bT,"aws"]},$f,kf],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:Tt,headers:Tt},type:ko},{conditions:[{fn:yT,[wt]:[bT,"aws-cn"]},$f,kf],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:Tt,headers:Tt},type:ko},{conditions:[{fn:yT,[wt]:[bT,"aws-us-gov"]},$f,kf],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:Tt,headers:Tt},type:ko},{conditions:[ST,ET],rules:[{conditions:[{fn:Ps,[wt]:[!0,I$]},C$],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tt,headers:Tt},type:ko}],type:Rr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Gi}],type:Rr},{conditions:[ST,kf],rules:[{conditions:[{fn:Ps,[wt]:[I$,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Tt,headers:Tt},type:ko}],type:Rr},{error:"FIPS is enabled but this partition does not support FIPS",type:Gi}],type:Rr},{conditions:[$f,ET],rules:[{conditions:[C$],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tt,headers:Tt},type:ko}],type:Rr},{error:"DualStack is enabled but this partition does not support DualStack",type:Gi}],type:Rr},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:Tt,headers:Tt},type:ko}],type:Rr}],type:Rr},{error:"Invalid Configuration: Missing Region",type:Gi}],type:Rr}]},v$=wJ});var N$,Vi,_J,D$,O$=I(()=>{d();N$=N(ys()),Vi=N(ao());P$();_J=new Vi.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),D$=(e,t={})=>_J.get(e,()=>(0,Vi.resolveEndpoint)(v$,{endpointParams:e,logger:t.logger}));Vi.customEndpointFunctions.aws=N$.awsEndpointFunctions});var $$,k$,Mf,Uf,L$,M$=I(()=>{d();lt();Ts();Nt();$$=N(he()),k$=N(bn()),Mf=N(ot()),Uf=N(nt());hT();O$();L$=e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??Mf.fromBase64,base64Encoder:e?.base64Encoder??Mf.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??D$,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??y$,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new yt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Tr}],logger:e?.logger??new $$.NoOpLogger,protocol:e?.protocol??To,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??k$.parseUrl,utf8Decoder:e?.utf8Decoder??Uf.fromUtf8,utf8Encoder:e?.utf8Encoder??Uf.toUtf8})});var Bf,Mo,U$,Ff,Lo,Hf,jf,B$,F$,H$,j$,q$=I(()=>{d();Gd();lt();Bf=N(Di()),Mo=N(qt()),U$=N(Oi()),Ff=N(_r()),Lo=N(zr()),Hf=N(oo()),jf=N(he()),B$=N($i()),F$=N(ki()),H$=N(xs());M$();j$=e=>{(0,jf.emitWarningIfUnsupportedVersion)(process.version);let t=(0,F$.resolveDefaultsModeConfig)(e),r=()=>t().then(jf.loadConfigsForDefaultMode),n=L$(e);co(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Lo.loadConfig)(lo,o),bodyLengthChecker:e?.bodyLengthChecker??B$.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Bf.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ni.version}),maxAttempts:e?.maxAttempts??(0,Lo.loadConfig)(Ff.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Lo.loadConfig)(Mo.NODE_REGION_CONFIG_OPTIONS,{...Mo.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Hf.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Lo.loadConfig)({...Ff.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||H$.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??U$.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Hf.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Lo.loadConfig)(Mo.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Lo.loadConfig)(Mo.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Lo.loadConfig)(Bf.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var z$,G$,V$=I(()=>{d();z$=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},G$=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var qf,zf,Gf,W$,K$=I(()=>{d();qf=N(Cs()),zf=N(Ne()),Gf=N(he());V$();W$=(e,t)=>{let r=Object.assign((0,qf.getAwsRegionExtensionConfiguration)(e),(0,Gf.getDefaultExtensionConfiguration)(e),(0,zf.getHttpHandlerExtensionConfiguration)(e),z$(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,qf.resolveAwsRegionExtensionConfiguration)(r),(0,Gf.resolveDefaultRuntimeConfig)(r),(0,zf.resolveHttpHandlerRuntimeConfig)(r),G$(r))}});var Vf,Y$,X$,Wf,Q$,J$,Z$,Kf,TT,kc,wT=I(()=>{d();Vf=N(Qs()),Y$=N(Js()),X$=N(Zs()),Wf=N(ws()),Q$=N(qt());Nt();xe();J$=N(Ai()),Z$=N(Gr()),Kf=N(_r()),TT=N(he());hT();gT();q$();K$();kc=class extends TT.Client{config;constructor(...[t]){let r=j$(t||{});super(r),this.initConfig=r;let n=E$(r),o=(0,Wf.resolveUserAgentConfig)(n),s=(0,Kf.resolveRetryConfig)(o),i=(0,Q$.resolveRegionConfig)(s),a=(0,Vf.resolveHostHeaderConfig)(i),c=(0,Z$.resolveEndpointConfig)(a),f=S$(c),m=W$(f,t?.extensions||[]);this.config=m,this.middlewareStack.use(us(this.config)),this.middlewareStack.use((0,Wf.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Kf.getRetryPlugin)(this.config)),this.middlewareStack.use((0,J$.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Vf.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Y$.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,X$.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(as(this.config,{httpAuthSchemeParametersProvider:g$,identityProviderConfigProvider:async p=>new En({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(cs(this.config))}destroy(){super.destroy()}}});var ek,vr,Yf=I(()=>{d();ek=N(he()),vr=class e extends ek.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Lc,Mc,Uc,Bc,_T=I(()=>{d();Yf();Lc=class e extends vr{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},Mc=class e extends vr{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},Uc=class e extends vr{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},Bc=class e extends vr{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var xJ,IJ,CJ,AJ,RJ,vJ,PJ,NJ,DJ,OJ,$J,tk,rk,xT,nk,ok,kJ,Uo,sk,ik,LJ,IT,ak,Zt,Qf,Xf,ck,MJ,uk,lk,fk,UJ,BJ,dk,$t,pk,mk,hk,gk,yk,Sk,Ek,bk,Tk,wk,_k,CT,AT=I(()=>{d();xe();_T();Yf();xJ="AccessDeniedException",IJ="AccessToken",CJ="CreateOAuth2Token",AJ="CreateOAuth2TokenRequest",RJ="CreateOAuth2TokenRequestBody",vJ="CreateOAuth2TokenResponseBody",PJ="CreateOAuth2TokenResponse",NJ="InternalServerException",DJ="RefreshToken",OJ="TooManyRequestsError",$J="ValidationException",tk="accessKeyId",rk="accessToken",xT="client",nk="clientId",ok="codeVerifier",kJ="code",Uo="error",sk="expiresIn",ik="grantType",LJ="http",IT="httpError",ak="idToken",Zt="jsonName",Qf="message",Xf="refreshToken",ck="redirectUri",MJ="server",uk="secretAccessKey",lk="sessionToken",fk="smithy.ts.sdk.synthetic.com.amazonaws.signin",UJ="tokenInput",BJ="tokenOutput",dk="tokenType",$t="com.amazonaws.signin",pk=[0,$t,DJ,8,0],mk=[-3,$t,xJ,{[Uo]:xT},[Uo,Qf],[0,0]];oe.for($t).registerError(mk,Lc);hk=[3,$t,IJ,8,[tk,uk,lk],[[0,{[Zt]:tk}],[0,{[Zt]:uk}],[0,{[Zt]:lk}]]],gk=[3,$t,AJ,0,[UJ],[[()=>yk,16]]],yk=[3,$t,RJ,0,[nk,ik,kJ,ck,ok,Xf],[[0,{[Zt]:nk}],[0,{[Zt]:ik}],0,[0,{[Zt]:ck}],[0,{[Zt]:ok}],[()=>pk,{[Zt]:Xf}]]],Sk=[3,$t,PJ,0,[BJ],[[()=>Ek,16]]],Ek=[3,$t,vJ,0,[rk,dk,sk,Xf,ak],[[()=>hk,{[Zt]:rk}],[0,{[Zt]:dk}],[1,{[Zt]:sk}],[()=>pk,{[Zt]:Xf}],[0,{[Zt]:ak}]]],bk=[-3,$t,NJ,{[Uo]:MJ,[IT]:500},[Uo,Qf],[0,0]];oe.for($t).registerError(bk,Mc);Tk=[-3,$t,OJ,{[Uo]:xT,[IT]:429},[Uo,Qf],[0,0]];oe.for($t).registerError(Tk,Uc);wk=[-3,$t,$J,{[Uo]:xT,[IT]:400},[Uo,Qf],[0,0]];oe.for($t).registerError(wk,Bc);_k=[-3,fk,"SigninServiceException",0,[],[]];oe.for(fk).registerError(_k,vr);CT=[9,$t,CJ,{[LJ]:["POST","/v1/token",200]},()=>gk,()=>Sk]});var xk,RT,Fc,vT=I(()=>{d();xk=N(Gr()),RT=N(he());gT();AT();Fc=class extends RT.Command.classBuilder().ep(b$).m(function(t,r,n,o){return[(0,xk.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(CT).build(){}});var Ik,FJ,Jf,Ck=I(()=>{d();Ik=N(he());vT();wT();FJ={CreateOAuth2TokenCommand:Fc},Jf=class extends kc{};(0,Ik.createAggregatedClient)(FJ,Jf)});var Ak=I(()=>{d();vT()});var HJ,Rk=I(()=>{d();HJ={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var vk=I(()=>{d()});var Pk={};Je(Pk,{$Command:()=>RT.Command,AccessDeniedException:()=>Lc,AccessDeniedException$:()=>mk,AccessToken$:()=>hk,CreateOAuth2Token$:()=>CT,CreateOAuth2TokenCommand:()=>Fc,CreateOAuth2TokenRequest$:()=>gk,CreateOAuth2TokenRequestBody$:()=>yk,CreateOAuth2TokenResponse$:()=>Sk,CreateOAuth2TokenResponseBody$:()=>Ek,InternalServerException:()=>Mc,InternalServerException$:()=>bk,OAuth2ErrorCode:()=>HJ,Signin:()=>Jf,SigninClient:()=>kc,SigninServiceException:()=>vr,SigninServiceException$:()=>_k,TooManyRequestsError:()=>Uc,TooManyRequestsError$:()=>Tk,ValidationException:()=>Bc,ValidationException$:()=>wk,__Client:()=>TT.Client});var Nk=I(()=>{d();wT();Ck();Ak();AT();Rk();_T();vk();Yf()});var Ok=$(Dk=>{"use strict";d();var jJ=(ar(),ue(Tn)),Bo=St(),DT=qr(),qJ=Ne(),Zf=ne("node:crypto"),PT=ne("node:fs"),zJ=ne("node:os"),NT=ne("node:path"),OT=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=300*1e3;constructor(t,r,n){this.profileData=t,this.init=r,this.callerClientConfig=n}async loadCredentials(){let t=await this.loadToken();if(!t)throw new Bo.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(t){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(Nk(),Pk)),{logger:o,userAgentAppId:s}=this.callerClientConfig??{},a=(p=>p?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,f=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:o,userAgentAppId:s,...this.init?.clientConfig});this.createDPoPInterceptor(f.middlewareStack);let m={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let p=await f.send(new n(m)),{accessKeyId:E,secretAccessKey:y,sessionToken:w}=p.tokenOutput?.accessToken??{},{refreshToken:C,expiresIn:A}=p.tokenOutput??{};if(!E||!y||!w||!C)throw new Bo.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let v=(A??900)*1e3,D=new Date(Date.now()+v),k={...t,accessToken:{...t.accessToken,accessKeyId:E,secretAccessKey:y,sessionToken:w,expiresAt:D.toISOString()},refreshToken:C};await this.saveToken(k);let M=k.accessToken;return{accessKeyId:M.accessKeyId,secretAccessKey:M.secretAccessKey,sessionToken:M.sessionToken,accountId:M.accountId,expiration:D}}catch(p){if(p.name==="AccessDeniedException"){let E=p.error,y;switch(E){case"TOKEN_EXPIRED":y="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":y="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":y="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:y=`Failed to refresh token: ${String(p)}. Please re-authenticate using \`aws login\``}throw new Bo.CredentialsProviderError(y,{logger:this.logger,tryNextLink:!1})}throw new Bo.CredentialsProviderError(`Failed to refresh token: ${String(p)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let t=this.getTokenFilePath();try{let r;try{r=await DT.readFile(t,{ignoreCache:this.init?.ignoreCache})}catch{r=await PT.promises.readFile(t,"utf8")}let n=JSON.parse(r),o=["accessToken","clientId","refreshToken","dpopKey"].filter(s=>!n[s]);if(n.accessToken?.accountId||o.push("accountId"),o.length>0)throw new Bo.CredentialsProviderError(`Token validation failed, missing fields: ${o.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new Bo.CredentialsProviderError(`Failed to load token from ${t}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),n=NT.dirname(r);try{await PT.promises.mkdir(n,{recursive:!0})}catch{}await PT.promises.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??NT.join(zJ.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=Zf.createHash("sha256").update(r).digest("hex");return NT.join(t,`${n}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let n=t[r++],o=t.subarray(r,r+n);if(r+=n,t[r]!==2)throw new Error("Invalid DER signature");r++;let s=t[r++],i=t.subarray(r,r+s);o=o[0]===0?o.subarray(1):o,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-o.length),o]),c=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,c])}createDPoPInterceptor(t){t.add(r=>async n=>{if(qJ.HttpRequest.isInstance(n.request)){let o=n.request,s=`${o.protocol}//${o.hostname}${o.port?`:${o.port}`:""}${o.path}`,i=await this.generateDpop(o.method,s);o.headers={...o.headers,DPoP:i}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let n=await this.loadToken();try{let o=Zf.createPrivateKey({key:n.dpopKey,format:"pem",type:"sec1"}),i=Zf.createPublicKey(o).export({format:"der",type:"spki"}),a=-1;for(let D=0;D<i.length;D++)if(i[D]===4){a=D;break}let c=i.slice(a+1,a+33),f=i.slice(a+33,a+65),m={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:f.toString("base64url")}},p={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},E=Buffer.from(JSON.stringify(m)).toString("base64url"),y=Buffer.from(JSON.stringify(p)).toString("base64url"),w=`${E}.${y}`,C=Zf.sign("sha256",Buffer.from(w),o),v=this.derToRawSignature(C).toString("base64url");return`${w}.${v}`}catch(o){throw new Bo.CredentialsProviderError(`Failed to generate Dpop proof: ${o instanceof Error?o.message:String(o)}`,{logger:this.logger,tryNextLink:!1})}}},GJ=e=>async({callerClientConfig:t}={})=>{e?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await DT.parseKnownFiles(e||{}),n=DT.getProfileName({profile:e?.profile??t?.profile}),o=r[n];if(!o?.login_session)throw new Bo.CredentialsProviderError(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:e?.logger});let i=await new OT(o,e,t).loadCredentials();return jJ.setCredentialFeature(i,"CREDENTIALS_LOGIN","AD")};Dk.fromLoginCredentials=GJ});function VJ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function WJ(e){return{schemeId:"smithy.api#noAuth"}}var Hc,$k,kk,KJ,Lk,$T=I(()=>{d();lt();Hc=N(mt());jc();$k=async(e,t,r)=>({operation:(0,Hc.getSmithyContext)(t).operation,region:await(0,Hc.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});kk=e=>{let t=[];return e.operation==="AssumeRoleWithWebIdentity"?t.push(WJ(e)):t.push(VJ(e)),t},KJ=e=>Object.assign(e,{stsClientCtor:Yr}),Lk=e=>{let t=KJ(e),r=wn(t);return Object.assign(r,{authSchemePreference:(0,Hc.normalizeProvider)(e.authSchemePreference??[])})}});var Mk,ep,tp=I(()=>{d();Mk=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),ep={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Kk,le,we,Fo,ft,Yk,Xk,Be,Uk,Xr,Wi,LT,Bk,kT,Qk,Fk,pt,Hk,Jk,Zk,_t,er,jk,eL,tL,qk,rL,zk,Gk,Vk,Wk,YJ,nL,oL=I(()=>{d();Kk="required",le="type",we="argv",Fo="booleanEquals",ft="stringEquals",Yk="sigv4",Xk="us-east-1",Be="endpoint",Uk="https://sts.{Region}.{PartitionResult#dnsSuffix}",Xr="tree",Wi="error",LT="getAttr",Bk={[Kk]:!1,[le]:"string"},kT={[Kk]:!0,default:!1,[le]:"boolean"},Qk={ref:"Endpoint"},Fk={fn:"isSet",[we]:[{ref:"Region"}]},pt={ref:"Region"},Hk={fn:"aws.partition",[we]:[pt],assign:"PartitionResult"},Jk={ref:"UseFIPS"},Zk={ref:"UseDualStack"},_t={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Yk,signingName:"sts",signingRegion:Xk}]},headers:{}},er={},jk={conditions:[{fn:ft,[we]:[pt,"aws-global"]}],[Be]:_t,[le]:Be},eL={fn:Fo,[we]:[Jk,!0]},tL={fn:Fo,[we]:[Zk,!0]},qk={fn:LT,[we]:[{ref:"PartitionResult"},"supportsFIPS"]},rL={ref:"PartitionResult"},zk={fn:Fo,[we]:[!0,{fn:LT,[we]:[rL,"supportsDualStack"]}]},Gk=[{fn:"isSet",[we]:[Qk]}],Vk=[eL],Wk=[tL],YJ={version:"1.0",parameters:{Region:Bk,UseDualStack:kT,UseFIPS:kT,Endpoint:Bk,UseGlobalEndpoint:kT},rules:[{conditions:[{fn:Fo,[we]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[we]:Gk},Fk,Hk,{fn:Fo,[we]:[Jk,!1]},{fn:Fo,[we]:[Zk,!1]}],rules:[{conditions:[{fn:ft,[we]:[pt,"ap-northeast-1"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"ap-south-1"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"ap-southeast-1"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"ap-southeast-2"]}],endpoint:_t,[le]:Be},jk,{conditions:[{fn:ft,[we]:[pt,"ca-central-1"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"eu-central-1"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"eu-north-1"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"eu-west-1"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"eu-west-2"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"eu-west-3"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"sa-east-1"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,Xk]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"us-east-2"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"us-west-1"]}],endpoint:_t,[le]:Be},{conditions:[{fn:ft,[we]:[pt,"us-west-2"]}],endpoint:_t,[le]:Be},{endpoint:{url:Uk,properties:{authSchemes:[{name:Yk,signingName:"sts",signingRegion:"{Region}"}]},headers:er},[le]:Be}],[le]:Xr},{conditions:Gk,rules:[{conditions:Vk,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[le]:Wi},{conditions:Wk,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[le]:Wi},{endpoint:{url:Qk,properties:er,headers:er},[le]:Be}],[le]:Xr},{conditions:[Fk],rules:[{conditions:[Hk],rules:[{conditions:[eL,tL],rules:[{conditions:[{fn:Fo,[we]:[!0,qk]},zk],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:er,headers:er},[le]:Be}],[le]:Xr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[le]:Wi}],[le]:Xr},{conditions:Vk,rules:[{conditions:[{fn:Fo,[we]:[qk,!0]}],rules:[{conditions:[{fn:ft,[we]:[{fn:LT,[we]:[rL,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:er,headers:er},[le]:Be},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:er,headers:er},[le]:Be}],[le]:Xr},{error:"FIPS is enabled but this partition does not support FIPS",[le]:Wi}],[le]:Xr},{conditions:Wk,rules:[{conditions:[zk],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:er,headers:er},[le]:Be}],[le]:Xr},{error:"DualStack is enabled but this partition does not support DualStack",[le]:Wi}],[le]:Xr},jk,{endpoint:{url:Uk,properties:er,headers:er},[le]:Be}],[le]:Xr}],[le]:Xr},{error:"Invalid Configuration: Missing Region",[le]:Wi}]},nL=YJ});var sL,Ki,XJ,iL,aL=I(()=>{d();sL=N(ys()),Ki=N(ao());oL();XJ=new Ki.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),iL=(e,t={})=>XJ.get(e,()=>(0,Ki.resolveEndpoint)(nL,{endpointParams:e,logger:t.logger}));Ki.customEndpointFunctions.aws=sL.awsEndpointFunctions});var cL,uL,rp,np,lL,dL=I(()=>{d();lt();Ts();Nt();cL=N(he()),uL=N(bn()),rp=N(ot()),np=N(nt());$T();aL();lL=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??rp.fromBase64,base64Encoder:e?.base64Encoder??rp.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??iL,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??kk,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new yt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Tr}],logger:e?.logger??new cL.NoOpLogger,protocol:e?.protocol??_o,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??uL.parseUrl,utf8Decoder:e?.utf8Decoder??np.fromUtf8,utf8Encoder:e?.utf8Encoder??np.toUtf8})});var op,jo,fL,sp,Ho,ip,ap,pL,mL,hL,gL,yL=I(()=>{d();Gd();lt();op=N(Di()),jo=N(qt());Nt();fL=N(Oi()),sp=N(_r()),Ho=N(zr()),ip=N(oo()),ap=N(he()),pL=N($i()),mL=N(ki()),hL=N(xs());dL();gL=e=>{(0,ap.emitWarningIfUnsupportedVersion)(process.version);let t=(0,mL.resolveDefaultsModeConfig)(e),r=()=>t().then(ap.loadConfigsForDefaultMode),n=lL(e);co(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Ho.loadConfig)(lo,o),bodyLengthChecker:e?.bodyLengthChecker??pL.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,op.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ni.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new yt},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Tr}],maxAttempts:e?.maxAttempts??(0,Ho.loadConfig)(sp.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ho.loadConfig)(jo.NODE_REGION_CONFIG_OPTIONS,{...jo.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:ip.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Ho.loadConfig)({...sp.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||hL.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??fL.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??ip.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ho.loadConfig)(jo.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Ho.loadConfig)(jo.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Ho.loadConfig)(op.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var SL,EL,bL=I(()=>{d();SL=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},EL=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var cp,up,lp,TL,wL=I(()=>{d();cp=N(Cs()),up=N(Ne()),lp=N(he());bL();TL=(e,t)=>{let r=Object.assign((0,cp.getAwsRegionExtensionConfiguration)(e),(0,lp.getDefaultExtensionConfiguration)(e),(0,up.getHttpHandlerExtensionConfiguration)(e),SL(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,cp.resolveAwsRegionExtensionConfiguration)(r),(0,lp.resolveDefaultRuntimeConfig)(r),(0,up.resolveHttpHandlerRuntimeConfig)(r),EL(r))}});var dp,_L,xL,fp,IL,CL,AL,pp,MT,Yr,jc=I(()=>{d();dp=N(Qs()),_L=N(Js()),xL=N(Zs()),fp=N(ws()),IL=N(qt());Nt();xe();CL=N(Ai()),AL=N(Gr()),pp=N(_r()),MT=N(he());$T();tp();yL();wL();Yr=class extends MT.Client{config;constructor(...[t]){let r=gL(t||{});super(r),this.initConfig=r;let n=Mk(r),o=(0,fp.resolveUserAgentConfig)(n),s=(0,pp.resolveRetryConfig)(o),i=(0,IL.resolveRegionConfig)(s),a=(0,dp.resolveHostHeaderConfig)(i),c=(0,AL.resolveEndpointConfig)(a),f=Lk(c),m=TL(f,t?.extensions||[]);this.config=m,this.middlewareStack.use(us(this.config)),this.middlewareStack.use((0,fp.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,pp.getRetryPlugin)(this.config)),this.middlewareStack.use((0,CL.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,dp.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,_L.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,xL.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(as(this.config,{httpAuthSchemeParametersProvider:$k,identityProviderConfigProvider:async p=>new En({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(cs(this.config))}destroy(){super.destroy()}}});var RL,zt,mp=I(()=>{d();RL=N(he()),zt=class e extends RL.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var qc,zc,Gc,Vc,Wc,Kc,Yc,UT=I(()=>{d();mp();qc=class e extends zt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},zc=class e extends zt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gc=class e extends zt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Vc=class e extends zt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Wc=class e extends zt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Kc=class e extends zt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Yc=class e extends zt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var QJ,JJ,ZJ,eZ,tZ,rZ,BT,nZ,oZ,sZ,iZ,FT,aZ,vL,cZ,uZ,lZ,dZ,fZ,pZ,mZ,hZ,PL,NL,gZ,yZ,SZ,EZ,bZ,TZ,DL,wZ,_Z,OL,xZ,$L,IZ,CZ,HT,AZ,RZ,vZ,PZ,NZ,DZ,OZ,$Z,kZ,LZ,Ns,Ds,MZ,Os,$s,ks,UZ,kL,BZ,Ae,FZ,HZ,jT,LL,ML,UL,BL,qT,FL,HL,jL,qL,zL,GL,VL,WL,KL,YL,XL,QL,jZ,qZ,zT,GT,hp=I(()=>{d();xe();UT();mp();QJ="Arn",JJ="AccessKeyId",ZJ="AssumeRole",eZ="AssumedRoleId",tZ="AssumeRoleRequest",rZ="AssumeRoleResponse",BT="AssumedRoleUser",nZ="AssumeRoleWithWebIdentity",oZ="AssumeRoleWithWebIdentityRequest",sZ="AssumeRoleWithWebIdentityResponse",iZ="Audience",FT="Credentials",aZ="ContextAssertion",vL="DurationSeconds",cZ="Expiration",uZ="ExternalId",lZ="ExpiredTokenException",dZ="IDPCommunicationErrorException",fZ="IDPRejectedClaimException",pZ="InvalidIdentityTokenException",mZ="Key",hZ="MalformedPolicyDocumentException",PL="Policy",NL="PolicyArns",gZ="ProviderArn",yZ="ProvidedContexts",SZ="ProvidedContextsListType",EZ="ProvidedContext",bZ="PolicyDescriptorType",TZ="ProviderId",DL="PackedPolicySize",wZ="PackedPolicyTooLargeException",_Z="Provider",OL="RoleArn",xZ="RegionDisabledException",$L="RoleSessionName",IZ="SecretAccessKey",CZ="SubjectFromWebIdentityToken",HT="SourceIdentity",AZ="SerialNumber",RZ="SessionToken",vZ="Tags",PZ="TokenCode",NZ="TransitiveTagKeys",DZ="Tag",OZ="Value",$Z="WebIdentityToken",kZ="arn",LZ="accessKeySecretType",Ns="awsQueryError",Ds="client",MZ="clientTokenType",Os="error",$s="httpError",ks="message",UZ="policyDescriptorListType",kL="smithy.ts.sdk.synthetic.com.amazonaws.sts",BZ="tagListType",Ae="com.amazonaws.sts",FZ=[0,Ae,LZ,8,0],HZ=[0,Ae,MZ,8,0],jT=[3,Ae,BT,0,[eZ,QJ],[0,0]],LL=[3,Ae,tZ,0,[OL,$L,NL,PL,vL,vZ,NZ,uZ,AZ,PZ,HT,yZ],[0,0,()=>QL,0,1,()=>qZ,64,0,0,0,0,()=>jZ]],ML=[3,Ae,rZ,0,[FT,BT,DL,HT],[[()=>qT,0],()=>jT,1,0]],UL=[3,Ae,oZ,0,[OL,$L,$Z,TZ,NL,PL,vL],[0,0,[()=>HZ,0],0,()=>QL,0,1]],BL=[3,Ae,sZ,0,[FT,CZ,BT,DL,_Z,iZ,HT],[[()=>qT,0],0,()=>jT,1,0,0,0]],qT=[3,Ae,FT,0,[JJ,IZ,RZ,cZ],[0,[()=>FZ,0],0,4]],FL=[-3,Ae,lZ,{[Ns]:["ExpiredTokenException",400],[Os]:Ds,[$s]:400},[ks],[0]];oe.for(Ae).registerError(FL,qc);HL=[-3,Ae,dZ,{[Ns]:["IDPCommunicationError",400],[Os]:Ds,[$s]:400},[ks],[0]];oe.for(Ae).registerError(HL,Yc);jL=[-3,Ae,fZ,{[Ns]:["IDPRejectedClaim",403],[Os]:Ds,[$s]:403},[ks],[0]];oe.for(Ae).registerError(jL,Wc);qL=[-3,Ae,pZ,{[Ns]:["InvalidIdentityToken",400],[Os]:Ds,[$s]:400},[ks],[0]];oe.for(Ae).registerError(qL,Kc);zL=[-3,Ae,hZ,{[Ns]:["MalformedPolicyDocument",400],[Os]:Ds,[$s]:400},[ks],[0]];oe.for(Ae).registerError(zL,zc);GL=[-3,Ae,wZ,{[Ns]:["PackedPolicyTooLarge",400],[Os]:Ds,[$s]:400},[ks],[0]];oe.for(Ae).registerError(GL,Gc);VL=[3,Ae,bZ,0,[kZ],[0]],WL=[3,Ae,EZ,0,[gZ,aZ],[0,0]],KL=[-3,Ae,xZ,{[Ns]:["RegionDisabledException",403],[Os]:Ds,[$s]:403},[ks],[0]];oe.for(Ae).registerError(KL,Vc);YL=[3,Ae,DZ,0,[mZ,OZ],[0,0]],XL=[-3,kL,"STSServiceException",0,[],[]];oe.for(kL).registerError(XL,zt);QL=[1,Ae,UZ,0,()=>VL],jZ=[1,Ae,SZ,0,()=>WL],qZ=[1,Ae,BZ,0,()=>YL],zT=[9,Ae,ZJ,0,()=>LL,()=>ML],GT=[9,Ae,nZ,0,()=>UL,()=>BL]});var JL,ZL,Ls,gp=I(()=>{d();JL=N(Gr()),ZL=N(he());tp();hp();Ls=class extends ZL.Command.classBuilder().ep(ep).m(function(t,r,n,o){return[(0,JL.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(zT).build(){}});var eM,tM,Ms,yp=I(()=>{d();eM=N(Gr()),tM=N(he());tp();hp();Ms=class extends tM.Command.classBuilder().ep(ep).m(function(t,r,n,o){return[(0,eM.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(GT).build(){}});var rM,zZ,Sp,nM=I(()=>{d();rM=N(he());gp();yp();jc();zZ={AssumeRoleCommand:Ls,AssumeRoleWithWebIdentityCommand:Ms},Sp=class extends Yr{};(0,rM.createAggregatedClient)(zZ,Sp)});var oM=I(()=>{d();gp();yp()});var sM=I(()=>{d()});var iM,aM,cM,uM,lM,dM,fM=I(()=>{d();ar();iM=N(Cs());gp();yp();aM=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},cM=async(e,t,r,n={})=>{let o=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t,i="",a=o??s??(i=await(0,iM.stsRegionDefaultResolver)(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},uM=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:m=e?.parentClientConfig?.logger,profile:p=e?.parentClientConfig?.profile,region:E,requestHandler:y=e?.parentClientConfig?.requestHandler,credentialProviderLogger:w,userAgentAppId:C=e?.parentClientConfig?.userAgentAppId}=e,A=await cM(E,e?.parentClientConfig?.region,w,{logger:m,profile:p}),v=!dM(y);r=new t({...e,userAgentAppId:C,profile:p,credentialDefaultProvider:()=>async()=>n,region:A,requestHandler:v?y:void 0,logger:m})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Ls(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=aM(a),f={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return uo(f,"CREDENTIALS_STS_ASSUME_ROLE","i"),f}},lM=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,profile:f=e?.parentClientConfig?.profile,region:m,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:E,userAgentAppId:y=e?.parentClientConfig?.userAgentAppId}=e,w=await cM(m,e?.parentClientConfig?.region,E,{logger:c,profile:f}),C=!dM(p);r=new t({...e,userAgentAppId:y,profile:f,region:w,requestHandler:C?p:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new Ms(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=aM(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&uo(a,"RESOLVED_ACCOUNT_ID","T"),uo(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},dM=e=>e?.metadata?.handlerProtocol==="h2"});var pM,mM,hM,GZ,gM=I(()=>{d();fM();jc();pM=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,mM=(e={},t)=>uM(e,pM(Yr,t)),hM=(e={},t)=>lM(e,pM(Yr,t)),GZ=e=>t=>e({roleAssumer:mM(t),roleAssumerWithWebIdentity:hM(t),...t})});var VT={};Je(VT,{AssumeRole$:()=>zT,AssumeRoleCommand:()=>Ls,AssumeRoleRequest$:()=>LL,AssumeRoleResponse$:()=>ML,AssumeRoleWithWebIdentity$:()=>GT,AssumeRoleWithWebIdentityCommand:()=>Ms,AssumeRoleWithWebIdentityRequest$:()=>UL,AssumeRoleWithWebIdentityResponse$:()=>BL,AssumedRoleUser$:()=>jT,Credentials$:()=>qT,ExpiredTokenException:()=>qc,ExpiredTokenException$:()=>FL,IDPCommunicationErrorException:()=>Yc,IDPCommunicationErrorException$:()=>HL,IDPRejectedClaimException:()=>Wc,IDPRejectedClaimException$:()=>jL,InvalidIdentityTokenException:()=>Kc,InvalidIdentityTokenException$:()=>qL,MalformedPolicyDocumentException:()=>zc,MalformedPolicyDocumentException$:()=>zL,PackedPolicyTooLargeException:()=>Gc,PackedPolicyTooLargeException$:()=>GL,PolicyDescriptorType$:()=>VL,ProvidedContext$:()=>WL,RegionDisabledException:()=>Vc,RegionDisabledException$:()=>KL,STS:()=>Sp,STSClient:()=>Yr,STSServiceException:()=>zt,STSServiceException$:()=>XL,Tag$:()=>YL,__Client:()=>MT.Client,decorateDefaultCredentialProvider:()=>GZ,getDefaultRoleAssumer:()=>mM,getDefaultRoleAssumerWithWebIdentity:()=>hM});var WT=I(()=>{d();jc();nM();oM();hp();UT();sM();gM();mp()});var XT=$(yM=>{"use strict";d();var YT=qr(),KT=St(),VZ=ne("child_process"),WZ=ne("util"),KZ=(ar(),ue(Tn)),YZ=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return KZ.setCredentialFeature(o,"CREDENTIALS_PROCESS","w"),o},XZ=async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=WZ.promisify(YT.externalDataInterceptor?.getTokenRecord?.().exec??VZ.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return YZ(e,a,t)}catch(i){throw new KT.CredentialsProviderError(i.message,{logger:r})}}else throw new KT.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new KT.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},QZ=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await YT.parseKnownFiles(e);return XZ(YT.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};yM.fromProcess=QZ});var QT=$(Qr=>{"use strict";d();var JZ=Qr&&Qr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),ZZ=Qr&&Qr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),eee=Qr&&Qr.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&JZ(r,t,n[o]);return ZZ(r,t),r}})();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.fromWebToken=void 0;var tee=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:f}=e;if(!f){let{getDefaultRoleAssumerWithWebIdentity:m}=await Promise.resolve().then(()=>eee((WT(),ue(VT))));f=m({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return f({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};Qr.fromWebToken=tee});var EM=$(Ep=>{"use strict";d();Object.defineProperty(Ep,"__esModule",{value:!0});Ep.fromTokenFile=void 0;var ree=(ar(),ue(Tn)),nee=St(),oee=qr(),see=ne("fs"),iee=QT(),SM="AWS_WEB_IDENTITY_TOKEN_FILE",aee="AWS_ROLE_ARN",cee="AWS_ROLE_SESSION_NAME",uee=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[SM],n=e?.roleArn??process.env[aee],o=e?.roleSessionName??process.env[cee];if(!r||!n)throw new nee.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,iee.fromWebToken)({...e,webIdentityToken:oee.externalDataInterceptor?.getTokenRecord?.()[r]??(0,see.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:o})(t);return r===process.env[SM]&&(0,ree.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};Ep.fromTokenFile=uee});var JT=$(Xc=>{"use strict";d();var bM=EM(),TM=QT();Object.keys(bM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xc,e)&&Object.defineProperty(Xc,e,{enumerable:!0,get:function(){return bM[e]}})});Object.keys(TM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xc,e)&&Object.defineProperty(Xc,e,{enumerable:!0,get:function(){return TM[e]}})})});var AM=$(CM=>{"use strict";d();var ew=qr(),Qc=St(),Nn=(ar(),ue(Tn)),lee=Ok(),dee=(e,t,r)=>{let n={EcsContainer:async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>N(qb())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>N(uc()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Qc.chain(s(o??{}),i(o))().then(ZT)},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>N(uc()));return async()=>s(o)().then(ZT)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>N(kb()));return async()=>s(o)().then(ZT)}};if(e in n)return n[e];throw new Qc.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},ZT=e=>Nn.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),fee=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(pee(e,{profile:t,logger:r})||mee(e,{profile:t,logger:r})),pee=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},mee=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},hee=async(e,t,r,n,o={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:a,region:c}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:m}=await Promise.resolve().then(()=>(WT(),VT));r.roleAssumer=m({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...n,...r?.parentClientConfig,region:c??r?.parentClientConfig?.region??n?.region}},r.clientPlugins)}if(a&&a in o)throw new Qc.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${ew.getProfileName(r)}. Profiles visited: `+Object.keys(o).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let f=a?s(a,t,r,n,{...o,[a]:!0},wM(t[a]??{})):(await dee(i.credential_source,e,r.logger)(r))();if(wM(i))return f.then(m=>Nn.setCredentialFeature(m,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let m={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:p}=i;if(p){if(!r.mfaCodeProvider)throw new Qc.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});m.SerialNumber=p,m.TokenCode=await r.mfaCodeProvider(p)}let E=await f;return r.roleAssumer(E,m).then(y=>Nn.setCredentialFeature(y,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},wM=e=>!e.role_arn&&!!e.credential_source,gee=e=>!!(e&&e.login_session),yee=async(e,t,r)=>{let n=await lee.fromLoginCredentials({...t,profile:e})({callerClientConfig:r});return Nn.setCredentialFeature(n,"CREDENTIALS_PROFILE_LOGIN","AC")},See=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",Eee=async(e,t)=>Promise.resolve().then(()=>N(XT())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>Nn.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),bee=async(e,t,r={},n)=>{let{fromSSO:o}=await Promise.resolve().then(()=>N(mT()));return o({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:n}).then(s=>t.sso_session?Nn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):Nn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},Tee=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),_M=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,xM=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Nn.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},wee=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,_ee=async(e,t,r)=>Promise.resolve().then(()=>N(JT())).then(({fromTokenFile:n})=>n({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})({callerClientConfig:r}).then(o=>Nn.setCredentialFeature(o,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),IM=async(e,t,r,n,o={},s=!1)=>{let i=t[e];if(Object.keys(o).length>0&&_M(i))return xM(i,r);if(s||fee(i,{profile:e,logger:r.logger}))return hee(e,t,r,n,o,IM);if(_M(i))return xM(i,r);if(wee(i))return _ee(i,r,n);if(See(i))return Eee(r,e);if(Tee(i))return await bee(e,i,r,n);if(gee(i))return yee(e,r,n);throw new Qc.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},xee=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await ew.parseKnownFiles(e);return IM(ew.getProfileName({profile:e.profile??t?.profile}),r,e,t)};CM.fromIni=xee});var NM=$(bp=>{"use strict";d();var tw=kb(),Jc=St(),Iee=qr(),RM="AWS_EC2_METADATA_DISABLED",Cee=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>N(uc()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>N(qb()));return Jc.chain(s(e),n(e))}return process.env[RM]&&process.env[RM]!=="false"?async()=>{throw new Jc.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))};function Aee(e,t){let r=Ree(e),n,o,s,i=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),n)await n;else if(!s||t?.(s))if(s)o||(o=r(a).then(c=>{s=c,o=void 0}));else return n=r(a).then(c=>{s=c,n=void 0}),i(a);return s};return i}var Ree=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(o){if(r=o,o?.tryNextLink)continue;throw o}throw r},vM=!1,vee=(e={})=>Aee([async()=>{if(e.profile??process.env[Iee.ENV_PROFILE])throw process.env[tw.ENV_KEY]&&process.env[tw.ENV_SECRET]&&(vM||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),vM=!0)),new Jc.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),tw.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e;if(!r&&!n&&!o&&!s&&!i)throw new Jc.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>N(mT()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>N(AM()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>N(XT()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>N(JT()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Cee(e))()),async()=>{throw new Jc.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],PM),Pee=e=>e?.expiration!==void 0,PM=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;bp.credentialsTreatedAsExpired=PM;bp.credentialsWillNeedRefresh=Pee;bp.defaultProvider=vee});var Nee,DM=I(()=>{d();Nee=(e,t,r=n=>n)=>e});var Dee,Oee,Zc,$ee,Tp,eu,kee,rw,nw,ow,sw,Lee,Mee,OM,Uee,Bee,_p,Fee,iw,Hee,Yi,aw,jee,qee,zee,$M,kM,Gee,Vee,Us,cw,wp,tu,uw=I(()=>{d();Dee=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Oee=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&tu.warn(wp(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&tu.warn(wp(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Zc=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&tu.warn(wp(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},$ee=Math.ceil(34028234663852886e22),Tp=e=>{let t=Zc(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>$ee)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},eu=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},kee=eu,rw=e=>sw(e,32),nw=e=>sw(e,16),ow=e=>sw(e,8),sw=(e,t)=>{let r=eu(e);if(r!==void 0&&Lee(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Lee=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Mee=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},OM=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Uee=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return tu.warn(wp(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Bee=e=>{if(e==null)return;let t=OM(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},_p=e=>Zc(typeof e=="string"?Yi(e):e),Fee=_p,iw=e=>Tp(typeof e=="string"?Yi(e):e),Hee=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Yi=e=>{let t=e.match(Hee);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},aw=e=>typeof e=="string"?$M(e):Zc(e),jee=aw,qee=aw,zee=e=>typeof e=="string"?$M(e):Tp(e),$M=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},kM=e=>eu(typeof e=="string"?Yi(e):e),Gee=kM,Vee=e=>rw(typeof e=="string"?Yi(e):e),Us=e=>nw(typeof e=="string"?Yi(e):e),cw=e=>ow(typeof e=="string"?Yi(e):e),wp=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),tu={warn:console.warn}});function nu(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,f=s<10?`0${s}`:`${s}`,m=i<10?`0${i}`:`${i}`,p=a<10?`0${a}`:`${a}`;return`${Wee[n]}, ${c} ${dw[r]} ${t} ${f}:${m}:${p} GMT`}var Wee,dw,Kee,Yee,Xee,fw,Qee,Jee,Zee,pw,mw,ru,ete,tte,rte,lw,nte,ote,ste,Jr,ite,ate,Xi,LM=I(()=>{d();uw();Wee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Kee=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Yee=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Kee.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,f]=t,m=Us(Xi(n)),p=Jr(o,"month",1,12),E=Jr(s,"day",1,31);return ru(m,p,E,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:f})},Xee=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),fw=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Xee.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,f,m]=t,p=Us(Xi(n)),E=Jr(o,"month",1,12),y=Jr(s,"day",1,31),w=ru(p,E,y,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:f});return m.toUpperCase()!="Z"&&w.setTime(w.getTime()-ate(m)),w},Qee=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Jee=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Zee=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),pw=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Qee.exec(e);if(t){let[r,n,o,s,i,a,c,f]=t;return ru(Us(Xi(s)),lw(o),Jr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:f})}if(t=Jee.exec(e),t){let[r,n,o,s,i,a,c,f]=t;return rte(ru(ete(s),lw(o),Jr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:f}))}if(t=Zee.exec(e),t){let[r,n,o,s,i,a,c,f]=t;return ru(Us(Xi(f)),lw(n),Jr(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},mw=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=_p(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},ru=(e,t,r,n)=>{let o=t-1;return ote(e,o,r),new Date(Date.UTC(e,o,r,Jr(n.hours,"hour",0,23),Jr(n.minutes,"minute",0,59),Jr(n.seconds,"seconds",0,60),ite(n.fractionalMilliseconds)))},ete=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Us(Xi(e));return r<t?r+100:r},tte=50*365*24*60*60*1e3,rte=e=>e.getTime()-new Date().getTime()>tte?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,lw=e=>{let t=dw.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},nte=[31,28,31,30,31,30,31,31,30,31,30,31],ote=(e,t,r)=>{let n=nte[t];if(t===1&&ste(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${dw[t]} in ${e}: ${r}`)},ste=e=>e%4===0&&(e%100!==0||e%400===0),Jr=(e,t,r,n)=>{let o=cw(Xi(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},ite=e=>e==null?0:iw("0."+e)*1e3,ate=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Xi=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var mr,MM=I(()=>{d();mr=N(kl())});var kt,UM=I(()=>{d();kt=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};kt.from=e=>e&&typeof e=="object"&&(e instanceof kt||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?kt(String(e)):kt(JSON.stringify(e));kt.fromObject=kt.from});function hw(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var BM=I(()=>{d()});function Dn(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var gw,yw,Sw,FM,HM,cte,ute,lte,dte,fte,Qi,Ew,bw,jM=I(()=>{d();gw="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",yw="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Sw="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",FM="(\\d?\\d)",HM="(\\d{4})",cte=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),ute=new RegExp(`^${gw}, ${FM} ${yw} ${HM} ${Sw} GMT$`),lte=new RegExp(`^${gw}, ${FM}-${yw}-(\\d\\d) ${Sw} GMT$`),dte=new RegExp(`^${gw} ${yw} ( [1-9]|\\d\\d) ${Sw} ${HM}$`),fte=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Qi=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},Ew=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=cte.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,o,s,i,a,,c,f]=t;Dn(n,1,12),Dn(o,1,31),Dn(s,0,23),Dn(i,0,59),Dn(a,0,60);let m=new Date(Date.UTC(Number(r),Number(n)-1,Number(o),Number(s),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(m.setUTCFullYear(Number(r)),f.toUpperCase()!="Z"){let[,p,E,y]=/([+-])(\d\d):(\d\d)/.exec(f)||[void 0,"+",0,0],w=p==="-"?1:-1;m.setTime(m.getTime()+w*(Number(E)*60*60*1e3+Number(y)*60*1e3))}return m},bw=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,o,s,i,a,c;if((c=ute.exec(e))?[,t,r,n,o,s,i,a]=c:(c=lte.exec(e))?([,t,r,n,o,s,i,a]=c,n=(Number(n)+1900).toString()):(c=dte.exec(e))&&([,r,t,o,s,i,a,n]=c),n&&i){let f=Date.UTC(Number(n),fte.indexOf(r),Number(t),Number(o),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Dn(t,1,31),Dn(o,0,23),Dn(s,0,59),Dn(i,0,60);let m=new Date(f);return m.setUTCFullYear(Number(n)),m}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function Tw(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var qM=I(()=>{d()});var ou,zM=I(()=>{d();ou=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function ww(e){return new Fe(String(e),"bigDecimal")}var GM,Fe,VM=I(()=>{d();GM=/^-?\d*(\.\d+)?$/,Fe=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!GM.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&GM.test(r.string)}}});var WM={};Je(WM,{LazyJsonString:()=>kt,NumericValue:()=>Fe,_parseEpochTimestamp:()=>Qi,_parseRfc3339DateTimeWithOffset:()=>Ew,_parseRfc7231DateTime:()=>bw,copyDocumentWithTransform:()=>Nee,dateToUtcString:()=>nu,expectBoolean:()=>Oee,expectByte:()=>ow,expectFloat32:()=>Tp,expectInt:()=>kee,expectInt32:()=>rw,expectLong:()=>eu,expectNonNull:()=>Mee,expectNumber:()=>Zc,expectObject:()=>OM,expectShort:()=>nw,expectString:()=>Uee,expectUnion:()=>Bee,generateIdempotencyToken:()=>mr.v4,handleFloat:()=>jee,limitedParseDouble:()=>aw,limitedParseFloat:()=>qee,limitedParseFloat32:()=>zee,logger:()=>tu,nv:()=>ww,parseBoolean:()=>Dee,parseEpochTimestamp:()=>mw,parseRfc3339DateTime:()=>Yee,parseRfc3339DateTimeWithOffset:()=>fw,parseRfc7231DateTime:()=>pw,quoteHeader:()=>hw,splitEvery:()=>Tw,splitHeader:()=>ou,strictParseByte:()=>cw,strictParseDouble:()=>_p,strictParseFloat:()=>Fee,strictParseFloat32:()=>iw,strictParseInt:()=>Gee,strictParseInt32:()=>Vee,strictParseLong:()=>kM,strictParseShort:()=>Us});var Gt=I(()=>{d();DM();LM();MM();UM();uw();BM();jM();qM();zM();VM()});var YM=$(KM=>{"use strict";d();var pte=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";KM.isArrayBuffer=pte});var su=$(xw=>{"use strict";d();var mte=YM(),_w=ne("buffer"),hte=(e,t=0,r=e.byteLength-t)=>{if(!mte.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return _w.Buffer.from(e,t,r)},gte=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?_w.Buffer.from(e,t):_w.Buffer.from(e)};xw.fromArrayBuffer=hte;xw.fromString=gte});var Pr=$(xp=>{"use strict";d();var XM=su(),QM=e=>{let t=XM.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},yte=e=>typeof e=="string"?QM(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Ste=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return XM.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};xp.fromUtf8=QM;xp.toUint8Array=yte;xp.toUtf8=Ste});function qo(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Ip(e){return e[Iw]=!0,e}var Iw,Cp=I(()=>{d();Iw=Symbol("@smithy/core/cbor::tagSymbol")});function eU(e){Oe=e,$n=new DataView(Oe.buffer,Oe.byteOffset,Oe.byteLength)}function Zr(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(Oe[e]&224)>>5,n=Oe[e]&31;switch(r){case 0:case 1:case 6:let o,s;if(n<24)o=n,s=1;else switch(n){case 24:case 25:case 26:case 27:let i=rU[n],a=i+1;if(s=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let c=e+1;i===1?o=Oe[c]:i===2?o=$n.getUint16(c):i===4?o=$n.getUint32(c):o=$n.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return ge=s,Cw(o);if(r===1){let i;return typeof o=="bigint"?i=BigInt(-1)-o:i=-1-o,ge=s,Cw(i)}else if(n===2||n===3){let i=uu(e+s,t),a=BigInt(0),c=e+s+ge;for(let f=c;f<c+i;++f)a=a<<BigInt(8)|BigInt(Oe[f]);return ge=s+ge+i,n===3?-a-BigInt(1):a}else if(n===4){let i=Zr(e+s,t),[a,c]=i,f=c<0?-1:1,m="0".repeat(Math.abs(a)+1)+String(BigInt(f)*BigInt(c)),p,E=c<0?"-":"";return p=a===0?m:m.slice(0,m.length+a)+"."+m.slice(a),p=p.replace(/^0+/g,""),p===""&&(p="0"),p[0]==="."&&(p="0"+p),p=E+p,ge=s+ge,ww(p)}else{let i=Zr(e+s,t);return ge=s+ge,Ip({tag:Cw(o),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return Ite(e,t);case 5:return Pte(e,t);case 4:return Rte(e,t);case 2:return Cte(e,t)}else switch(r){case 3:return xte(e,t);case 5:return vte(e,t);case 4:return Ate(e,t);case 2:return Dw(e,t)}default:return Nte(e,t)}}function tU(e,t,r){return Tte&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):JM?JM.decode(e.subarray(t,r)):(0,ZM.toUtf8)(e.subarray(t,r))}function wte(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function _te(e,t){let r=e>>7,n=(e&124)>>2,o=(e&3)<<8|t,s=r===0?1:-1,i,a;if(n===0){if(o===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return o===0?s*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=o/1024,s*(i*a)}function uu(e,t){let r=Oe[e]&31;if(r<24)return ge=1,r;if(r===24||r===25||r===26||r===27){let n=rU[r];if(ge=n+1,t-e<ge)throw new Error(`countLength ${n} greater than remaining buf len.`);let o=e+1;return n===1?Oe[o]:n===2?$n.getUint16(o):n===4?$n.getUint32(o):wte($n.getBigUint64(o))}throw new Error(`unexpected minor value ${r}.`)}function xte(e,t){let r=uu(e,t),n=ge;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let o=tU(Oe,e,e+r);return ge=n+r,o}function Ite(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Oe[e]===255){let c=qo(r.length);return c.set(r,0),ge=e-n+2,tU(c,0,c.length)}let o=(Oe[e]&224)>>5,s=Oe[e]&31;if(o!==3)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=Dw(e,t);e+=ge;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function Dw(e,t){let r=uu(e,t),n=ge;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let o=Oe.subarray(e,e+r);return ge=n+r,o}function Cte(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Oe[e]===255){let c=qo(r.length);return c.set(r,0),ge=e-n+2,c}let o=(Oe[e]&224)>>5,s=Oe[e]&31;if(o!==2)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=Dw(e,t);e+=ge;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function Ate(e,t){let r=uu(e,t),n=ge;e+=n;let o=e,s=Array(r);for(let i=0;i<r;++i){let a=Zr(e,t),c=ge;s[i]=a,e+=c}return ge=n+(e-o),s}function Rte(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Oe[e]===255)return ge=e-n+2,r;let o=Zr(e,t);e+=ge,r.push(o)}throw new Error("expected break marker.")}function vte(e,t){let r=uu(e,t),n=ge;e+=n;let o=e,s={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(Oe[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=Zr(e,t);e+=ge;let f=Zr(e,t);e+=ge,s[c]=f}return ge=n+(e-o),s}function Pte(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(Oe[e]===255)return ge=e-r+2,n;let o=(Oe[e]&224)>>5;if(o!==3)throw new Error(`unexpected major type ${o} for map key.`);let s=Zr(e,t);e+=ge;let i=Zr(e,t);e+=ge,n[s]=i}throw new Error("expected break marker.")}function Nte(e,t){let r=Oe[e]&31;switch(r){case 21:case 20:return ge=1,r===21;case 22:return ge=1,null;case 23:return ge=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return ge=3,_te(Oe[e+1],Oe[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return ge=5,$n.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return ge=9,$n.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Cw(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var ZM,bte,Tte,Oe,$n,JM,ge,rU,nU=I(()=>{d();Gt();ZM=N(Pr());Cp();bte=typeof TextDecoder<"u",Tte=typeof Buffer<"u",Oe=qo(0),$n=new DataView(Oe.buffer,Oe.byteOffset,Oe.byteLength),JM=bte?new TextDecoder:null,ge=0;rU={24:1,25:2,26:4,27:8}});function $w(e){ie.byteLength-ee<e&&(ee<16e6?Rp(Math.max(ie.byteLength*4,ie.byteLength+e)):Rp(ie.byteLength+e+16e6))}function kw(){let e=qo(ee);return e.set(ie.subarray(0,ee),0),ee=0,e}function Rp(e){let t=ie;ie=qo(e),t&&(t.copy?t.copy(ie,0,0,t.byteLength):ie.set(t,0)),Mn=new DataView(ie.buffer,ie.byteOffset,ie.byteLength)}function Ln(e,t){t<24?ie[ee++]=e<<5|t:t<256?(ie[ee++]=e<<5|24,ie[ee++]=t):t<65536?(ie[ee++]=e<<5|25,Mn.setUint16(ee,t),ee+=2):t<2**32?(ie[ee++]=e<<5|26,Mn.setUint32(ee,t),ee+=4):(ie[ee++]=e<<5|27,Mn.setBigUint64(ee,typeof t=="bigint"?t:BigInt(t)),ee+=8)}function iU(e){let t=[e];for(;t.length;){let r=t.pop();if($w(typeof r=="string"?r.length*4:64),typeof r=="string"){if(oU)Ln(3,Buffer.byteLength(r)),ee+=ie.write(r,ee);else{let n=(0,sU.fromUtf8)(r);Ln(3,n.byteLength),ie.set(n,ee),ee+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,o=n?0:1,s=n?r:-r-1;s<24?ie[ee++]=o<<5|s:s<256?(ie[ee++]=o<<5|24,ie[ee++]=s):s<65536?(ie[ee++]=o<<5|25,ie[ee++]=s>>8,ie[ee++]=s):s<4294967296?(ie[ee++]=o<<5|26,Mn.setUint32(ee,s),ee+=4):(ie[ee++]=o<<5|27,Mn.setBigUint64(ee,BigInt(s)),ee+=8);continue}ie[ee++]=251,Mn.setFloat64(ee,r),ee+=8;continue}else if(typeof r=="bigint"){let n=r>=0,o=n?0:1,s=n?r:-r-BigInt(1),i=Number(s);if(i<24)ie[ee++]=o<<5|i;else if(i<256)ie[ee++]=o<<5|24,ie[ee++]=i;else if(i<65536)ie[ee++]=o<<5|25,ie[ee++]=i>>8,ie[ee++]=i&255;else if(i<4294967296)ie[ee++]=o<<5|26,Mn.setUint32(ee,i),ee+=4;else if(s<BigInt("18446744073709551616"))ie[ee++]=o<<5|27,Mn.setBigUint64(ee,s),ee+=8;else{let a=s.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),f=s,m=0;for(;c.byteLength-++m>=0;)c[c.byteLength-m]=Number(f&BigInt(255)),f>>=BigInt(8);$w(c.byteLength*2),ie[ee++]=n?194:195,oU?Ln(2,Buffer.byteLength(c)):Ln(2,c.byteLength),ie.set(c,ee),ee+=c.byteLength}continue}else if(r===null){ie[ee++]=246;continue}else if(typeof r=="boolean"){ie[ee++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);Ln(4,r.length);continue}else if(typeof r.byteLength=="number"){$w(r.length*2),Ln(2,r.length),ie.set(r,ee),ee+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Fe){let o=r.string.indexOf("."),s=o===-1?0:o-r.string.length+1,i=BigInt(r.string.replace(".",""));ie[ee++]=196,t.push(i),t.push(s),Ln(4,2);continue}if(r[Iw])if("tag"in r&&"value"in r){t.push(r.value),Ln(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let o=n.length-1;o>=0;--o){let s=n[o];t.push(r[s]),t.push(s)}Ln(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var sU,oU,Dte,ie,Mn,ee,aU=I(()=>{d();Gt();sU=N(Pr());Cp();oU=typeof Buffer<"u",Dte=2048,ie=qo(Dte),Mn=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),ee=0});var Lw,cU=I(()=>{d();nU();aU();Lw={deserialize(e){return eU(e),Zr(0,e.length)},serialize(e){try{return iU(e),kw()}catch(t){throw kw(),t}},resizeEncodingBuffer(e){Rp(e)}}});var uU=$(vp=>{"use strict";d();Object.defineProperty(vp,"__esModule",{value:!0});vp.fromBase64=void 0;var Ote=su(),$te=/^[A-Za-z0-9+/]*={0,2}$/,kte=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!$te.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Ote.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};vp.fromBase64=kte});var lU=$(Pp=>{"use strict";d();Object.defineProperty(Pp,"__esModule",{value:!0});Pp.toBase64=void 0;var Lte=su(),Mte=Pr(),Ute=e=>{let t;if(typeof e=="string"?t=(0,Mte.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Lte.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Pp.toBase64=Ute});var Vt=$(lu=>{"use strict";d();var dU=uU(),fU=lU();Object.keys(dU).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(lu,e)&&Object.defineProperty(lu,e,{enumerable:!0,get:function(){return dU[e]}})});Object.keys(fU).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(lu,e)&&Object.defineProperty(lu,e,{enumerable:!0,get:function(){return fU[e]}})})});var Uw=$(Np=>{"use strict";d();Object.defineProperty(Np,"__esModule",{value:!0});Np.ChecksumStream=void 0;var Bte=Vt(),Fte=ne("stream"),Mw=class extends Fte.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=s??Bte.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Np.ChecksumStream=Mw});var Wo=$(Zi=>{"use strict";d();Object.defineProperty(Zi,"__esModule",{value:!0});Zi.isBlob=Zi.isReadableStream=void 0;var Hte=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);Zi.isReadableStream=Hte;var jte=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);Zi.isBlob=jte});var pU=$(Dp=>{"use strict";d();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.ChecksumStream=void 0;var qte=typeof ReadableStream=="function"?ReadableStream:function(){},Bw=class extends qte{};Dp.ChecksumStream=Bw});var mU=$(Op=>{"use strict";d();Object.defineProperty(Op,"__esModule",{value:!0});Op.createChecksumStream=void 0;var zte=Vt(),Gte=Wo(),Vte=pU(),Wte=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{if(!(0,Gte.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=o??zte.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,f){t.update(c),f.enqueue(c)},async flush(c){let f=await t.digest(),m=s(f);if(e!==m){let p=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);c.error(p)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,Vte.ChecksumStream.prototype),a};Op.createChecksumStream=Wte});var hU=$(Fw=>{"use strict";d();Object.defineProperty(Fw,"__esModule",{value:!0});Fw.createChecksumStream=Qte;var Kte=Wo(),Yte=Uw(),Xte=mU();function Qte(e){return typeof ReadableStream=="function"&&(0,Kte.isReadableStream)(e.source)?(0,Xte.createChecksumStream)(e):new Yte.ChecksumStream(e)}});var jw=$($p=>{"use strict";d();Object.defineProperty($p,"__esModule",{value:!0});$p.ByteArrayCollector=void 0;var Hw=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};$p.ByteArrayCollector=Hw});var EU=$(Un=>{"use strict";d();Object.defineProperty(Un,"__esModule",{value:!0});Un.createBufferedReadable=void 0;Un.createBufferedReadableStream=gU;Un.merge=yU;Un.flush=kp;Un.sizeOf=ea;Un.modeOf=SU;var Jte=jw();function gU(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new Jte.ByteArrayCollector(f=>new Uint8Array(f))],a=-1,c=async f=>{let{value:m,done:p}=await n.read(),E=m;if(p){if(a!==-1){let y=kp(i,a);ea(y)>0&&f.enqueue(y)}f.close()}else{let y=SU(E,!1);if(a!==y&&(a>=0&&f.enqueue(kp(i,a)),a=y),a===-1){f.enqueue(E);return}let w=ea(E);s+=w;let C=ea(i[a]);if(w>=t&&C===0)f.enqueue(E);else{let A=yU(i,a,E);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${w} is below threshold of ${t}, automatically buffering.`)),A>=t?f.enqueue(kp(i,a)):await c(f)}}};return new ReadableStream({pull:c})}Un.createBufferedReadable=gU;function yU(e,t,r){switch(t){case 0:return e[0]+=r,ea(e[0]);case 1:case 2:return e[t].push(r),ea(e[t])}}function kp(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function ea(e){return e?.byteLength??e?.length??0}function SU(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var TU=$(qw=>{"use strict";d();Object.defineProperty(qw,"__esModule",{value:!0});qw.createBufferedReadable=tre;var Zte=ne("node:stream"),bU=jw(),Bn=EU(),ere=Wo();function tre(e,t,r){if((0,ere.isReadableStream)(e))return(0,Bn.createBufferedReadableStream)(e,t,r);let n=new Zte.Readable({read(){}}),o=!1,s=0,i=["",new bU.ByteArrayCollector(c=>new Uint8Array(c)),new bU.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let f=(0,Bn.modeOf)(c,!0);if(a!==f&&(a>=0&&n.push((0,Bn.flush)(i,a)),a=f),a===-1){n.push(c);return}let m=(0,Bn.sizeOf)(c);s+=m;let p=(0,Bn.sizeOf)(i[a]);if(m>=t&&p===0)n.push(c);else{let E=(0,Bn.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${t}, automatically buffering.`)),E>=t&&n.push((0,Bn.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Bn.flush)(i,a);(0,Bn.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var wU=$(Lp=>{"use strict";d();Object.defineProperty(Lp,"__esModule",{value:!0});Lp.getAwsChunkedEncodingStream=void 0;var rre=ne("stream"),nre=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,f=new rre.Readable({read:()=>{}});return e.on("data",m=>{let p=n(m)||0;f.push(`${p.toString(16)}\r
`),f.push(m),f.push(`\r
`)}),e.on("end",async()=>{if(f.push(`0\r
`),a){let m=r(await c);f.push(`${s}:${m}\r
`),f.push(`\r
`)}f.push(null)}),f};Lp.getAwsChunkedEncodingStream=nre});var _U=$(zw=>{"use strict";d();Object.defineProperty(zw,"__esModule",{value:!0});zw.headStream=ore;async function ore(e,t){let r=0,n=[],o=e.getReader(),s=!1;for(;!s;){let{done:c,value:f}=await o.read();if(f&&(n.push(f),r+=f?.byteLength??0),r>=t)break;s=c}o.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var xU=$(Mp=>{"use strict";d();Object.defineProperty(Mp,"__esModule",{value:!0});Mp.headStream=void 0;var sre=ne("stream"),ire=_U(),are=Wo(),cre=(e,t)=>(0,are.isReadableStream)(e)?(0,ire.headStream)(e,t):new Promise((r,n)=>{let o=new Gw;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});Mp.headStream=cre;var Gw=class extends sre.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var Up=$(Me=>{"use strict";d();Me.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Me.HttpAuthLocation||(Me.HttpAuthLocation={}));Me.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Me.HttpApiKeyAuthLocation||(Me.HttpApiKeyAuthLocation={}));Me.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Me.EndpointURLScheme||(Me.EndpointURLScheme={}));Me.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Me.AlgorithmId||(Me.AlgorithmId={}));var ure=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>Me.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>Me.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},lre=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},dre=e=>ure(e),fre=e=>lre(e);Me.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Me.FieldPosition||(Me.FieldPosition={}));var pre="__smithy_context";Me.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Me.IniSectionType||(Me.IniSectionType={}));Me.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Me.RequestHandlerProtocol||(Me.RequestHandlerProtocol={}));Me.SMITHY_CONTEXT_KEY=pre;Me.getDefaultClientConfiguration=dre;Me.resolveDefaultRuntimeConfig=fre});var Yo=$(Ko=>{"use strict";d();var mre=Up(),hre=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),gre=e=>({httpHandler:e.httpHandler()}),Vw=class{name;kind;values;constructor({name:t,kind:r=mre.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Ww=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},Kw=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=yre(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function yre(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var Yw=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function Sre(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Ko.Field=Vw;Ko.Fields=Ww;Ko.HttpRequest=Kw;Ko.HttpResponse=Yw;Ko.getHttpHandlerExtensionConfiguration=hre;Ko.isValidHostname=Sre;Ko.resolveHttpHandlerRuntimeConfig=gre});var CU=$(Xw=>{"use strict";d();var IU=e=>encodeURIComponent(e).replace(/[!'()*]/g,Ere),Ere=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,bre=e=>e.split("/").map(IU).join("/");Xw.escapeUri=IU;Xw.escapeUriPath=bre});var Jw=$(AU=>{"use strict";d();var Qw=CU();function Tre(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=Qw.escapeUri(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${Qw.escapeUri(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${Qw.escapeUri(n)}`),t.push(o)}}return t.join("&")}AU.buildQueryString=Tre});var LU=$(du=>{"use strict";d();var NU=Yo(),DU=Jw(),Bp=ne("http"),Fp=ne("https"),OU=ne("stream"),Zw=ne("http2"),wre=["ECONNRESET","EPIPE","ETIMEDOUT"],$U=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},Lt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},RU=1e3,_re=(e,t,r=0)=>{if(!r)return-1;let n=o=>{let s=Lt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-o),i=a=>{a?.connecting?a.on("connect",()=>{Lt.clearTimeout(s)}):Lt.clearTimeout(s)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):Lt.setTimeout(n.bind(null,RU),RU)},xre=(e,t,r=0,n,o)=>r?Lt.setTimeout(()=>{let s=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(s)},r):-1,Ire=3e3,Cre=(e,{keepAlive:t,keepAliveMsecs:r},n=Ire)=>{if(t!==!0)return-1;let o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})};return n===0?(o(),0):Lt.setTimeout(o,n)},vU=3e3,Are=(e,t,r=0)=>{let n=o=>{let s=r-o,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)};return 0<r&&r<6e3?(n(0),0):Lt.setTimeout(n.bind(null,r===0?0:vU),vU)},PU=6e3;async function kU(e,t,r=PU,n=!1){let o=t.headers??{},s=o.Expect||o.expect,i=-1,a=!0;!n&&s==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(Lt.setTimeout(()=>c(!0),Math.max(PU,r)))}),new Promise(c=>{e.on("continue",()=>{Lt.clearTimeout(i),c(!0)}),e.on("response",()=>{Lt.clearTimeout(i),c(!1)}),e.on("error",()=>{Lt.clearTimeout(i),c(!1)})})])),a&&Rre(e,t.body)}function Rre(e,t){if(t instanceof OU.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var vre=0,e0=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let f=o[c]?.length??0,m=s[c]?.length??0;if(f>=i&&m>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${f} and ${m} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=t||{},f=!0,m=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:c,httpAgent:i instanceof Bp.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Bp.Agent({keepAlive:f,maxSockets:m,...i}),httpsAgent:a instanceof Fp.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Fp.Agent({keepAlive:f,maxSockets:m,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i=this.config,a,c=[],f=async F=>{await a,c.forEach(Lt.clearTimeout),o(F)},m=async F=>{await a,c.forEach(Lt.clearTimeout),s(F)};if(r?.aborted){let F=new Error("Request aborted");F.name="AbortError",m(F);return}let p=t.protocol==="https:",E=t.headers??{},y=(E.Expect??E.expect)==="100-continue",w=p?i.httpsAgent:i.httpAgent;y&&!this.externalAgent&&(w=new(p?Fp.Agent:Bp.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(Lt.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(w,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let C=DU.buildQueryString(t.query||{}),A;if(t.username!=null||t.password!=null){let F=t.username??"",z=t.password??"";A=`${F}:${z}`}let v=t.path;C&&(v+=`?${C}`),t.fragment&&(v+=`#${t.fragment}`);let D=t.hostname??"";D[0]==="["&&D.endsWith("]")?D=t.hostname.slice(1,-1):D=t.hostname;let k={headers:t.headers,host:D,method:t.method,path:v,port:t.port,agent:w,auth:A},B=(p?Fp.request:Bp.request)(k,F=>{let z=new NU.HttpResponse({statusCode:F.statusCode||-1,reason:F.statusMessage,headers:$U(F.headers),body:F});f({response:z})});if(B.on("error",F=>{wre.includes(F.code)?m(Object.assign(F,{name:"TimeoutError"})):m(F)}),r){let F=()=>{B.destroy();let z=new Error("Request aborted");z.name="AbortError",m(z)};if(typeof r.addEventListener=="function"){let z=r;z.addEventListener("abort",F,{once:!0}),B.once("close",()=>z.removeEventListener("abort",F))}else r.onabort=F}let j=n??i.requestTimeout;c.push(_re(B,m,i.connectionTimeout)),c.push(xre(B,m,j,i.throwOnRequestTimeout,i.logger??console)),c.push(Are(B,m,i.socketTimeout));let de=k.agent;typeof de=="object"&&"keepAlive"in de&&c.push(Cre(B,{keepAlive:de.keepAlive,keepAliveMsecs:de.keepAliveMsecs})),a=kU(B,t,j,this.externalAgent).catch(F=>(c.forEach(Lt.clearTimeout),s(F)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},t0=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},r0=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=Zw.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=()=>{s.destroy(),this.deleteSession(n,s)};s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new t0;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},n0=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new r0({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let f=!1,m,p=async te=>{await m,a(te)},E=async te=>{await m,c(te)};if(r?.aborted){f=!0;let te=new Error("Request aborted");te.name="AbortError",E(te);return}let{hostname:y,method:w,port:C,protocol:A,query:v}=t,D="";if(t.username!=null||t.password!=null){let te=t.username??"",_e=t.password??"";D=`${te}:${_e}@`}let k=`${A}//${D}${y}${C?`:${C}`:""}`,M={destination:new URL(k)},B=this.connectionManager.lease(M,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),j=te=>{s&&this.destroySession(B),f=!0,E(te)},de=DU.buildQueryString(v||{}),F=t.path;de&&(F+=`?${de}`),t.fragment&&(F+=`#${t.fragment}`);let z=B.request({...t.headers,[Zw.constants.HTTP2_HEADER_PATH]:F,[Zw.constants.HTTP2_HEADER_METHOD]:w});if(B.ref(),z.on("response",te=>{let _e=new NU.HttpResponse({statusCode:te[":status"]||-1,headers:$U(te),body:z});f=!0,p({response:_e}),s&&(B.close(),this.connectionManager.deleteSession(k,B))}),i&&z.setTimeout(i,()=>{z.close();let te=new Error(`Stream timed out because of no activity for ${i} ms`);te.name="TimeoutError",j(te)}),r){let te=()=>{z.close();let _e=new Error("Request aborted");_e.name="AbortError",j(_e)};if(typeof r.addEventListener=="function"){let _e=r;_e.addEventListener("abort",te,{once:!0}),z.once("close",()=>_e.removeEventListener("abort",te))}else r.onabort=te}z.on("frameError",(te,_e,Ve)=>{j(new Error(`Frame type id ${te} in stream id ${Ve} has failed with code ${_e}.`))}),z.on("error",j),z.on("aborted",()=>{j(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${z.rstCode}.`))}),z.on("close",()=>{B.unref(),s&&B.destroy(),f||j(new Error("Unexpected error: http2 request did not get a response"))}),m=kU(z,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},o0=class extends OU.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},Pre=e=>Nre(e)?Dre(e):new Promise((t,r)=>{let n=new o0;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),Nre=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function Dre(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}du.DEFAULT_REQUEST_TIMEOUT=vre;du.NodeHttp2Handler=n0;du.NodeHttpHandler=e0;du.streamCollector=Pre});var BU=$(jp=>{"use strict";d();var MU=Yo(),Ore=Jw(),$re=Vt();function UU(e,t){return new Request(e,t)}function kre(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var Hp={supported:void 0},s0=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Hp.supported===void 0&&(Hp.supported=typeof Request<"u"&&"keepalive"in UU("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let D=new Error("Request aborted");return D.name="AbortError",Promise.reject(D)}let a=t.path,c=Ore.buildQueryString(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let f="";if(t.username!=null||t.password!=null){let D=t.username??"",k=t.password??"";f=`${D}:${k}@`}let{port:m,method:p}=t,E=`${t.protocol}//${f}${t.hostname}${m?`:${m}`:""}${a}`,y=p==="GET"||p==="HEAD"?void 0:t.body,w={body:y,headers:new Headers(t.headers),method:p,credentials:i};this.config?.cache&&(w.cache=this.config.cache),y&&(w.duplex="half"),typeof AbortController<"u"&&(w.signal=r),Hp.supported&&(w.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(w,this.config.requestInit(t));let C=()=>{},A=UU(E,w),v=[fetch(A).then(D=>{let k=D.headers,M={};for(let j of k.entries())M[j[0]]=j[1];return D.body!=null?{response:new MU.HttpResponse({headers:M,reason:D.statusText,statusCode:D.status,body:D.body})}:D.blob().then(j=>({response:new MU.HttpResponse({headers:M,reason:D.statusText,statusCode:D.status,body:j})}))}),kre(o)];return r&&v.push(new Promise((D,k)=>{let M=()=>{let B=new Error("Request aborted");B.name="AbortError",k(B)};if(typeof r.addEventListener=="function"){let B=r;B.addEventListener("abort",M,{once:!0}),C=()=>B.removeEventListener("abort",M)}else r.onabort=M})),Promise.race(v).finally(C)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},Lre=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Mre(e):Ure(e);async function Mre(e){let t=await Bre(e),r=$re.fromBase64(t);return new Uint8Array(r)}async function Ure(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}function Bre(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}jp.FetchHttpHandler=s0;jp.keepAliveSupport=Hp;jp.streamCollector=Lre});var HU=$(a0=>{"use strict";d();var FU={},i0={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),FU[e]=t,i0[t]=e}function Fre(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in i0)t[r/2]=i0[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function Hre(e){let t="";for(let r=0;r<e.byteLength;r++)t+=FU[e[r]];return t}a0.fromHex=Fre;a0.toHex=Hre});var GU=$(qp=>{"use strict";d();Object.defineProperty(qp,"__esModule",{value:!0});qp.sdkStreamMixin=void 0;var jre=BU(),qre=Vt(),zre=HU(),Gre=Pr(),jU=Wo(),qU="The stream has already been transformed.",Vre=e=>{if(!zU(e)&&!(0,jU.isReadableStream)(e)){let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(qU);return t=!0,await(0,jre.streamCollector)(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let s=await r();if(o==="base64")return(0,qre.toBase64)(s);if(o==="hex")return(0,zre.toHex)(s);if(o===void 0||o==="utf8"||o==="utf-8")return(0,Gre.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(qU);if(t=!0,zU(e))return n(e);if((0,jU.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};qp.sdkStreamMixin=Vre;var zU=e=>typeof Blob=="function"&&e instanceof Blob});var WU=$(zp=>{"use strict";d();Object.defineProperty(zp,"__esModule",{value:!0});zp.sdkStreamMixin=void 0;var Wre=LU(),Kre=su(),c0=ne("stream"),Yre=GU(),VU="The stream has already been transformed.",Xre=e=>{if(!(e instanceof c0.Readable))try{return(0,Yre.sdkStreamMixin)(e)}catch{let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(VU);return t=!0,await(0,Wre.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();return n===void 0||Buffer.isEncoding(n)?(0,Kre.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(n):new TextDecoder(n).decode(o)},transformToWebStream:()=>{if(t)throw new Error(VU);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof c0.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,c0.Readable.toWeb(e)}})};zp.sdkStreamMixin=Xre});var KU=$(u0=>{"use strict";d();Object.defineProperty(u0,"__esModule",{value:!0});u0.splitStream=Qre;async function Qre(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var QU=$(l0=>{"use strict";d();Object.defineProperty(l0,"__esModule",{value:!0});l0.splitStream=Zre;var YU=ne("stream"),Jre=KU(),XU=Wo();async function Zre(e){if((0,XU.isReadableStream)(e)||(0,XU.isBlob)(e))return(0,Jre.splitStream)(e);let t=new YU.PassThrough,r=new YU.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var f0=$(at=>{"use strict";d();var JU=Vt(),ZU=Pr(),eB=Uw(),tB=hU(),rB=TU(),nB=wU(),oB=xU(),sB=WU(),iB=QU(),aB=Wo(),d0=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(JU.fromBase64(t)):e.mutate(ZU.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?JU.toBase64(this):ZU.toUtf8(this)}};at.Uint8ArrayBlobAdapter=d0;Object.keys(eB).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(at,e)&&Object.defineProperty(at,e,{enumerable:!0,get:function(){return eB[e]}})});Object.keys(tB).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(at,e)&&Object.defineProperty(at,e,{enumerable:!0,get:function(){return tB[e]}})});Object.keys(rB).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(at,e)&&Object.defineProperty(at,e,{enumerable:!0,get:function(){return rB[e]}})});Object.keys(nB).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(at,e)&&Object.defineProperty(at,e,{enumerable:!0,get:function(){return nB[e]}})});Object.keys(oB).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(at,e)&&Object.defineProperty(at,e,{enumerable:!0,get:function(){return oB[e]}})});Object.keys(sB).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(at,e)&&Object.defineProperty(at,e,{enumerable:!0,get:function(){return sB[e]}})});Object.keys(iB).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(at,e)&&Object.defineProperty(at,e,{enumerable:!0,get:function(){return iB[e]}})});Object.keys(aB).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(at,e)&&Object.defineProperty(at,e,{enumerable:!0,get:function(){return aB[e]}})})});var Gp,hr,Vp=I(()=>{d();Gp=N(f0()),hr=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Gp.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Gp.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Gp.Uint8ArrayBlobAdapter.mutate(await r)}});function en(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Wp=I(()=>{d()});var Nr,p0=I(()=>{d();Nr=e=>typeof e=="function"?e():e});var Kp=$(m0=>{"use strict";d();var cB=Up(),ene=e=>e[cB.SMITHY_CONTEXT_KEY]||(e[cB.SMITHY_CONTEXT_KEY]={}),tne=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};m0.getSmithyContext=ene;m0.normalizeProvider=tne});var fu,Yp=I(()=>{d();fu=(e,t,r,n,o)=>({name:t,namespace:e,traits:r,input:n,output:o})});var uB,lB,dB,h0,fB=I(()=>{d();uB=N(Yo()),lB=N(Kp());Yp();dB=e=>(t,r)=>async n=>{let{response:o}=await t(n),{operationSchema:s}=(0,lB.getSmithyContext)(r),[,i,a,c,f,m]=s??[];try{let p=await e.protocol.deserializeResponse(fu(i,a,c,f,m),{...e,...r},o);return{response:o,output:p}}catch(p){if(Object.defineProperty(p,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in p)){let E="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{p.message+=`
  `+E}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(E):r.logger?.warn?.(E)}typeof p.$responseBodyText<"u"&&p.$response&&(p.$response.body=p.$responseBodyText);try{if(uB.HttpResponse.isInstance(o)){let{headers:y={}}=o,w=Object.entries(y);p.$metadata={httpStatusCode:o.statusCode,requestId:h0(/^x-[\w-]+-request-?id$/,w),extendedRequestId:h0(/^x-[\w-]+-id-2$/,w),cfId:h0(/^x-[\w-]+-cf-id$/,w)}}}catch{}}throw p}},h0=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var pB,mB,hB=I(()=>{d();pB=N(Kp());Yp();mB=e=>(t,r)=>async n=>{let{operationSchema:o}=(0,pB.getSmithyContext)(r),[,s,i,a,c,f]=o??[],m=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,p=await e.protocol.serializeRequest(fu(s,i,a,c,f),n.input,{...e,...r,endpoint:m});return t({...n,request:p})}});function rne(e){return{applyToStack:t=>{t.add(mB(e),yB),t.add(dB(e),gB),e.protocol.setSerdeContext(e)}}}var gB,yB,SB=I(()=>{d();fB();hB();gB={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},yB={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ye,Xo=I(()=>{d();Ye=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var Xp,nne,EB=I(()=>{d();Xo();Xp=class e extends Ye{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},nne=(e,t,r,n)=>Ye.assign(new Xp,{name:t,namespace:e,traits:r,valueSchema:n})});var Qp,one,bB=I(()=>{d();Xo();Qp=class e extends Ye{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},one=(e,t,r,n,o)=>Ye.assign(new Qp,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:o})});var Jp,sne,TB=I(()=>{d();Xo();Jp=class e extends Ye{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},sne=(e,t,r,n,o)=>Ye.assign(new Jp,{name:t,namespace:e,traits:r,input:n,output:o})});var ta,ine,g0=I(()=>{d();Xo();ta=class e extends Ye{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},ine=(e,t,r,n,o)=>Ye.assign(new ta,{name:t,namespace:e,traits:r,memberNames:n,memberList:o})});var Zp,ane,wB=I(()=>{d();Xo();g0();Zp=class e extends ta{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},ane=(e,t,r,n,o,s)=>Ye.assign(new Zp,{name:t,namespace:e,traits:r,memberNames:n,memberList:o,ctor:null})});function tn(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var y0=I(()=>{d()});function pu(e,t){if(e instanceof W)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=W;return new r(e,t)}var W,S0,_B,xB=I(()=>{d();p0();y0();W=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],o=t,s=t;for(this._isMemberSchema=!1;S0(o);)n.push(o[1]),o=o[0],s=Nr(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,tn(a))}}else this.memberTraits=0;if(s instanceof e){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=Nr(s),_B(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=Nr(t);if(r instanceof e)return r;if(S0(r)){let[n,o]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),tn(o)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=s=>(s&4)===4||!!s?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:o}=this;return t(r)||t(n)||t(o)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return tn(this.memberTraits)}getOwnTraits(){return tn(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),o=t?15:n[4]??0;return pu([o,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,o]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||o)?t[3+t[0]]:r?15:void 0;if(s!=null)return pu([s,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),o=r[5][n];return pu(S0(o)?o:[o,0],t)}if(this.isDocumentSchema())return pu([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],pu([t[5][r],0],t[4][r])]}};S0=e=>Array.isArray(e)&&e.length===2,_B=e=>Array.isArray(e)&&e.length>=5});var mu,cne,une,IB=I(()=>{d();Xo();mu=class e extends Ye{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},cne=(e,t,r,n)=>Ye.assign(new mu,{name:t,namespace:e,traits:n,schemaRef:r}),une=(e,t,r,n)=>Ye.assign(new mu,{name:t,namespace:e,traits:r,schemaRef:n})});var lne,CB=I(()=>{d();lne={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var rt,AB=I(()=>{d();rt=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,o=e.for(n[1]);o.schemas.set(n[1]+"#"+n[2],n),o.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,o=r+"#"+n;if(o.startsWith("smithy.ts.sdk.synthetic.")&&o.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var E0={};Je(E0,{ErrorSchema:()=>Zp,ListSchema:()=>Xp,MapSchema:()=>Qp,NormalizedSchema:()=>W,OperationSchema:()=>Jp,SCHEMA:()=>lne,Schema:()=>Ye,SimpleSchema:()=>mu,StructureSchema:()=>ta,TypeRegistry:()=>rt,deref:()=>Nr,deserializerMiddlewareOption:()=>gB,error:()=>ane,getSchemaSerdePlugin:()=>rne,isStaticSchema:()=>_B,list:()=>nne,map:()=>one,op:()=>sne,operation:()=>fu,serializerMiddlewareOption:()=>yB,sim:()=>cne,simAdapter:()=>une,struct:()=>ine,translateTraits:()=>tn});var He=I(()=>{d();p0();SB();EB();bB();TB();Yp();wB();xB();Xo();IB();g0();CB();y0();AB()});var Mt,ra=I(()=>{d();Mt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var em,b0,RB=I(()=>{d();em=N(Pr()),b0=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:o,defaultContentType:s}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=o,this.defaultContentType=s}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let o=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,c=this.defaultContentType,f=Symbol("initialRequestMarker"),m={async*[Symbol.asyncIterator](){if(n){let p={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let E=a.flush();yield{[f]:!0,headers:p,body:E}}for await(let p of t)yield p}};return o.serialize(m,p=>{if(p[f])return{headers:p.headers,body:p.body};let E=Object.keys(p).find(D=>D!=="__type")??"",{additionalHeaders:y,body:w,eventType:C,explicitPayloadContentType:A}=this.writeEventBody(E,i,p);return{headers:{":event-type":{type:"string",value:C},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:A??c},...y},body:w}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let o=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),c=Symbol("initialResponseMarker"),f=o.deserialize(t.body,async E=>{let y=Object.keys(E).find(C=>C!=="__type")??"",w=E[y].body;if(y==="initial-response"){let C=await this.deserializer.read(r,w);return delete C[s],{[c]:!0,...C}}else if(y in a){let C=a[y];if(C.isStructSchema()){let A={},v=!1;for(let[D,k]of C.structIterator()){let{eventHeader:M,eventPayload:B}=k.getMergedTraits();if(v=v||!!(M||B),B)k.isBlobSchema()?A[D]=w:k.isStringSchema()?A[D]=(this.serdeContext?.utf8Encoder??em.toUtf8)(w):k.isStructSchema()&&(A[D]=await this.deserializer.read(k,w));else if(M){let j=E[y].headers[D]?.value;j!=null&&(k.isNumericSchema()?j&&typeof j=="object"&&"bytes"in j?A[D]=BigInt(j.toString()):A[D]=Number(j):A[D]=j)}}if(v)return{[y]:A}}return{[y]:await this.deserializer.read(C,w)}}else return{$unknown:E}}),m=f[Symbol.asyncIterator](),p=await m.next();if(p.done)return f;if(p.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[E,y]of Object.entries(p.value))n[E]=y}return{async*[Symbol.asyncIterator](){for(p?.value?.[c]||(yield p.value);;){let{done:E,value:y}=await m.next();if(E)break;yield y}}}}writeEventBody(t,r,n){let o=this.serializer,s=t,i=null,a,c=r.getSchema()[4].includes(t),f={};if(c){let E=r.getMemberSchema(t);if(E.isStructSchema()){for(let[y,w]of E.structIterator()){let{eventHeader:C,eventPayload:A}=w.getMergedTraits();if(A)i=y;else if(C){let v=n[t][y],D="binary";w.isNumericSchema()?(-2)**31<=v&&v<=2**31-1?D="integer":D="long":w.isTimestampSchema()?D="timestamp":w.isStringSchema()?D="string":w.isBooleanSchema()&&(D="boolean"),v!=null&&(f[y]={type:D,value:v},delete n[t][y])}}if(i!==null){let y=E.getMemberSchema(i);y.isBlobSchema()?a="application/octet-stream":y.isStringSchema()&&(a="text/plain"),o.write(y,n[t][i])}else o.write(E,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[E,y]=n[t];s=E,o.write(15,y)}let m=o.flush();return{body:typeof m=="string"?(this.serdeContext?.utf8Decoder??em.fromUtf8)(m):m,eventType:s,explicitPayloadContentType:a,additionalHeaders:f}}}});var vB={};Je(vB,{EventStreamSerde:()=>b0});var PB=I(()=>{d();RB()});var tm,Bs,rm=I(()=>{d();He();tm=N(Yo());ra();Bs=class extends Mt{options;constructor(t){super(),this.options=t}getRequestType(){return tm.HttpRequest}getResponseType(){return tm.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,o]of r.url.searchParams.entries())t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=W.of(r.input),s=tn(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...o.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let f=n[c];if(typeof f!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,f)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(PB(),vB));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,o,s){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var NB,DB,Fs,OB=I(()=>{d();He();Gt();NB=N(Yo()),DB=N(f0());Vp();Wp();rm();Fs=class extends Bs{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),f=W.of(t?.input),m=f.getSchema(),p=!1,E,y=new NB.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(y,c),this.setHostPrefix(y,t,o);let w=tn(t.traits);if(w.http){y.method=w.http[0];let[C,A]=w.http[1].split("?");y.path=="/"?y.path=C:y.path+=C;let v=new URLSearchParams(A??"");Object.assign(i,Object.fromEntries(v))}}for(let[w,C]of f.structIterator()){let A=C.getMergedTraits()??{},v=o[w];if(!(v==null&&!C.isIdempotencyToken()))if(A.httpPayload)C.isStreaming()?C.isStructSchema()?o[w]&&(E=await this.serializeEventStream({eventStream:o[w],requestSchema:f})):E=v:(s.write(C,v),E=s.flush()),delete o[w];else if(A.httpLabel){s.write(C,v);let D=s.flush();y.path.includes(`{${w}+}`)?y.path=y.path.replace(`{${w}+}`,D.split("/").map(en).join("/")):y.path.includes(`{${w}}`)&&(y.path=y.path.replace(`{${w}}`,en(D))),delete o[w]}else if(A.httpHeader)s.write(C,v),a[A.httpHeader.toLowerCase()]=String(s.flush()),delete o[w];else if(typeof A.httpPrefixHeaders=="string"){for(let[D,k]of Object.entries(v)){let M=A.httpPrefixHeaders+D;s.write([C.getValueSchema(),{httpHeader:M}],k),a[M.toLowerCase()]=s.flush()}delete o[w]}else A.httpQuery||A.httpQueryParams?(this.serializeQuery(C,v,i),delete o[w]):p=!0}return p&&o&&(s.write(m,o),E=s.flush()),y.headers=a,y.query=i,y.body=E,y}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let f=o.flush();(i||f!==void 0)&&a.push(f)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=W.of(t.output),i={};if(n.statusCode>=300){let c=await hr(n.body,r);throw c.byteLength>0&&Object.assign(i,await o.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let f=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=f}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let c=await hr(n.body,r);if(c.byteLength>0){let f=await o.read(s,c);for(let m of a)i[m]=f[m]}}else a.discardResponseBody&&await hr(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=!0,c=this.deserializer,f=W.of(t),m=[];for(let[p,E]of f.structIterator()){let y=E.getMemberTraits();if(y.httpPayload){if(a=!1,E.isStreaming())E.isStructSchema()?i[p]=await this.deserializeEventStream({response:n,responseSchema:f}):i[p]=(0,DB.sdkStreamMixin)(n.body);else if(n.body){let C=await hr(n.body,r);C.byteLength>0&&(i[p]=await c.read(E,C))}}else if(y.httpHeader){let w=String(y.httpHeader).toLowerCase(),C=n.headers[w];if(C!=null)if(E.isListSchema()){let A=E.getValueSchema();A.getMergedTraits().httpHeader=w;let v;A.isTimestampSchema()&&A.getSchema()===4?v=Tw(C,",",2):v=ou(C);let D=[];for(let k of v)D.push(await c.read(A,k.trim()));i[p]=D}else i[p]=await c.read(E,C)}else if(y.httpPrefixHeaders!==void 0){i[p]={};for(let[w,C]of Object.entries(n.headers))if(w.startsWith(y.httpPrefixHeaders)){let A=E.getValueSchema();A.getMergedTraits().httpHeader=w,i[p][w.slice(y.httpPrefixHeaders.length)]=await c.read(A,C)}}else y.httpResponseCode?i[p]=n.statusCode:m.push(p)}return m.discardResponseBody=a,m}}});var $B,Fn,kB=I(()=>{d();He();$B=N(Yo());Vp();rm();Fn=class extends Bs{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),c=W.of(t?.input),f=c.getSchema(),m,p=new $B.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(p,a),this.setHostPrefix(p,t,r));let E={...r};if(r){let y=c.getEventStreamMember();if(y){if(E[y]){let w={};for(let[C,A]of c.structIterator())C!==y&&E[C]&&(o.write(A,E[C]),w[C]=o.flush());m=await this.serializeEventStream({eventStream:E[y],requestSchema:c,initialRequest:w})}}else o.write(f,E),m=o.flush()}return p.headers=i,p.query=s,p.body=m,p.method="POST",p}async deserializeResponse(t,r,n){let o=this.deserializer,s=W.of(t.output),i={};if(n.statusCode>=300){let c=await hr(n.body,r);throw c.byteLength>0&&Object.assign(i,await o.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let f=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=f}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:s,initialResponseContainer:i});else{let c=await hr(n.body,r);c.byteLength>0&&Object.assign(i,await o.read(s,c))}return i.$metadata=this.deserializeMetadata(n),i}}});var T0,w0=I(()=>{d();Wp();T0=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>en(a)).join("/"):en(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function dne(e,t){return new nm(e,t)}var LB,nm,MB=I(()=>{d();LB=N(Yo());w0();nm=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new LB.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=T0(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function tr(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?6:s||r?5:void 0:void 0)??t.timestampFormat.default}var om=I(()=>{d()});var _0,UB,Hs,x0=I(()=>{d();He();Gt();_0=N(Vt()),UB=N(Pr());ra();om();Hs=class extends Mt{settings;constructor(t){super(),this.settings=t}read(t,r){let n=W.of(t);if(n.isListSchema())return ou(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??_0.fromBase64)(r);if(n.isTimestampSchema())switch(tr(n,this.settings)){case 5:return Ew(r);case 6:return bw(r);case 7:return Qi(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=kt.from(s)),s}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Fe(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??UB.toUtf8)((this.serdeContext?.base64Decoder??_0.fromBase64)(t))}}});var sm,js,BB=I(()=>{d();He();sm=N(Pr());ra();x0();js=class extends Mt{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new Hs(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=W.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??sm.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??sm.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var I0,hu,C0=I(()=>{d();He();Gt();I0=N(Vt());ra();om();hu=class extends Mt{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=W.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(tr(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=nu(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??I0.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),f=n.getValueSchema().isTimestampSchema()?c:hw(c);i!==""&&(i+=", "),i+=f}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=kt.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??I0.toBase64)(s.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,mr.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var qs,FB=I(()=>{d();He();C0();qs=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new hu(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=W.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var HB={};Je(HB,{FromStringShapeDeserializer:()=>Hs,HttpBindingProtocol:()=>Fs,HttpInterceptingShapeDeserializer:()=>js,HttpInterceptingShapeSerializer:()=>qs,HttpProtocol:()=>Bs,RequestBuilder:()=>nm,RpcProtocol:()=>Fn,SerdeContext:()=>Mt,ToStringShapeSerializer:()=>hu,collectBody:()=>hr,determineTimestampFormat:()=>tr,extendedEncodeURIComponent:()=>en,requestBuilder:()=>dne,resolvedPath:()=>T0});var rr=I(()=>{d();Vp();Wp();OB();rm();kB();MB();w0();x0();BB();FB();C0();om();ra()});var im,am,cm=I(()=>{d();Cp();im=e=>Ip({tag:1,value:e.getTime()/1e3}),am=(e,t)=>{let r=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(o=>o.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var v0,um,A0,R0,P0=I(()=>{d();rr();He();Gt();v0=N(Vt());cU();cm();um=class extends Mt{createSerializer(){let t=new A0;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new R0;return t.setSerdeContext(this.serdeContext),t}},A0=class extends Mt{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=W.of(t);if(r==null)return n.isIdempotencyToken()?(0,mr.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??v0.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?im(new Date(Number(r)/1e3|0)):im(r);if(typeof r=="function"||typeof r=="object"){let o=r;if(n.isListSchema()&&Array.isArray(o)){let i=!!n.getMergedTraits().sparse,a=[],c=0;for(let f of o){let m=this.serialize(n.getValueSchema(),f);(m!=null||i)&&(a[c++]=m)}return a}if(o instanceof Date)return im(o);let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(o)){let c=this.serialize(n.getValueSchema(),o[a]);(c!=null||i)&&(s[a]=c)}}else if(n.isStructSchema()){for(let[a,c]of n.structIterator()){let f=this.serialize(c,o[a]);f!=null&&(s[a]=f)}if(n.isUnionSchema()&&Array.isArray(o.$unknown)){let[a,c]=o.$unknown;s[a]=c}}else if(n.isDocumentSchema())for(let i of Object.keys(o))s[i]=this.serialize(n.getValueSchema(),o[i]);return s}return r}flush(){let t=Lw.serialize(this.value);return this.value=void 0,t}},R0=class extends Mt{read(t,r){let n=Lw.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=W.of(t);if(n.isTimestampSchema()){if(typeof r=="number")return Qi(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return Qi(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??v0.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let s=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let f=this.readValue(i,c);(f!=null||a)&&s.push(f)}return s}let o={};if(n.isMapSchema()){let s=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(i,r[a]);(c!=null||s)&&(o[a]=c)}}else if(n.isStructSchema()){let s=n.isUnionSchema(),i;s&&(i=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,c]of n.structIterator())s&&i.delete(a),r[a]!=null&&(o[a]=this.readValue(c,r[a]));if(s&&i?.size===1&&Object.keys(o).length===0){let a=i.values().next().value;o.$unknown=[a,r[a]]}}return o}else return r}}});var jB,lm,qB=I(()=>{d();rr();He();jB=N(Kp());P0();cm();lm=class extends Fn{codec=new um;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);if(Object.assign(o.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Nr(t.input)==="unit")delete o.body,delete o.headers["content-type"];else{o.body||(this.serializer.write(15,{}),o.body=this.serializer.flush());try{o.headers["content-length"]=String(o.body.byteLength)}catch{}}let{service:s,operation:i}=(0,jB.getSmithyContext)(n),a=`/service/${s}/operation/${i}`;return o.path.endsWith("/")?o.path+=a.slice(1):o.path+=a,o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=am(n,o)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let c={$metadata:s,$fault:n.statusCode<=500?"client":"server"},f=rt.for(a),m;try{m=f.getSchema(i)}catch{o.Message&&(o.message=o.Message);let v=rt.for("smithy.ts.sdk.synthetic."+a),D=v.getBaseException();if(D){let k=v.getErrorCtor(D);throw Object.assign(new k({name:i}),c,o)}throw Object.assign(new Error(i),c,o)}let p=W.of(m),E=f.getErrorCtor(m),y=o.message??o.Message??"Unknown",w=new E(y),C={};for(let[A,v]of p.structIterator())C[A]=this.deserializer.readValue(v,o[A]);throw Object.assign(w,c,{$fault:p.getMergedTraits().error,message:y},C)}getDefaultContentType(){return"application/cbor"}}});var zB=I(()=>{d();cm();qB();P0()});var KB=$(WB=>{"use strict";d();var zs=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},Qo=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,N0=()=>{let e=[],t=[],r=!1,n=new Set,o=p=>p.sort((E,y)=>GB[y.step]-GB[E.step]||VB[y.priority||"normal"]-VB[E.priority||"normal"]),s=p=>{let E=!1,y=w=>{let C=zs(w.name,w.aliases);if(C.includes(p)){E=!0;for(let A of C)n.delete(A);return!1}return!0};return e=e.filter(y),t=t.filter(y),E},i=p=>{let E=!1,y=w=>{if(w.middleware===p){E=!0;for(let C of zs(w.name,w.aliases))n.delete(C);return!1}return!0};return e=e.filter(y),t=t.filter(y),E},a=p=>(e.forEach(E=>{p.add(E.middleware,{...E})}),t.forEach(E=>{p.addRelativeTo(E.middleware,{...E})}),p.identifyOnResolve?.(m.identifyOnResolve()),p),c=p=>{let E=[];return p.before.forEach(y=>{y.before.length===0&&y.after.length===0?E.push(y):E.push(...c(y))}),E.push(p),p.after.reverse().forEach(y=>{y.before.length===0&&y.after.length===0?E.push(y):E.push(...c(y))}),E},f=(p=!1)=>{let E=[],y=[],w={};return e.forEach(A=>{let v={...A,before:[],after:[]};for(let D of zs(v.name,v.aliases))w[D]=v;E.push(v)}),t.forEach(A=>{let v={...A,before:[],after:[]};for(let D of zs(v.name,v.aliases))w[D]=v;y.push(v)}),y.forEach(A=>{if(A.toMiddleware){let v=w[A.toMiddleware];if(v===void 0){if(p)return;throw new Error(`${A.toMiddleware} is not found when adding ${Qo(A.name,A.aliases)} middleware ${A.relation} ${A.toMiddleware}`)}A.relation==="after"&&v.after.push(A),A.relation==="before"&&v.before.push(A)}}),o(E).map(c).reduce((A,v)=>(A.push(...v),A),[])},m={add:(p,E={})=>{let{name:y,override:w,aliases:C}=E,A={step:"initialize",priority:"normal",middleware:p,...E},v=zs(y,C);if(v.length>0){if(v.some(D=>n.has(D))){if(!w)throw new Error(`Duplicate middleware name '${Qo(y,C)}'`);for(let D of v){let k=e.findIndex(B=>B.name===D||B.aliases?.some(j=>j===D));if(k===-1)continue;let M=e[k];if(M.step!==A.step||A.priority!==M.priority)throw new Error(`"${Qo(M.name,M.aliases)}" middleware with ${M.priority} priority in ${M.step} step cannot be overridden by "${Qo(y,C)}" middleware with ${A.priority} priority in ${A.step} step.`);e.splice(k,1)}}for(let D of v)n.add(D)}e.push(A)},addRelativeTo:(p,E)=>{let{name:y,override:w,aliases:C}=E,A={middleware:p,...E},v=zs(y,C);if(v.length>0){if(v.some(D=>n.has(D))){if(!w)throw new Error(`Duplicate middleware name '${Qo(y,C)}'`);for(let D of v){let k=t.findIndex(B=>B.name===D||B.aliases?.some(j=>j===D));if(k===-1)continue;let M=t[k];if(M.toMiddleware!==A.toMiddleware||M.relation!==A.relation)throw new Error(`"${Qo(M.name,M.aliases)}" middleware ${M.relation} "${M.toMiddleware}" middleware cannot be overridden by "${Qo(y,C)}" middleware ${A.relation} "${A.toMiddleware}" middleware.`);t.splice(k,1)}}for(let D of v)n.add(D)}t.push(A)},clone:()=>a(N0()),use:p=>{p.applyToStack(m)},remove:p=>typeof p=="string"?s(p):i(p),removeByTag:p=>{let E=!1,y=w=>{let{tags:C,name:A,aliases:v}=w;if(C&&C.includes(p)){let D=zs(A,v);for(let k of D)n.delete(k);return E=!0,!1}return!0};return e=e.filter(y),t=t.filter(y),E},concat:p=>{let E=a(N0());return E.use(p),E.identifyOnResolve(r||E.identifyOnResolve()||(p.identifyOnResolve?.()??!1)),E},applyToStack:a,identify:()=>f(!0).map(p=>{let E=p.step??p.relation+" "+p.toMiddleware;return Qo(p.name,p.aliases)+" - "+E}),identifyOnResolve(p){return typeof p=="boolean"&&(r=p),r},resolve:(p,E)=>{for(let y of f().map(w=>w.middleware).reverse())p=y(p,E);return r&&console.log(m.identify()),p}};return m},GB={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},VB={high:3,normal:2,low:1};WB.constructStack=N0});var Hn=$(ve=>{"use strict";d();var QB=KB(),F0=(rr(),ue(HB)),O0=Up(),fne=(He(),ue(E0)),YB=(Gt(),ue(WM)),$0=class{config;middlewareStack=QB.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=o===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},D0="***SensitiveInformation***";function k0(e,t){if(t==null)return t;let r=fne.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return D0;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return D0}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return D0}else if(r.isStructSchema()&&typeof t=="object"){let n=t,o={};for(let[s,i]of r.structIterator())n[s]!=null&&(o[s]=k0(i,n[s]));return o}return t}var dm=class{middlewareStack=QB.constructStack();schema;static classBuilder(){return new L0}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:f,additionalContext:m,CommandCtor:p}){for(let A of o.bind(this)(p,t,r,n))this.middlewareStack.use(A);let E=t.concat(this.middlewareStack),{logger:y}=r,w={logger:y,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[O0.SMITHY_CONTEXT_KEY]:{commandInstance:this,...f},...m},{requestHandler:C}=r;return E.resolve(A=>C.handle(A.request,n||{}),w)}},L0=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends dm{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,o,s){let i=t._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,o,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?k0.bind(null,a):f=>f),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?k0.bind(null,c):f=>f),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},pne="***SensitiveInformation***",mne=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=async function(i,a,c){let f=new n(i);if(typeof a=="function")this.send(f,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(f,a||{},c)}else return this.send(f,a)},s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},M0=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},JB=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},ZB=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=gne(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw JB(i,t)},hne=e=>({output:t,parsedBody:r,errorCode:n})=>{ZB({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},gne=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),yne=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},XB=!1,Sne=e=>{e&&!XB&&parseInt(e.substring(1,e.indexOf(".")))<16&&(XB=!0)},Ene=e=>{let t=[];for(let r in O0.AlgorithmId){let n=O0.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},bne=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Tne=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),wne=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},eF=e=>Object.assign(Ene(e),Tne(e)),_ne=eF,xne=e=>Object.assign(bne(e),wne(e)),Ine=e=>Array.isArray(e)?e:[e],tF=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=tF(e[r]));return e},Cne=e=>e!=null,U0=class{trace(){}debug(){}info(){}warn(){}error(){}};function rF(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,vne(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}nF(n,null,s,i)}return n}var Ane=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},Rne=(e,t)=>{let r={};for(let n in t)nF(r,e,t,n);return r},vne=(e,t,r)=>rF(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),nF=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=Pne,c=Nne,f=n]=i;(typeof a=="function"&&a(t[f])||typeof a!="function"&&a)&&(e[n]=c(t[f]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},Pne=e=>e!=null,Nne=e=>e,Dne=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},One=e=>e.toISOString().replace(".000Z","Z"),B0=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(B0);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=B0(e[r]));return t}return e};Object.defineProperty(ve,"collectBody",{enumerable:!0,get:function(){return F0.collectBody}});Object.defineProperty(ve,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return F0.extendedEncodeURIComponent}});Object.defineProperty(ve,"resolvedPath",{enumerable:!0,get:function(){return F0.resolvedPath}});ve.Client=$0;ve.Command=dm;ve.NoOpLogger=U0;ve.SENSITIVE_STRING=pne;ve.ServiceException=M0;ve._json=B0;ve.convertMap=Ane;ve.createAggregatedClient=mne;ve.decorateServiceException=JB;ve.emitWarningIfUnsupportedVersion=Sne;ve.getArrayIfSingleItem=Ine;ve.getDefaultClientConfiguration=_ne;ve.getDefaultExtensionConfiguration=eF;ve.getValueFromTextNode=tF;ve.isSerializableHeaderValue=Cne;ve.loadConfigsForDefaultMode=yne;ve.map=rF;ve.resolveDefaultRuntimeConfig=xne;ve.serializeDateTime=One;ve.serializeFloat=Dne;ve.take=Rne;ve.throwDefaultError=ZB;ve.withBaseException=hne;Object.keys(YB).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ve,e)&&Object.defineProperty(ve,e,{enumerable:!0,get:function(){return YB[e]}})})});var H0,gr,na=I(()=>{d();He();H0=N(Hn()),gr=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),o=Object.values(n).find(s=>!!s.getMergedTraits().httpPayload);if(o){let s=o.getMergedTraits().mediaType;return s||(o.isStringSchema()?"text/plain":o.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:f,httpLabel:m,httpPrefixHeaders:p}=i.getMergedTraits();return!a&&!c&&!f&&!m&&p===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,o,s,i){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let f={$metadata:s,$fault:n.statusCode<500?"client":"server"},m=rt.for(a);try{return{errorSchema:i?.(m,c)??m.getSchema(t),errorMetadata:f}}catch{o.message=o.message??o.Message??"UnknownError";let E=rt.for("smithy.ts.sdk.synthetic."+a),y=E.getBaseException();if(y){let w=E.getErrorCtor(y)??Error;throw this.decorateServiceException(Object.assign(new w({name:c}),f),o)}throw this.decorateServiceException(Object.assign(new Error(c),f),o)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,o=(0,H0.decorateServiceException)(t,r);n&&(o.message=n),o.Error={...o.Error,Type:o.Error.Type,Code:o.Error.Code,Message:o.Error.message??o.Error.Message??n};let s=o.$metadata.requestId;return s&&(o.RequestId=s),o}return(0,H0.decorateServiceException)(t,r)}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,s]=n.split(";"),i=Object.entries(t),a={Code:o,Type:s};Object.assign(t,a);for(let[c,f]of i)a[c==="message"?"Message":c]=f;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(o=>W.of(o).getMergedTraits().awsQueryError?.[0]===r)}}}});var j0,oF=I(()=>{d();zB();He();na();j0=class extends lm{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new gr(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),o}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=(()=>{let w=n.headers["x-amzn-query-error"];return w&&this.awsQueryCompatible?w.split(";")[0]:am(n,o)??"Unknown"})(),{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),f=W.of(a),m=o.message??o.Message??"Unknown",p=rt.for(a[1]).getErrorCtor(a)??Error,E=new p(m),y={};for(let[w,C]of f.structIterator())o[w]!=null&&(y[w]=this.deserializer.readValue(C,o[w]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,y),this.mixin.decorateServiceException(Object.assign(E,c,{$fault:f.getMergedTraits().error,message:m},y),o)}}});var $ne,kne,Lne,sF=I(()=>{d();$ne=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},kne=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},Lne=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var xt,Jo=I(()=>{d();xt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function*oa(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let n=0;n<r[4].length;++n){let o=r[4][n],s=r[5][n],i=new W([s,0],o);!(o in t)&&!i.isIdempotencyToken()||(yield[o,i])}}function*iF(e,t,r){if(e.isUnitSchema())return;let n=e.getSchema(),o=Object.keys(t).filter(s=>s!=="__type").length;for(let s=0;s<n[4].length&&o!==0;++s){let i=n[4][s],a=n[5][s],c=new W([a,0],i),f=i;r&&(f=c.getMergedTraits()[r]??i),f in t&&(yield[i,c],o-=1)}}var gu=I(()=>{d();He()});var sa,q0=I(()=>{d();sa=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function aF(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Fe(n,"bigDecimal"):BigInt(n)}return t}var cF=I(()=>{d();Gt()});var uF,lF,fm,z0=I(()=>{d();uF=N(Hn()),lF=N(Pr()),fm=(e,t)=>(0,uF.collectBody)(e,t).then(r=>(t?.utf8Encoder??lF.toUtf8)(r))});var pm,Mne,yu,Su=I(()=>{d();z0();pm=(e,t)=>fm(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Mne=async(e,t)=>{let r=await pm(e,t);return r.message=r.message??r.Message,r},yu=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var dF,Eu,G0=I(()=>{d();rr();He();Gt();dF=N(Vt());Jo();gu();q0();cF();Su();Eu=class extends xt{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,aF):await pm(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=W.of(t);if(n){if(o.isStructSchema()){let i=o.isUnionSchema(),a={},c;i&&(c=new sa(r,a));for(let[f,m]of iF(o,r,this.settings.jsonName?"jsonName":!1)){let p=this.settings.jsonName?m.getMergedTraits().jsonName??f:f;i&&c.mark(p),r[p]!=null&&(a[f]=this._read(m,r[p]))}return i&&c.writeUnknown(),a}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let f of r)(c||f!=null)&&a.push(this._read(i,f));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[f,m]of Object.entries(r))(c||m!=null)&&(a[f]=this._read(i,m));return a}}if(o.isBlobSchema()&&typeof r=="string")return(0,dF.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s)return s==="application/json"||s.endsWith("+json")?kt.from(r):r;if(o.isTimestampSchema()&&r!=null)switch(tr(o,this.settings)){case 5:return fw(r);case 6:return pw(r);case 7:return mw(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null){if(r instanceof Fe)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new Fe(i.string,i.type):new Fe(String(r),"bigDecimal")}if(o.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Fe?i[a]=c:i[a]=this._read(o,c);return i}else return structuredClone(r);return r}}});var fF,mm,pF=I(()=>{d();Gt();fF="\u039D",mm=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Fe){let n=`${fF+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${fF+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var V0,bu,W0=I(()=>{d();rr();He();Gt();V0=N(Vt());Jo();gu();pF();bu=class extends xt{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=W.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=W.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new mm;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=W.of(t);if(o){if(s.isStructSchema()){let i={};for(let[a,c]of oa(s,r)){let f=this._write(c,r[a],s);if(f!==void 0){let m=c.getMergedTraits().jsonName,p=this.settings.jsonName?m??a:a;i[p]=f}}if(s.isUnionSchema()&&Object.keys(i).length===0){let{$unknown:a}=r;if(Array.isArray(a)){let[c,f]=a;i[c]=this._write(15,f)}}return i}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let f of r)(c||f!=null)&&a.push(this._write(i,f));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[f,m]of Object.entries(r))(c||m!=null)&&(a[f]=this._write(i,m));return a}if(r instanceof Uint8Array&&(s.isBlobSchema()||s.isDocumentSchema()))return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??V0.toBase64)(r);if(r instanceof Date&&(s.isTimestampSchema()||s.isDocumentSchema()))switch(tr(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return nu(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Fe&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return(0,mr.v4)();let i=s.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?kt.from(r):r}if(typeof r=="number"&&s.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&s.isBlobSchema())return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??V0.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),s.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Fe?(this.useReplacer=!0,i[a]=c):i[a]=this._write(s,c);return i}else return structuredClone(r);return r}}}});var Gs,hm=I(()=>{d();Jo();G0();W0();Gs=class extends xt{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new bu(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Eu(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Vs,gm=I(()=>{d();rr();He();na();hm();Su();Vs=class extends Fn{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=o??new Gs({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new gr(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),(Nr(t.input)==="unit"||!o.body)&&(o.body="{}"),o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=yu(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),f=W.of(a),m=o.message??o.Message??"Unknown",p=rt.for(a[1]).getErrorCtor(a)??Error,E=new p(m),y={};for(let[w,C]of f.structIterator())o[w]!=null&&(y[w]=this.codec.createDeserializer().readObject(C,o[w]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,y),this.mixin.decorateServiceException(Object.assign(E,c,{$fault:f.getMergedTraits().error,message:m},y),o)}}});var K0,mF=I(()=>{d();gm();K0=class extends Vs{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Y0,hF=I(()=>{d();gm();Y0=class extends Vs{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var X0,gF=I(()=>{d();rr();He();na();hm();Su();X0=class extends Fs{serializer;deserializer;codec;mixin=new gr;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Gs(r),this.serializer=new qs(this.codec.createSerializer(),r),this.deserializer=new js(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=W.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return o.body==null&&o.headers["content-type"]===this.getDefaultContentType()&&(o.body="{}"),o}async deserializeResponse(t,r,n){let o=await super.deserializeResponse(t,r,n),s=W.of(t.output);for(let[i,a]of s.structIterator())a.getMemberTraits().httpPayload&&!(i in o)&&(o[i]=null);return o}async handleError(t,r,n,o,s){let i=yu(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),f=W.of(a),m=o.message??o.Message??"Unknown",p=rt.for(a[1]).getErrorCtor(a)??Error,E=new p(m);await this.deserializeHttpMessage(a,r,n,o);let y={};for(let[w,C]of f.structIterator()){let A=C.getMergedTraits().jsonName??w;y[w]=this.codec.createDeserializer().readObject(C,o[A])}throw this.mixin.decorateServiceException(Object.assign(E,c,{$fault:f.getMergedTraits().error,message:m},y),o)}getDefaultContentType(){return"application/json"}}});var yF,Une,SF=I(()=>{d();yF=N(Hn()),Une=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,yF.expectUnion)(e)}});var bF=$((Qke,EF)=>{d();(()=>{"use strict";var e={d:(u,l)=>{for(var g in l)e.o(l,g)&&!e.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:l[g]})},o:(u,l)=>Object.prototype.hasOwnProperty.call(u,l),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>ct,XMLParser:()=>Kg,XMLValidator:()=>ry});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function o(u,l){let g=[],_=l.exec(u);for(;_;){let b=[];b.startIndex=l.lastIndex-_[0].length;let T=_.length;for(let R=0;R<T;R++)b.push(_[R]);g.push(b),_=l.exec(u)}return g}let s=function(u){return n.exec(u)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(u,l){l=Object.assign({},i,l);let g=[],_=!1,b=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let T=0;T<u.length;T++)if(u[T]==="<"&&u[T+1]==="?"){if(T+=2,T=f(u,T),T.err)return T}else{if(u[T]!=="<"){if(c(u[T]))continue;return v("InvalidChar","char '"+u[T]+"' is not expected.",k(u,T))}{let R=T;if(T++,u[T]==="!"){T=m(u,T);continue}{let x=!1;u[T]==="/"&&(x=!0,T++);let P="";for(;T<u.length&&u[T]!==">"&&u[T]!==" "&&u[T]!=="	"&&u[T]!==`
`&&u[T]!=="\r";T++)P+=u[T];if(P=P.trim(),P[P.length-1]==="/"&&(P=P.substring(0,P.length-1),T--),!s(P)){let L;return L=P.trim().length===0?"Invalid space after '<'.":"Tag '"+P+"' is an invalid name.",v("InvalidTag",L,k(u,T))}let O=y(u,T);if(O===!1)return v("InvalidAttr","Attributes for '"+P+"' have open quote.",k(u,T));let U=O.value;if(T=O.index,U[U.length-1]==="/"){let L=T-U.length;U=U.substring(0,U.length-1);let H=C(U,l);if(H!==!0)return v(H.err.code,H.err.msg,k(u,L+H.err.line));_=!0}else if(x){if(!O.tagClosed)return v("InvalidTag","Closing tag '"+P+"' doesn't have proper closing.",k(u,T));if(U.trim().length>0)return v("InvalidTag","Closing tag '"+P+"' can't have attributes or invalid starting.",k(u,R));if(g.length===0)return v("InvalidTag","Closing tag '"+P+"' has not been opened.",k(u,R));{let L=g.pop();if(P!==L.tagName){let H=k(u,L.tagStartPos);return v("InvalidTag","Expected closing tag '"+L.tagName+"' (opened in line "+H.line+", col "+H.col+") instead of closing tag '"+P+"'.",k(u,R))}g.length==0&&(b=!0)}}else{let L=C(U,l);if(L!==!0)return v(L.err.code,L.err.msg,k(u,T-U.length+L.err.line));if(b===!0)return v("InvalidXml","Multiple possible root nodes found.",k(u,T));l.unpairedTags.indexOf(P)!==-1||g.push({tagName:P,tagStartPos:R}),_=!0}for(T++;T<u.length;T++)if(u[T]==="<"){if(u[T+1]==="!"){T++,T=m(u,T);continue}if(u[T+1]!=="?")break;if(T=f(u,++T),T.err)return T}else if(u[T]==="&"){let L=A(u,T);if(L==-1)return v("InvalidChar","char '&' is not expected.",k(u,T));T=L}else if(b===!0&&!c(u[T]))return v("InvalidXml","Extra text at the end",k(u,T));u[T]==="<"&&T--}}}return _?g.length==1?v("InvalidTag","Unclosed tag '"+g[0].tagName+"'.",k(u,g[0].tagStartPos)):!(g.length>0)||v("InvalidXml","Invalid '"+JSON.stringify(g.map((T=>T.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):v("InvalidXml","Start tag expected.",1)}function c(u){return u===" "||u==="	"||u===`
`||u==="\r"}function f(u,l){let g=l;for(;l<u.length;l++)if(!(u[l]!="?"&&u[l]!=" ")){let _=u.substr(g,l-g);if(l>5&&_==="xml")return v("InvalidXml","XML declaration allowed only at the start of the document.",k(u,l));if(u[l]=="?"&&u[l+1]==">"){l++;break}}return l}function m(u,l){if(u.length>l+5&&u[l+1]==="-"&&u[l+2]==="-"){for(l+=3;l<u.length;l++)if(u[l]==="-"&&u[l+1]==="-"&&u[l+2]===">"){l+=2;break}}else if(u.length>l+8&&u[l+1]==="D"&&u[l+2]==="O"&&u[l+3]==="C"&&u[l+4]==="T"&&u[l+5]==="Y"&&u[l+6]==="P"&&u[l+7]==="E"){let g=1;for(l+=8;l<u.length;l++)if(u[l]==="<")g++;else if(u[l]===">"&&(g--,g===0))break}else if(u.length>l+9&&u[l+1]==="["&&u[l+2]==="C"&&u[l+3]==="D"&&u[l+4]==="A"&&u[l+5]==="T"&&u[l+6]==="A"&&u[l+7]==="["){for(l+=8;l<u.length;l++)if(u[l]==="]"&&u[l+1]==="]"&&u[l+2]===">"){l+=2;break}}return l}let p='"',E="'";function y(u,l){let g="",_="",b=!1;for(;l<u.length;l++){if(u[l]===p||u[l]===E)_===""?_=u[l]:_!==u[l]||(_="");else if(u[l]===">"&&_===""){b=!0;break}g+=u[l]}return _===""&&{value:g,index:l,tagClosed:b}}let w=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function C(u,l){let g=o(u,w),_={};for(let b=0;b<g.length;b++){if(g[b][1].length===0)return v("InvalidAttr","Attribute '"+g[b][2]+"' has no space in starting.",M(g[b]));if(g[b][3]!==void 0&&g[b][4]===void 0)return v("InvalidAttr","Attribute '"+g[b][2]+"' is without value.",M(g[b]));if(g[b][3]===void 0&&!l.allowBooleanAttributes)return v("InvalidAttr","boolean attribute '"+g[b][2]+"' is not allowed.",M(g[b]));let T=g[b][2];if(!D(T))return v("InvalidAttr","Attribute '"+T+"' is an invalid name.",M(g[b]));if(_.hasOwnProperty(T))return v("InvalidAttr","Attribute '"+T+"' is repeated.",M(g[b]));_[T]=1}return!0}function A(u,l){if(u[++l]===";")return-1;if(u[l]==="#")return(function(_,b){let T=/\d/;for(_[b]==="x"&&(b++,T=/[\da-fA-F]/);b<_.length;b++){if(_[b]===";")return b;if(!_[b].match(T))break}return-1})(u,++l);let g=0;for(;l<u.length;l++,g++)if(!(u[l].match(/\w/)&&g<20)){if(u[l]===";")break;return-1}return l}function v(u,l,g){return{err:{code:u,msg:l,line:g.line||g,col:g.col}}}function D(u){return s(u)}function k(u,l){let g=u.substring(0,l).split(/\r?\n/);return{line:g.length,col:g[g.length-1].length+1}}function M(u){return u.startIndex+u[1].length}let B={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,l){return l},attributeValueProcessor:function(u,l){return l},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,l,g){return u},captureMetaData:!1},j;j=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class de{constructor(l){this.tagname=l,this.child=[],this[":@"]={}}add(l,g){l==="__proto__"&&(l="#__proto__"),this.child.push({[l]:g})}addChild(l,g){l.tagname==="__proto__"&&(l.tagname="#__proto__"),l[":@"]&&Object.keys(l[":@"]).length>0?this.child.push({[l.tagname]:l.child,":@":l[":@"]}):this.child.push({[l.tagname]:l.child}),g!==void 0&&(this.child[this.child.length-1][j]={startIndex:g})}static getMetaDataSymbol(){return j}}function F(u,l){let g={};if(u[l+3]!=="O"||u[l+4]!=="C"||u[l+5]!=="T"||u[l+6]!=="Y"||u[l+7]!=="P"||u[l+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{l+=9;let _=1,b=!1,T=!1,R="";for(;l<u.length;l++)if(u[l]!=="<"||T)if(u[l]===">"){if(T?u[l-1]==="-"&&u[l-2]==="-"&&(T=!1,_--):_--,_===0)break}else u[l]==="["?b=!0:R+=u[l];else{if(b&&Ct(u,"!ENTITY",l)){let x,P;l+=7,[x,P,l]=te(u,l+1),P.indexOf("&")===-1&&(g[x]={regx:RegExp(`&${x};`,"g"),val:P})}else if(b&&Ct(u,"!ELEMENT",l)){l+=8;let{index:x}=Ag(u,l+1);l=x}else if(b&&Ct(u,"!ATTLIST",l))l+=8;else if(b&&Ct(u,"!NOTATION",l)){l+=9;let{index:x}=_e(u,l+1);l=x}else{if(!Ct(u,"!--",l))throw new Error("Invalid DOCTYPE");T=!0}_++,R=""}if(_!==0)throw new Error("Unclosed DOCTYPE")}return{entities:g,i:l}}let z=(u,l)=>{for(;l<u.length&&/\s/.test(u[l]);)l++;return l};function te(u,l){l=z(u,l);let g="";for(;l<u.length&&!/\s/.test(u[l])&&u[l]!=='"'&&u[l]!=="'";)g+=u[l],l++;if(ns(g),l=z(u,l),u.substring(l,l+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[l]==="%")throw new Error("Parameter entities are not supported");let _="";return[l,_]=Ve(u,l,"entity"),[g,_,--l]}function _e(u,l){l=z(u,l);let g="";for(;l<u.length&&!/\s/.test(u[l]);)g+=u[l],l++;ns(g),l=z(u,l);let _=u.substring(l,l+6).toUpperCase();if(_!=="SYSTEM"&&_!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${_}"`);l+=_.length,l=z(u,l);let b=null,T=null;if(_==="PUBLIC")[l,b]=Ve(u,l,"publicIdentifier"),u[l=z(u,l)]!=='"'&&u[l]!=="'"||([l,T]=Ve(u,l,"systemIdentifier"));else if(_==="SYSTEM"&&([l,T]=Ve(u,l,"systemIdentifier"),!T))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:g,publicIdentifier:b,systemIdentifier:T,index:--l}}function Ve(u,l,g){let _="",b=u[l];if(b!=='"'&&b!=="'")throw new Error(`Expected quoted string, found "${b}"`);for(l++;l<u.length&&u[l]!==b;)_+=u[l],l++;if(u[l]!==b)throw new Error(`Unterminated ${g} value`);return[++l,_]}function Ag(u,l){l=z(u,l);let g="";for(;l<u.length&&!/\s/.test(u[l]);)g+=u[l],l++;if(!ns(g))throw new Error(`Invalid element name: "${g}"`);let _="";if(u[l=z(u,l)]==="E"&&Ct(u,"MPTY",l))l+=4;else if(u[l]==="A"&&Ct(u,"NY",l))l+=2;else{if(u[l]!=="(")throw new Error(`Invalid Element Expression, found "${u[l]}"`);for(l++;l<u.length&&u[l]!==")";)_+=u[l],l++;if(u[l]!==")")throw new Error("Unterminated content model")}return{elementName:g,contentModel:_.trim(),index:l}}function Ct(u,l,g){for(let _=0;_<l.length;_++)if(l[_]!==u[g+_+1])return!1;return!0}function ns(u){if(s(u))return u;throw new Error(`Invalid entity name ${u}`)}let Rg=/^[-+]?0x[a-fA-F0-9]+$/,vg=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Pg={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},Ng=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function wa(u){return typeof u=="function"?u:Array.isArray(u)?l=>{for(let g of u)if(typeof g=="string"&&l===g||g instanceof RegExp&&g.test(l))return!0}:()=>!1}class Dg{constructor(l){this.options=l,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(g,_)=>String.fromCodePoint(Number.parseInt(_,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(g,_)=>String.fromCodePoint(Number.parseInt(_,16))}},this.addExternalEntities=Og,this.parseXml=Ug,this.parseTextData=$g,this.resolveNameSpace=kg,this.buildAttributesMap=Mg,this.isItStopNode=jg,this.replaceEntitiesValue=Fg,this.readStopNodeData=qg,this.saveTextToParentTag=Hg,this.addChild=Bg,this.ignoreAttributesFn=wa(this.options.ignoreAttributes)}}function Og(u){let l=Object.keys(u);for(let g=0;g<l.length;g++){let _=l[g];this.lastEntities[_]={regex:new RegExp("&"+_+";","g"),val:u[_]}}}function $g(u,l,g,_,b,T,R){if(u!==void 0&&(this.options.trimValues&&!_&&(u=u.trim()),u.length>0)){R||(u=this.replaceEntitiesValue(u));let x=this.options.tagValueProcessor(l,u,g,b,T);return x==null?u:typeof x!=typeof u||x!==u?x:this.options.trimValues||u.trim()===u?_a(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function kg(u){if(this.options.removeNSPrefix){let l=u.split(":"),g=u.charAt(0)==="/"?"/":"";if(l[0]==="xmlns")return"";l.length===2&&(u=g+l[1])}return u}let Lg=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Mg(u,l,g){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let _=o(u,Lg),b=_.length,T={};for(let R=0;R<b;R++){let x=this.resolveNameSpace(_[R][1]);if(this.ignoreAttributesFn(x,l))continue;let P=_[R][4],O=this.options.attributeNamePrefix+x;if(x.length)if(this.options.transformAttributeName&&(O=this.options.transformAttributeName(O)),O==="__proto__"&&(O="#__proto__"),P!==void 0){this.options.trimValues&&(P=P.trim()),P=this.replaceEntitiesValue(P);let U=this.options.attributeValueProcessor(x,P,l);T[O]=U==null?P:typeof U!=typeof P||U!==P?U:_a(P,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(T[O]=!0)}if(!Object.keys(T).length)return;if(this.options.attributesGroupName){let R={};return R[this.options.attributesGroupName]=T,R}return T}}let Ug=function(u){u=u.replace(/\r\n?/g,`
`);let l=new de("!xml"),g=l,_="",b="";for(let T=0;T<u.length;T++)if(u[T]==="<")if(u[T+1]==="/"){let R=At(u,">",T,"Closing Tag is not closed."),x=u.substring(T+2,R).trim();if(this.options.removeNSPrefix){let U=x.indexOf(":");U!==-1&&(x=x.substr(U+1))}this.options.transformTagName&&(x=this.options.transformTagName(x)),g&&(_=this.saveTextToParentTag(_,g,b));let P=b.substring(b.lastIndexOf(".")+1);if(x&&this.options.unpairedTags.indexOf(x)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${x}>`);let O=0;P&&this.options.unpairedTags.indexOf(P)!==-1?(O=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):O=b.lastIndexOf("."),b=b.substring(0,O),g=this.tagsNodeStack.pop(),_="",T=R}else if(u[T+1]==="?"){let R=os(u,T,!1,"?>");if(!R)throw new Error("Pi Tag is not closed.");if(_=this.saveTextToParentTag(_,g,b),!(this.options.ignoreDeclaration&&R.tagName==="?xml"||this.options.ignorePiTags)){let x=new de(R.tagName);x.add(this.options.textNodeName,""),R.tagName!==R.tagExp&&R.attrExpPresent&&(x[":@"]=this.buildAttributesMap(R.tagExp,b,R.tagName)),this.addChild(g,x,b,T)}T=R.closeIndex+1}else if(u.substr(T+1,3)==="!--"){let R=At(u,"-->",T+4,"Comment is not closed.");if(this.options.commentPropName){let x=u.substring(T+4,R-2);_=this.saveTextToParentTag(_,g,b),g.add(this.options.commentPropName,[{[this.options.textNodeName]:x}])}T=R}else if(u.substr(T+1,2)==="!D"){let R=F(u,T);this.docTypeEntities=R.entities,T=R.i}else if(u.substr(T+1,2)==="!["){let R=At(u,"]]>",T,"CDATA is not closed.")-2,x=u.substring(T+9,R);_=this.saveTextToParentTag(_,g,b);let P=this.parseTextData(x,g.tagname,b,!0,!1,!0,!0);P==null&&(P=""),this.options.cdataPropName?g.add(this.options.cdataPropName,[{[this.options.textNodeName]:x}]):g.add(this.options.textNodeName,P),T=R+2}else{let R=os(u,T,this.options.removeNSPrefix),x=R.tagName,P=R.rawTagName,O=R.tagExp,U=R.attrExpPresent,L=R.closeIndex;this.options.transformTagName&&(x=this.options.transformTagName(x)),g&&_&&g.tagname!=="!xml"&&(_=this.saveTextToParentTag(_,g,b,!1));let H=g;H&&this.options.unpairedTags.indexOf(H.tagname)!==-1&&(g=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),x!==l.tagname&&(b+=b?"."+x:x);let K=T;if(this.isItStopNode(this.options.stopNodes,b,x)){let q="";if(O.length>0&&O.lastIndexOf("/")===O.length-1)x[x.length-1]==="/"?(x=x.substr(0,x.length-1),b=b.substr(0,b.length-1),O=x):O=O.substr(0,O.length-1),T=R.closeIndex;else if(this.options.unpairedTags.indexOf(x)!==-1)T=R.closeIndex;else{let We=this.readStopNodeData(u,P,L+1);if(!We)throw new Error(`Unexpected end of ${P}`);T=We.i,q=We.tagContent}let ce=new de(x);x!==O&&U&&(ce[":@"]=this.buildAttributesMap(O,b,x)),q&&(q=this.parseTextData(q,x,b,!0,U,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),ce.add(this.options.textNodeName,q),this.addChild(g,ce,b,K)}else{if(O.length>0&&O.lastIndexOf("/")===O.length-1){x[x.length-1]==="/"?(x=x.substr(0,x.length-1),b=b.substr(0,b.length-1),O=x):O=O.substr(0,O.length-1),this.options.transformTagName&&(x=this.options.transformTagName(x));let q=new de(x);x!==O&&U&&(q[":@"]=this.buildAttributesMap(O,b,x)),this.addChild(g,q,b,K),b=b.substr(0,b.lastIndexOf("."))}else{let q=new de(x);this.tagsNodeStack.push(g),x!==O&&U&&(q[":@"]=this.buildAttributesMap(O,b,x)),this.addChild(g,q,b,K),g=q}_="",T=L}}else _+=u[T];return l.child};function Bg(u,l,g,_){this.options.captureMetaData||(_=void 0);let b=this.options.updateTag(l.tagname,g,l[":@"]);b===!1||(typeof b=="string"&&(l.tagname=b),u.addChild(l,_))}let Fg=function(u){if(this.options.processEntities){for(let l in this.docTypeEntities){let g=this.docTypeEntities[l];u=u.replace(g.regx,g.val)}for(let l in this.lastEntities){let g=this.lastEntities[l];u=u.replace(g.regex,g.val)}if(this.options.htmlEntities)for(let l in this.htmlEntities){let g=this.htmlEntities[l];u=u.replace(g.regex,g.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function Hg(u,l,g,_){return u&&(_===void 0&&(_=l.child.length===0),(u=this.parseTextData(u,l.tagname,g,!1,!!l[":@"]&&Object.keys(l[":@"]).length!==0,_))!==void 0&&u!==""&&l.add(this.options.textNodeName,u),u=""),u}function jg(u,l,g){let _="*."+g;for(let b in u){let T=u[b];if(_===T||l===T)return!0}return!1}function At(u,l,g,_){let b=u.indexOf(l,g);if(b===-1)throw new Error(_);return b+l.length-1}function os(u,l,g,_=">"){let b=(function(L,H,K=">"){let q,ce="";for(let We=H;We<L.length;We++){let ut=L[We];if(q)ut===q&&(q="");else if(ut==='"'||ut==="'")q=ut;else if(ut===K[0]){if(!K[1])return{data:ce,index:We};if(L[We+1]===K[1])return{data:ce,index:We}}else ut==="	"&&(ut=" ");ce+=ut}})(u,l+1,_);if(!b)return;let T=b.data,R=b.index,x=T.search(/\s/),P=T,O=!0;x!==-1&&(P=T.substring(0,x),T=T.substring(x+1).trimStart());let U=P;if(g){let L=P.indexOf(":");L!==-1&&(P=P.substr(L+1),O=P!==b.data.substr(L+1))}return{tagName:P,tagExp:T,closeIndex:R,attrExpPresent:O,rawTagName:U}}function qg(u,l,g){let _=g,b=1;for(;g<u.length;g++)if(u[g]==="<")if(u[g+1]==="/"){let T=At(u,">",g,`${l} is not closed`);if(u.substring(g+2,T).trim()===l&&(b--,b===0))return{tagContent:u.substring(_,g),i:T};g=T}else if(u[g+1]==="?")g=At(u,"?>",g+1,"StopNode is not closed.");else if(u.substr(g+1,3)==="!--")g=At(u,"-->",g+3,"StopNode is not closed.");else if(u.substr(g+1,2)==="![")g=At(u,"]]>",g,"StopNode is not closed.")-2;else{let T=os(u,g,">");T&&((T&&T.tagName)===l&&T.tagExp[T.tagExp.length-1]!=="/"&&b++,g=T.closeIndex)}}function _a(u,l,g){if(l&&typeof u=="string"){let _=u.trim();return _==="true"||_!=="false"&&(function(b,T={}){if(T=Object.assign({},Pg,T),!b||typeof b!="string")return b;let R=b.trim();if(T.skipLike!==void 0&&T.skipLike.test(R))return b;if(b==="0")return 0;if(T.hex&&Rg.test(R))return(function(P){if(parseInt)return parseInt(P,16);if(Number.parseInt)return Number.parseInt(P,16);if(window&&window.parseInt)return window.parseInt(P,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(R);if(R.search(/.+[eE].+/)!==-1)return(function(P,O,U){if(!U.eNotation)return P;let L=O.match(Ng);if(L){let H=L[1]||"",K=L[3].indexOf("e")===-1?"E":"e",q=L[2],ce=H?P[q.length+1]===K:P[q.length]===K;return q.length>1&&ce?P:q.length!==1||!L[3].startsWith(`.${K}`)&&L[3][0]!==K?U.leadingZeros&&!ce?(O=(L[1]||"")+L[3],Number(O)):P:Number(O)}return P})(b,R,T);{let P=vg.exec(R);if(P){let O=P[1]||"",U=P[2],L=((x=P[3])&&x.indexOf(".")!==-1&&((x=x.replace(/0+$/,""))==="."?x="0":x[0]==="."?x="0"+x:x[x.length-1]==="."&&(x=x.substring(0,x.length-1))),x),H=O?b[U.length+1]===".":b[U.length]===".";if(!T.leadingZeros&&(U.length>1||U.length===1&&!H))return b;{let K=Number(R),q=String(K);if(K===0||K===-0)return K;if(q.search(/[eE]/)!==-1)return T.eNotation?K:b;if(R.indexOf(".")!==-1)return q==="0"||q===L||q===`${O}${L}`?K:b;let ce=U?L:R;return U?ce===q||O+ce===q?K:b:ce===q||ce===O+q?K:b}}return b}var x})(u,g)}return u!==void 0?u:""}let ss=de.getMetaDataSymbol();function zg(u,l){return xa(u,l)}function xa(u,l,g){let _,b={};for(let T=0;T<u.length;T++){let R=u[T],x=Gg(R),P="";if(P=g===void 0?x:g+"."+x,x===l.textNodeName)_===void 0?_=R[x]:_+=""+R[x];else{if(x===void 0)continue;if(R[x]){let O=xa(R[x],l,P),U=Wg(O,l);R[ss]!==void 0&&(O[ss]=R[ss]),R[":@"]?Vg(O,R[":@"],P,l):Object.keys(O).length!==1||O[l.textNodeName]===void 0||l.alwaysCreateTextNode?Object.keys(O).length===0&&(l.alwaysCreateTextNode?O[l.textNodeName]="":O=""):O=O[l.textNodeName],b[x]!==void 0&&b.hasOwnProperty(x)?(Array.isArray(b[x])||(b[x]=[b[x]]),b[x].push(O)):l.isArray(x,P,U)?b[x]=[O]:b[x]=O}}}return typeof _=="string"?_.length>0&&(b[l.textNodeName]=_):_!==void 0&&(b[l.textNodeName]=_),b}function Gg(u){let l=Object.keys(u);for(let g=0;g<l.length;g++){let _=l[g];if(_!==":@")return _}}function Vg(u,l,g,_){if(l){let b=Object.keys(l),T=b.length;for(let R=0;R<T;R++){let x=b[R];_.isArray(x,g+"."+x,!0,!0)?u[x]=[l[x]]:u[x]=l[x]}}}function Wg(u,l){let{textNodeName:g}=l,_=Object.keys(u).length;return _===0||!(_!==1||!u[g]&&typeof u[g]!="boolean"&&u[g]!==0)}class Kg{constructor(l){this.externalEntities={},this.options=(function(g){return Object.assign({},B,g)})(l)}parse(l,g){if(typeof l!="string"){if(!l.toString)throw new Error("XML data is accepted in String or Bytes[] form.");l=l.toString()}if(g){g===!0&&(g={});let T=a(l,g);if(T!==!0)throw Error(`${T.err.msg}:${T.err.line}:${T.err.col}`)}let _=new Dg(this.options);_.addExternalEntities(this.externalEntities);let b=_.parseXml(l);return this.options.preserveOrder||b===void 0?b:zg(b,this.options)}addEntity(l,g){if(g.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(l.indexOf("&")!==-1||l.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(g==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[l]=g}static getMetaDataSymbol(){return de.getMetaDataSymbol()}}function Yg(u,l){let g="";return l.format&&l.indentBy.length>0&&(g=`
`),Ia(u,l,"",g)}function Ia(u,l,g,_){let b="",T=!1;for(let R=0;R<u.length;R++){let x=u[R],P=Xg(x);if(P===void 0)continue;let O="";if(O=g.length===0?P:`${g}.${P}`,P===l.textNodeName){let K=x[P];Qg(O,l)||(K=l.tagValueProcessor(P,K),K=Aa(K,l)),T&&(b+=_),b+=K,T=!1;continue}if(P===l.cdataPropName){T&&(b+=_),b+=`<![CDATA[${x[P][0][l.textNodeName]}]]>`,T=!1;continue}if(P===l.commentPropName){b+=_+`<!--${x[P][0][l.textNodeName]}-->`,T=!0;continue}if(P[0]==="?"){let K=Ca(x[":@"],l),q=P==="?xml"?"":_,ce=x[P][0][l.textNodeName];ce=ce.length!==0?" "+ce:"",b+=q+`<${P}${ce}${K}?>`,T=!0;continue}let U=_;U!==""&&(U+=l.indentBy);let L=_+`<${P}${Ca(x[":@"],l)}`,H=Ia(x[P],l,O,U);l.unpairedTags.indexOf(P)!==-1?l.suppressUnpairedNode?b+=L+">":b+=L+"/>":H&&H.length!==0||!l.suppressEmptyNode?H&&H.endsWith(">")?b+=L+`>${H}${_}</${P}>`:(b+=L+">",H&&_!==""&&(H.includes("/>")||H.includes("</"))?b+=_+l.indentBy+H+_:b+=H,b+=`</${P}>`):b+=L+"/>",T=!0}return b}function Xg(u){let l=Object.keys(u);for(let g=0;g<l.length;g++){let _=l[g];if(u.hasOwnProperty(_)&&_!==":@")return _}}function Ca(u,l){let g="";if(u&&!l.ignoreAttributes)for(let _ in u){if(!u.hasOwnProperty(_))continue;let b=l.attributeValueProcessor(_,u[_]);b=Aa(b,l),b===!0&&l.suppressBooleanAttributes?g+=` ${_.substr(l.attributeNamePrefix.length)}`:g+=` ${_.substr(l.attributeNamePrefix.length)}="${b}"`}return g}function Qg(u,l){let g=(u=u.substr(0,u.length-l.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let _ in l.stopNodes)if(l.stopNodes[_]===u||l.stopNodes[_]==="*."+g)return!0;return!1}function Aa(u,l){if(u&&u.length>0&&l.processEntities)for(let g=0;g<l.entities.length;g++){let _=l.entities[g];u=u.replace(_.regex,_.val)}return u}let Jg={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,l){return l},attributeValueProcessor:function(u,l){return l},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function ct(u){this.options=Object.assign({},Jg,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=wa(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=ty),this.processTextOrObjNode=Zg,this.options.format?(this.indentate=ey,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function Zg(u,l,g,_){let b=this.j2x(u,g+1,_.concat(l));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],l,b.attrStr,g):this.buildObjectNode(b.val,l,b.attrStr,g)}function ey(u){return this.options.indentBy.repeat(u)}function ty(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}ct.prototype.build=function(u){return this.options.preserveOrder?Yg(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},ct.prototype.j2x=function(u,l,g){let _="",b="",T=g.join(".");for(let R in u)if(Object.prototype.hasOwnProperty.call(u,R))if(u[R]===void 0)this.isAttribute(R)&&(b+="");else if(u[R]===null)this.isAttribute(R)||R===this.options.cdataPropName?b+="":R[0]==="?"?b+=this.indentate(l)+"<"+R+"?"+this.tagEndChar:b+=this.indentate(l)+"<"+R+"/"+this.tagEndChar;else if(u[R]instanceof Date)b+=this.buildTextValNode(u[R],R,"",l);else if(typeof u[R]!="object"){let x=this.isAttribute(R);if(x&&!this.ignoreAttributesFn(x,T))_+=this.buildAttrPairStr(x,""+u[R]);else if(!x)if(R===this.options.textNodeName){let P=this.options.tagValueProcessor(R,""+u[R]);b+=this.replaceEntitiesValue(P)}else b+=this.buildTextValNode(u[R],R,"",l)}else if(Array.isArray(u[R])){let x=u[R].length,P="",O="";for(let U=0;U<x;U++){let L=u[R][U];if(L!==void 0)if(L===null)R[0]==="?"?b+=this.indentate(l)+"<"+R+"?"+this.tagEndChar:b+=this.indentate(l)+"<"+R+"/"+this.tagEndChar;else if(typeof L=="object")if(this.options.oneListGroup){let H=this.j2x(L,l+1,g.concat(R));P+=H.val,this.options.attributesGroupName&&L.hasOwnProperty(this.options.attributesGroupName)&&(O+=H.attrStr)}else P+=this.processTextOrObjNode(L,R,l,g);else if(this.options.oneListGroup){let H=this.options.tagValueProcessor(R,L);H=this.replaceEntitiesValue(H),P+=H}else P+=this.buildTextValNode(L,R,"",l)}this.options.oneListGroup&&(P=this.buildObjectNode(P,R,O,l)),b+=P}else if(this.options.attributesGroupName&&R===this.options.attributesGroupName){let x=Object.keys(u[R]),P=x.length;for(let O=0;O<P;O++)_+=this.buildAttrPairStr(x[O],""+u[R][x[O]])}else b+=this.processTextOrObjNode(u[R],R,l,g);return{attrStr:_,val:b}},ct.prototype.buildAttrPairStr=function(u,l){return l=this.options.attributeValueProcessor(u,""+l),l=this.replaceEntitiesValue(l),this.options.suppressBooleanAttributes&&l==="true"?" "+u:" "+u+'="'+l+'"'},ct.prototype.buildObjectNode=function(u,l,g,_){if(u==="")return l[0]==="?"?this.indentate(_)+"<"+l+g+"?"+this.tagEndChar:this.indentate(_)+"<"+l+g+this.closeTag(l)+this.tagEndChar;{let b="</"+l+this.tagEndChar,T="";return l[0]==="?"&&(T="?",b=""),!g&&g!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&l===this.options.commentPropName&&T.length===0?this.indentate(_)+`<!--${u}-->`+this.newLine:this.indentate(_)+"<"+l+g+T+this.tagEndChar+u+this.indentate(_)+b:this.indentate(_)+"<"+l+g+T+">"+u+b}},ct.prototype.closeTag=function(u){let l="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(l="/"):l=this.options.suppressEmptyNode?"/":`></${u}`,l},ct.prototype.buildTextValNode=function(u,l,g,_){if(this.options.cdataPropName!==!1&&l===this.options.cdataPropName)return this.indentate(_)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&l===this.options.commentPropName)return this.indentate(_)+`<!--${u}-->`+this.newLine;if(l[0]==="?")return this.indentate(_)+"<"+l+g+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(l,u);return b=this.replaceEntitiesValue(b),b===""?this.indentate(_)+"<"+l+g+this.closeTag(l)+this.tagEndChar:this.indentate(_)+"<"+l+g+">"+b+"</"+l+this.tagEndChar}},ct.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let l=0;l<this.options.entities.length;l++){let g=this.options.entities[l];u=u.replace(g.regex,g.val)}return u};let ry={validate:a};EF.exports=t})()});var TF=$(J0=>{"use strict";d();Object.defineProperty(J0,"__esModule",{value:!0});J0.parseXML=Fne;var Bne=bF(),Q0=new Bne.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Q0.addEntity("#xD","\r");Q0.addEntity("#10",`
`);function Fne(e){return Q0.parse(e,!0)}});var Em=$(Sm=>{"use strict";d();var Hne=TF();function jne(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function qne(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var ym=class{value;constructor(t){this.value=t}toString(){return qne(""+this.value)}},Z0=class e{name;children;attributes={};static of(t,r,n){let o=new e(t);return r!==void 0&&o.addChildNode(new ym(r)),n!==void 0&&o.withName(n),o}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=e.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new e(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${jne(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Sm,"parseXML",{enumerable:!0,get:function(){return Hne.parseXML}});Sm.XmlNode=Z0;Sm.XmlText=ym});var wF,_F,xF,Ws,bm=I(()=>{d();wF=N(Em());rr();He();_F=N(Hn()),xF=N(Pr());Jo();q0();Ws=class extends xt{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Hs(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=W.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(f=>!!f.getMemberTraits().eventPayload)){let f={},m=Object.keys(s)[0];return s[m].isBlobSchema()?f[m]=r:f[m]=this.read(s[m],r),f}let a=(this.serdeContext?.utf8Encoder??xF.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=W.of(t);if(n.isUnitSchema())return;let o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),f=[],m=c.getMergedTraits().xmlName??"member",p=i?r:(r[0]??r)[m],E=Array.isArray(p)?p:[p];for(let y of E)(y!=null||s)&&f.push(this.readSchema(c,y));return f}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),f=n.getValueSchema(),m;i?m=Array.isArray(r)?r:[r]:m=Array.isArray(r.entry)?r.entry:[r.entry];let p=c.getMergedTraits().xmlName??"key",E=f.getMergedTraits().xmlName??"value";for(let y of m){let w=y[p],C=y[E];(C!=null||s)&&(a[w]=this.readSchema(f,C))}return a}if(n.isStructSchema()){let c=n.isUnionSchema(),f;c&&(f=new sa(r,a));for(let[m,p]of n.structIterator()){let E=p.getMergedTraits(),y=E.httpPayload?E.xmlName??p.getName():p.getMemberTraits().xmlName??m;c&&f.mark(y),r[y]!=null&&(a[m]=this.readSchema(p,r[y]))}return c&&f.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,wF.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",o=Object.keys(r)[0],s=r[o];return s[n]&&(s[o]=s[n],delete s[n]),(0,_F.getValueFromTextNode)(s)}return{}}}});var IF,CF,Tm,AF=I(()=>{d();rr();He();Gt();IF=N(Hn()),CF=N(Vt());Jo();gu();Tm=class extends xt{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=W.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??CF.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,mr.v4)()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Fe?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),tr(o,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,IF.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(o.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let f=this.getKey("member",s.getMergedTraits().xmlName),m=i?`${n}${a}`:`${n}${f}.${a}`;this.write(s,c,m),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[f,m]of Object.entries(r)){if(m==null)continue;let p=this.getKey("key",s.getMergedTraits().xmlName),E=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`,y=this.getKey("value",i.getMergedTraits().xmlName),w=a?`${n}${c}.${y}`:`${n}entry.${c}.${y}`;this.write(s,f,E),this.write(i,m,w),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object"){let s=!1;for(let[i,a]of oa(o,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(i,a.getMergedTraits().xmlName),f=`${n}${c}`;this.write(a,r[i],f),s=!0}if(!s&&o.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,c]=i,f=`${n}${a}`;this.write(15,c,f)}}}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${en(t)}=`}writeValue(t){this.buffer+=en(t)}}});var Tu,e_=I(()=>{d();rr();He();na();bm();AF();Tu=class extends Fn{options;serializer;deserializer;mixin=new gr;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Tm(r),this.deserializer=new Ws(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Nr(t.input)==="unit"||!o.body)&&(o.body="");let s=t.name.split("#")[1]??t.name;return o.body=`Action=${s}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1)),o}async deserializeResponse(t,r,n){let o=this.deserializer,s=W.of(t.output),i={};if(n.statusCode>=300){let p=await hr(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(15,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let p in n.headers){let E=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=E}let a=t.name.split("#")[1]??t.name,c=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,f=await hr(n.body,r);return f.byteLength>0&&Object.assign(i,await o.read(s,f,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.loadQueryError(o),c=this.loadQueryErrorMessage(o);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:f,errorMetadata:m}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,s,this.mixin.findQueryCompatibleError),p=W.of(f),E=rt.for(f[1]).getErrorCtor(f)??Error,y=new E(c),w={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[C,A]of p.structIterator()){let v=A.getMergedTraits().xmlName??C,D=a[v]??o[v];w[C]=this.deserializer.readSchema(A,D)}throw this.mixin.decorateServiceException(Object.assign(y,m,{$fault:p.getMergedTraits().error,message:c},w),o)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var t_,RF=I(()=>{d();e_();t_=class extends Tu{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var vF,PF,NF,zne,r_,n_=I(()=>{d();vF=N(Em()),PF=N(Hn());z0();NF=(e,t)=>fm(e,t).then(r=>{if(r.length){let n;try{n=(0,vF.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,PF.getValueFromTextNode)(i)}return{}}),zne=async(e,t)=>{let r=await NF(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},r_=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Ut,o_,wm,wu,s_=I(()=>{d();Ut=N(Em());rr();He();Gt();o_=N(Hn()),wm=N(Vt());Jo();gu();wu=class extends xt{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=W.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??wm.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Ut.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);for(let[m,p]of oa(t,r)){let E=r[m];if(E!=null||p.isIdempotencyToken()){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??m,this.writeSimple(p,E));continue}if(p.isListSchema())this.writeList(p,E,i,c);else if(p.isMapSchema())this.writeMap(p,E,i,c);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,E,c));else{let y=Ut.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,E,y,c),i.addChildNode(y)}}}let{$unknown:f}=r;if(f&&t.isUnionSchema()&&Array.isArray(f)&&Object.keys(r).length===1){let[m,p]=f,E=Ut.XmlNode.of(m);if(typeof p!="string")if(r instanceof Ut.XmlNode||r instanceof Ut.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,p,E,c),i.addChildNode(E)}return c&&i.addAttribute(a,c),i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,f=!!s.xmlFlattened,[m,p]=this.getXmlnsAttribute(t,o),E=(y,w)=>{if(i.isListSchema())this.writeList(i,Array.isArray(w)?w:[w],y,p);else if(i.isMapSchema())this.writeMap(i,w,y,p);else if(i.isStructSchema()){let C=this.writeStruct(i,w,p);y.addChildNode(C.withName(f?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let C=Ut.XmlNode.of(f?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,w,C,p),y.addChildNode(C)}};if(f)for(let y of r)(c||y!=null)&&E(n,y);else{let y=Ut.XmlNode.of(s.xmlName??t.getMemberName());p&&y.addAttribute(m,p);for(let w of r)(c||w!=null)&&E(y,w);n.addChildNode(y)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),f=a.getMergedTraits().xmlName??"key",m=t.getValueSchema(),p=m.getMergedTraits(),E=p.xmlName??"value",y=!!p.sparse,w=!!i.xmlFlattened,[C,A]=this.getXmlnsAttribute(t,o),v=(D,k,M)=>{let B=Ut.XmlNode.of(f,k),[j,de]=this.getXmlnsAttribute(a,A);de&&B.addAttribute(j,de),D.addChildNode(B);let F=Ut.XmlNode.of(E);m.isListSchema()?this.writeList(m,M,F,A):m.isMapSchema()?this.writeMap(m,M,F,A,!0):m.isStructSchema()?F=this.writeStruct(m,M,A):this.writeSimpleInto(m,M,F,A),D.addChildNode(F)};if(w){for(let[D,k]of Object.entries(r))if(y||k!=null){let M=Ut.XmlNode.of(i.xmlName??t.getMemberName());v(M,D,k),n.addChildNode(M)}}else{let D;s||(D=Ut.XmlNode.of(i.xmlName??t.getMemberName()),A&&D.addAttribute(C,A),n.addChildNode(D));for(let[k,M]of Object.entries(r))if(y||M!=null){let B=Ut.XmlNode.of("entry");v(B,k,M),(s?n:D).addChildNode(B)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=W.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??wm.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(tr(n,this.settings)){case 5:o=r.toISOString().replace(".000Z","Z");break;case 6:o=(0,o_.dateToUtcString)(r);break;case 7:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,o_.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Fe?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=(0,mr.v4)():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=W.of(t),a=new Ut.XmlText(s),[c,f]=this.getXmlnsAttribute(i,o);f&&n.addAttribute(c,f),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var _u,i_=I(()=>{d();Jo();bm();s_();_u=class extends xt{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new wu(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ws(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var a_,DF=I(()=>{d();rr();He();na();n_();i_();a_=class extends Fs{codec;serializer;deserializer;mixin=new gr;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new _u(r),this.serializer=new qs(this.codec.createSerializer(),r),this.deserializer=new js(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=W.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return typeof o.body=="string"&&o.headers["content-type"]===this.getDefaultContentType()&&!o.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(s)&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=r_(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),f=W.of(a),m=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",p=rt.for(a[1]).getErrorCtor(a)??Error,E=new p(m);await this.deserializeHttpMessage(a,r,n,o);let y={};for(let[w,C]of f.structIterator()){let A=C.getMergedTraits().xmlName??w,v=o.Error?.[A]??o[A];y[w]=this.codec.createDeserializer().readSchema(C,v)}throw this.mixin.decorateServiceException(Object.assign(E,c,{$fault:f.getMergedTraits().error,message:m},y),o)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var OF={};Je(OF,{AwsEc2QueryProtocol:()=>t_,AwsJson1_0Protocol:()=>K0,AwsJson1_1Protocol:()=>Y0,AwsJsonRpcProtocol:()=>Vs,AwsQueryProtocol:()=>Tu,AwsRestJsonProtocol:()=>X0,AwsRestXmlProtocol:()=>a_,AwsSmithyRpcV2CborProtocol:()=>j0,JsonCodec:()=>Gs,JsonShapeDeserializer:()=>Eu,JsonShapeSerializer:()=>bu,XmlCodec:()=>_u,XmlShapeDeserializer:()=>Ws,XmlShapeSerializer:()=>wu,_toBool:()=>kne,_toNum:()=>Lne,_toStr:()=>$ne,awsExpectUnion:()=>Une,loadRestJsonErrorCode:()=>yu,loadRestXmlErrorCode:()=>r_,parseJsonBody:()=>pm,parseJsonErrorBody:()=>Mne,parseXmlBody:()=>NF,parseXmlErrorBody:()=>zne});var $F=I(()=>{d();oF();sF();mF();hF();gm();gF();hm();G0();W0();SF();Su();RF();e_();DF();i_();bm();s_();n_()});var FF=$(BF=>{"use strict";d();var d_=($F(),ue(OF)),kF=(He(),ue(E0)),LF=Hn(),MF=Vt(),c_=class extends d_.JsonCodec{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let t=new u_(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new l_(this.settings);return t.setSerdeContext(this.serdeContext),t}},UF="com.amazonaws.dynamodb#AttributeValue",u_=class extends d_.JsonShapeSerializer{_write(t,r,n){let o=kF.NormalizedSchema.of(t);if(o.isStructSchema()&&o.getName(!0)===UF&&r&&typeof r=="object"){let s=r,i=LF._json(s),a=this.serdeContext?.base64Encoder??MF.toBase64;if(s.B instanceof Uint8Array&&(i.B=a(s.B)),Array.isArray(s.BS)&&(i.BS=s.BS.map(a)),Array.isArray(s.L)&&(i.L=s.L.filter(c=>c!=null).map(c=>this._write(o,c,n))),s.M&&typeof s.M=="object"){i.M={};for(let[c,f]of Object.entries(s.M))f!=null&&(i.M[c]=this._write(o,f,n))}return i}return super._write(o,r,n)}},l_=class extends d_.JsonShapeDeserializer{_read(t,r){let n=kF.NormalizedSchema.of(t);if(n.isStructSchema()&&n.getName(!0)===UF&&r&&typeof r=="object"){let o=r,s=LF._json(o),i=this.serdeContext?.base64Decoder??MF.fromBase64;if(typeof o.B=="string"&&(s.B=i(o.B)),Array.isArray(o.BS)&&(s.BS=o.BS.map(i)),Array.isArray(o.L)&&(s.L=o.L.map(a=>this._read(n,a))),o.M&&typeof o.M=="object"){s.M={};for(let[a,c]of Object.entries(o.M))s.M[a]=this._read(n,c)}return s}return super._read(n,r)}};BF.DynamoDBJsonCodec=c_});var d2=$(xm=>{"use strict";d();Object.defineProperty(xm,"__esModule",{value:!0});xm.ruleSet=void 0;var m_="required",re="type",Xe="rules",Pe="conditions",Y="fn",X="argv",Se="ref",_m="assign",rn="url",nn="properties",on="headers",c2="metricValues",Gne=!1,Qe="error",It="stringEquals",HF="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",Wt="endpoint",et="tree",h_="dynamodb",xu={[m_]:!1,[re]:"string"},jF={[m_]:!0,default:!1,[re]:"boolean"},qF={[Y]:"isSet",[X]:[{[Se]:"Endpoint"}]},Vne={[Se]:"Endpoint"},zF={[Y]:"isSet",[X]:[{[Se]:"Region"}]},u2={[Se]:"Region"},GF={[Y]:"aws.partition",[X]:[u2],[_m]:"PartitionResult"},VF={[Pe]:[{[Y]:"booleanEquals",[X]:[{[Se]:"UseFIPS"},!0]}],[Qe]:"Invalid Configuration: FIPS and custom endpoint are not supported",[re]:Qe},ia={[Y]:"booleanEquals",[X]:[{[Se]:"UseFIPS"},!0]},WF={[Pe]:[{[Y]:"booleanEquals",[X]:[{[Se]:"UseDualStack"},!0]}],[Qe]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[re]:Qe},l2={[Y]:"booleanEquals",[X]:[{[Se]:"UseDualStack"},!0]},KF={[Wt]:{[rn]:"{Endpoint}",[nn]:{},[on]:{}},[re]:Wt},jn={},YF={[Y]:"booleanEquals",[X]:[{[Y]:"getAttr",[X]:[{[Se]:"PartitionResult"},"supportsFIPS"]},!0]},XF={[Y]:"booleanEquals",[X]:[{[Y]:"getAttr",[X]:[{[Se]:"PartitionResult"},"supportsDualStack"]},!0]},f_={[Pe]:[{[Y]:"isSet",[X]:[{[Se]:"AccountIdEndpointMode"}]},{[Y]:It,[X]:[{[Se]:"AccountIdEndpointMode"},"required"]}],[Xe]:[{[Qe]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[re]:Qe}],[re]:et},Iu={[Y]:"getAttr",[X]:[{[Se]:"PartitionResult"},"name"]},QF={[Wt]:{[rn]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[nn]:{},[on]:{}},[re]:Wt},JF={[rn]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[nn]:{[c2]:["O"]},[on]:{}},p_={[c2]:["O"]},ZF={[Qe]:"Credentials-sourced account ID parameter is invalid",[re]:Qe},e2={[Pe]:[{[Y]:"isSet",[X]:[{[Se]:"AccountIdEndpointMode"}]},{[Y]:It,[X]:[{[Se]:"AccountIdEndpointMode"},"required"]}],[Xe]:[{[Pe]:[{[Y]:"not",[X]:[ia]}],[Xe]:[{[Pe]:[{[Y]:It,[X]:[Iu,"aws"]}],[Xe]:[{[Qe]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[re]:Qe}],[re]:et},{[Qe]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[re]:Qe}],[re]:et},{[Qe]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[re]:Qe}],[re]:et},t2={[rn]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[nn]:p_,[on]:{}},r2=[ia],n2=[l2],o2=[{[Y]:"isSet",[X]:[{[Se]:"AccountIdEndpointMode"}]},{[Y]:"not",[X]:[{[Y]:It,[X]:[{[Se]:"AccountIdEndpointMode"},"disabled"]}]},{[Y]:It,[X]:[Iu,"aws"]},{[Y]:"not",[X]:[ia]},{[Y]:"isSet",[X]:[{[Se]:"ResourceArn"}]},{[Y]:"aws.parseArn",[X]:[{[Se]:"ResourceArn"}],[_m]:"ParsedArn"},{[Y]:It,[X]:[{[Y]:"getAttr",[X]:[{[Se]:"ParsedArn"},"service"]},h_]},{[Y]:"isValidHostLabel",[X]:[{[Y]:"getAttr",[X]:[{[Se]:"ParsedArn"},"region"]},!1]},{[Y]:It,[X]:[{[Y]:"getAttr",[X]:[{[Se]:"ParsedArn"},"region"]},"{Region}"]},{[Y]:"isValidHostLabel",[X]:[{[Y]:"getAttr",[X]:[{[Se]:"ParsedArn"},"accountId"]},!1]}],s2=[{[Y]:"isSet",[X]:[{[Se]:"AccountIdEndpointMode"}]},{[Y]:"not",[X]:[{[Y]:It,[X]:[{[Se]:"AccountIdEndpointMode"},"disabled"]}]},{[Y]:It,[X]:[Iu,"aws"]},{[Y]:"not",[X]:[ia]},{[Y]:"isSet",[X]:[{[Se]:"ResourceArnList"}]},{[Y]:"getAttr",[X]:[{[Se]:"ResourceArnList"},"[0]"],[_m]:"FirstArn"},{[Y]:"aws.parseArn",[X]:[{[Se]:"FirstArn"}],[_m]:"ParsedArn"},{[Y]:It,[X]:[{[Y]:"getAttr",[X]:[{[Se]:"ParsedArn"},"service"]},h_]},{[Y]:"isValidHostLabel",[X]:[{[Y]:"getAttr",[X]:[{[Se]:"ParsedArn"},"region"]},!1]},{[Y]:It,[X]:[{[Y]:"getAttr",[X]:[{[Se]:"ParsedArn"},"region"]},"{Region}"]},{[Y]:"isValidHostLabel",[X]:[{[Y]:"getAttr",[X]:[{[Se]:"ParsedArn"},"accountId"]},!1]}],i2=[{[Y]:"isSet",[X]:[{[Se]:"AccountIdEndpointMode"}]},{[Y]:"not",[X]:[{[Y]:It,[X]:[{[Se]:"AccountIdEndpointMode"},"disabled"]}]},{[Y]:It,[X]:[Iu,"aws"]},{[Y]:"not",[X]:[ia]},{[Y]:"isSet",[X]:[{[Se]:"AccountId"}]}],a2=[{[Y]:"isValidHostLabel",[X]:[{[Se]:"AccountId"},!1]}],Wne={version:"1.0",parameters:{Region:xu,UseDualStack:jF,UseFIPS:jF,Endpoint:xu,AccountId:xu,AccountIdEndpointMode:xu,ResourceArn:xu,ResourceArnList:{[m_]:Gne,[re]:"stringArray"}},[Xe]:[{[Pe]:[qF,zF,GF],[Xe]:[VF,WF,{[Pe]:[{[Y]:It,[X]:[Vne,HF]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[re]:Qe},KF],[re]:et},{[Pe]:[qF],[Xe]:[VF,WF,KF],[re]:et},{[Pe]:[zF],[Xe]:[{[Pe]:[GF],[Xe]:[{[Pe]:[{[Y]:It,[X]:[u2,"local"]}],[Xe]:[{[Pe]:r2,error:"Invalid Configuration: FIPS and local endpoint are not supported",[re]:Qe},{[Pe]:n2,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[re]:Qe},{endpoint:{[rn]:"http://localhost:8000",[nn]:{authSchemes:[{name:"sigv4",signingName:h_,signingRegion:"us-east-1"}]},[on]:jn},[re]:Wt}],[re]:et},{[Pe]:[ia,l2],[Xe]:[{[Pe]:[YF,XF],[Xe]:[f_,{endpoint:{[rn]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[nn]:jn,[on]:jn},[re]:Wt}],[re]:et},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[re]:Qe}],[re]:et},{[Pe]:r2,[Xe]:[{[Pe]:[YF],[Xe]:[{[Pe]:[{[Y]:It,[X]:[Iu,"aws-us-gov"]}],[Xe]:[f_,QF],[re]:et},f_,{endpoint:{[rn]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[nn]:jn,[on]:jn},[re]:Wt}],[re]:et},{error:"FIPS is enabled but this partition does not support FIPS",[re]:Qe}],[re]:et},{[Pe]:n2,[Xe]:[{[Pe]:[XF],[Xe]:[{[Pe]:o2,endpoint:JF,[re]:Wt},{[Pe]:s2,endpoint:JF,[re]:Wt},{[Pe]:i2,[Xe]:[{[Pe]:a2,[Xe]:[{endpoint:{[rn]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[nn]:p_,[on]:jn},[re]:Wt}],[re]:et},ZF],[re]:et},e2,{endpoint:{[rn]:HF,[nn]:jn,[on]:jn},[re]:Wt}],[re]:et},{error:"DualStack is enabled but this partition does not support DualStack",[re]:Qe}],[re]:et},{[Pe]:o2,endpoint:t2,[re]:Wt},{[Pe]:s2,endpoint:t2,[re]:Wt},{[Pe]:i2,[Xe]:[{[Pe]:a2,[Xe]:[{endpoint:{[rn]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[nn]:p_,[on]:jn},[re]:Wt}],[re]:et},ZF],[re]:et},e2,QF],[re]:et}],[re]:et},{error:"Invalid Configuration: Missing Region",[re]:Qe}]};xm.ruleSet=Wne});var f2=$(Im=>{"use strict";d();Object.defineProperty(Im,"__esModule",{value:!0});Im.defaultEndpointResolver=void 0;var Kne=ys(),g_=ao(),Yne=d2(),Xne=new g_.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),Qne=(e,t={})=>Xne.get(e,()=>(0,g_.resolveEndpoint)(Yne.ruleSet,{endpointParams:e,logger:t.logger}));Im.defaultEndpointResolver=Qne;g_.customEndpointFunctions.aws=Kne.awsEndpointFunctions});var h2=$(Cm=>{"use strict";d();Object.defineProperty(Cm,"__esModule",{value:!0});Cm.getRuntimeConfig=void 0;var Jne=(lt(),ue(xo)),Zne=(Ts(),ue(mb)),eoe=FF(),toe=he(),roe=bn(),p2=ot(),m2=nt(),noe=$b(),ooe=f2(),soe=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??p2.fromBase64,base64Encoder:e?.base64Encoder??p2.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ooe.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??noe.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Jne.AwsSdkSigV4Signer}],logger:e?.logger??new toe.NoOpLogger,protocol:e?.protocol??Zne.AwsJson1_0Protocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.dynamodb",xmlNamespace:"http://dynamodb.amazonaws.com/doc/2012-08-10/",version:"2012-08-10",serviceTarget:"DynamoDB_20120810",jsonCodec:new eoe.DynamoDBJsonCodec},serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??roe.parseUrl,utf8Decoder:e?.utf8Decoder??m2.fromUtf8,utf8Encoder:e?.utf8Encoder??m2.toUtf8});Cm.getRuntimeConfig=soe});var T2=$(Rm=>{"use strict";d();Object.defineProperty(Rm,"__esModule",{value:!0});Rm.getRuntimeConfig=void 0;var ioe=(Ga(),ue(za)),aoe=ioe.__importDefault(oD()),g2=(lt(),ue(xo)),coe=(sy(),ue(oy)),uoe=NM(),loe=yy(),y2=Di(),Am=qt(),doe=Oi(),S2=_r(),qn=zr(),E2=oo(),b2=he(),foe=$i(),poe=ki(),moe=xs(),hoe=h2(),goe=e=>{(0,b2.emitWarningIfUnsupportedVersion)(process.version);let t=(0,poe.resolveDefaultsModeConfig)(e),r=()=>t().then(b2.loadConfigsForDefaultMode),n=(0,hoe.getRuntimeConfig)(e);(0,g2.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,qn.loadConfig)(coe.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,qn.loadConfig)(g2.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??foe.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??uoe.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,y2.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:aoe.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,qn.loadConfig)(loe.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,qn.loadConfig)(S2.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,qn.loadConfig)(Am.NODE_REGION_CONFIG_OPTIONS,{...Am.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:E2.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,qn.loadConfig)({...S2.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||moe.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??doe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??E2.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,qn.loadConfig)(Am.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,qn.loadConfig)(Am.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,qn.loadConfig)(y2.NODE_APP_ID_CONFIG_OPTIONS,o)}};Rm.getRuntimeConfig=goe});var I2=$(Bt=>{"use strict";d();var vm=()=>{let e=new WeakSet;return(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r}},yoe=e=>new Promise(t=>setTimeout(t,e*1e3)),x2={minDelay:2,maxDelay:120};Bt.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(Bt.WaiterState||(Bt.WaiterState={}));var Soe=e=>{if(e.state===Bt.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},vm())}`);throw t.name="AbortError",t}else if(e.state===Bt.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},vm())}`);throw t.name="TimeoutError",t}else if(e.state!==Bt.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,vm())}`);return e},Eoe=(e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return boe(e,o)},boe=(e,t)=>e+Math.random()*(t-e),Toe=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let c={},{state:f,reason:m}=await a(o,i);if(m){let w=w2(m);c[w]|=0,c[w]+=1}if(f!==Bt.WaiterState.RETRY)return{state:f,reason:m,observedResponses:c};let p=1,E=Date.now()+r*1e3,y=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let v="AbortController signal aborted.";return c[v]|=0,c[v]+=1,{state:Bt.WaiterState.ABORTED,observedResponses:c}}let w=Eoe(e,t,y,p);if(Date.now()+w*1e3>E)return{state:Bt.WaiterState.TIMEOUT,observedResponses:c};await yoe(w);let{state:C,reason:A}=await a(o,i);if(A){let v=w2(A);c[v]|=0,c[v]+=1}if(C!==Bt.WaiterState.RETRY)return{state:C,reason:A,observedResponses:c};p+=1}},w2=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e,vm())??"Unknown"),woe=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},_2=e=>{let t,r=new Promise(n=>{t=()=>n({state:Bt.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},_oe=async(e,t,r)=>{let n={...x2,...e};woe(n);let o=[Toe(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=_2(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=_2(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})};Bt.checkExceptions=Soe;Bt.createWaiter=_oe;Bt.waiterServiceDefaults=x2});var VV=$(h=>{"use strict";d();var xoe=(sy(),ue(oy)),Ioe=yy(),C2=Qs(),Coe=Js(),Aoe=Zs(),A2=ws(),Roe=qt(),zn=(Nt(),ue(li)),ye=(xe(),ue(Al)),voe=Ai(),Q=Gr(),R2=_r(),G=he(),v2=$b(),Poe=T2(),P2=Cs(),N2=Ne(),Dr=I2(),Noe=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),J={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},pe=class e extends G.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Pm=class e extends pe{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Nm=class e extends pe{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Dm=class e extends pe{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},Om=class e extends pe{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},$m=class e extends pe{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.throttlingReasons=t.throttlingReasons}},km=class e extends pe{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Lm=class e extends pe{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},Mm=class e extends pe{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Um=class e extends pe{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Bm=class e extends pe{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fm=class e extends pe{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Hm=class e extends pe{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jm=class e extends pe{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},qm=class e extends pe{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},zm=class e extends pe{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gm=class e extends pe{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Vm=class e extends pe{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Wm=class e extends pe{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Km=class e extends pe{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ym=class e extends pe{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Xm=class e extends pe{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Qm=class e extends pe{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Jm=class e extends pe{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Zm=class e extends pe{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},eh=class e extends pe{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},th=class e extends pe{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rh=class e extends pe{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nh=class e extends pe{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},oh=class e extends pe{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sh=class e extends pe{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ih=class e extends pe{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ah=class e extends pe{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ch=class e extends pe{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},uh=class e extends pe{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Item=t.Item}},lh=class e extends pe{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},Doe="Action",Ooe="ArchivalBackupArn",y_="ApproximateCreationDateTimePrecision",$oe="AttributeDefinition",koe="ArchivalDateTime",Ou="AttributeDefinitions",Loe="AttributeMap",Moe="AccountMaxReadCapacityUnits",Uoe="AccountMaxWriteCapacityUnits",ag="AttributeName",Boe="ArchivalReason",O2="ArchivalSummary",$2="AutoScalingDisabled",Foe="AutoScalingPolicyDescription",Hoe="AutoScalingPolicyDescriptionList",joe="AutoScalingPolicyUpdate",k2="AutoScalingRoleArn",qoe="AutoScalingSettingsDescription",zoe="AutoScalingSettingsUpdate",Goe="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",Voe="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",Woe="AttributeType",cg="AttributesToGet",L2="AttributeUpdates",Koe="AttributeValue",S_="AttributeValueList",Yoe="AttributeValueUpdate",Xoe="Address",E_="Attributes",Qoe="Backfilling",$u="BackupArn",M2="BackupCreationDateTime",b_="BackupDescription",T_="BackupDetails",U2="BackupExpiryDateTime",Joe="BatchExecuteStatement",Zoe="BatchExecuteStatementInput",ese="BatchExecuteStatementOutput",tse="BatchGetItem",rse="BatchGetItemInput",nse="BatchGetItemOutput",ose="BatchGetResponseMap",sse="BatchGetRequestMap",ise="BackupInUseException",ku="BillingMode",B2="BillingModeOverride",F2="BillingModeSummary",w_="BackupName",ase="BackupNotFoundException",cse="BOOL",H2="BackupStatus",j2="BackupSizeBytes",use="BilledSizeBytes",lse="BatchStatementError",dse="BatchStatementRequest",fse="BatchStatementResponse",pse="BS",mse="BackupSummary",q2="BackupSummaries",__="BackupType",hse="BatchWriteItem",gse="BatchWriteItemInput",yse="BatchWriteItemOutput",Sse="BatchWriteItemRequestMap",Ese="B",z2="Code",bse="CreateBackup",x_="ContinuousBackupsDescription",Tse="CreateBackupInput",wse="CreateBackupOutput",_se="ContinuousBackupsStatus",xse="ContinuousBackupsUnavailableException",Kt="ConsumedCapacity",Ise="ConditionalCheckFailedException",Cse="ConsumedCapacityMultiple",G2="ConditionCheck",V2="CreationDateTime",Ks="ConditionExpression",Ase="CreateGlobalSecondaryIndexAction",Rse="CreateGlobalTable",vse="CreateGlobalTableInput",Pse="CreateGlobalTableOutput",Nse="CreateGlobalTableWitnessGroupMemberAction",Dse="ContributorInsightsAction",ug="ContributorInsightsMode",Ose="ContributorInsightsRuleList",$se="ContributorInsightsSummary",I_="ContributorInsightsStatus",W2="ContributorInsightsSummaries",K2="ComparisonOperator",Lu="ConditionalOperator",kse="CsvOptions",Lse="CachePeriodInMinutes",ca="ConsistentRead",Mse="CreateReplicaAction",Use="CreateReplicationGroupMemberAction",Bse="CancellationReasonList",Fse="ConfirmRemoveSelfResourceAccess",Y2="ClientRequestToken",Hse="CancellationReason",jse="CancellationReasons",lg="ClientToken",qse="CreateTableInput",zse="CreateTableOutput",Gse="CreateTable",X2="CapacityUnits",Q2="CloudWatchLogGroupArn",Vse="Capacity",Wse="Condition",J2="Count",dg="Create",Kse="Csv",Yse="Delimiter",Xse="DeleteBackup",Qse="DeleteBackupInput",Jse="DescribeBackupInput",Zse="DeleteBackupOutput",eie="DescribeBackupOutput",tie="DescribeBackup",rie="DescribeContinuousBackups",nie="DescribeContinuousBackupsInput",oie="DescribeContinuousBackupsOutput",sie="DescribeContributorInsights",iie="DescribeContributorInsightsInput",aie="DescribeContributorInsightsOutput",cie="DescribeEndpoints",uie="DescribeExportInput",lie="DescribeExportOutput",die="DescribeEndpointsRequest",fie="DescribeEndpointsResponse",pie="DescribeExport",mie="DeleteGlobalSecondaryIndexAction",hie="DescribeGlobalTable",gie="DescribeGlobalTableInput",yie="DescribeGlobalTableOutput",Sie="DescribeGlobalTableSettings",Eie="DescribeGlobalTableSettingsInput",bie="DescribeGlobalTableSettingsOutput",Tie="DeleteGlobalTableWitnessGroupMemberAction",wie="DeleteItem",_ie="DuplicateItemException",xie="DeleteItemInput",Iie="DescribeImportInput",Cie="DeleteItemOutput",Aie="DescribeImportOutput",Rie="DescribeImport",vie="DescribeKinesisStreamingDestination",Pie="DescribeKinesisStreamingDestinationInput",Nie="DescribeKinesisStreamingDestinationOutput",Die="DisableKinesisStreamingDestination",Oie="DescribeLimits",$ie="DescribeLimitsInput",kie="DescribeLimitsOutput",C_="DeletionProtectionEnabled",Z2="DeleteRequest",Lie="DeleteReplicaAction",Mie="DeleteReplicationGroupMemberAction",Uie="DeleteResourcePolicy",Bie="DeleteResourcePolicyInput",Fie="DeleteResourcePolicyOutput",A_="DestinationStatus",Hie="DestinationStatusDescription",eH="DisableScaleIn",jie="DeleteTable",qie="DeleteTableInput",zie="DescribeTableInput",Gie="DeleteTableOutput",Vie="DescribeTableOutput",Wie="DescribeTableReplicaAutoScaling",Kie="DescribeTableReplicaAutoScalingInput",Yie="DescribeTableReplicaAutoScalingOutput",Xie="DescribeTimeToLive",Qie="DescribeTimeToLiveInput",Jie="DescribeTimeToLiveOutput",Zie="DescribeTable",ua="Delete",eae="Error",R_="ExportArn",tae="ExpectedAttributeMap",yr="ExpressionAttributeNames",Vn="ExpressionAttributeValues",rae="ExpressionAttributeValueMap",nae="ExpectedAttributeValue",oae="ErrorCount",sae="ExportConflictException",v_="ExportDescription",iae="ExceptionDescription",tH="ExportFormat",aae="ExportFromTime",P_="EnableKinesisStreamingConfiguration",cae="EnableKinesisStreamingDestination",uae="ExportManifest",lae="ExceptionName",dae="ExportNotFoundException",fae="EarliestRestorableDateTime",rH="ExpectedRevisionId",nH="ExportStatus",pae="ExclusiveStartBackupArn",mae="ExclusiveStartGlobalTableName",hae="ExecuteStatementInput",oH="ExclusiveStartKey",gae="ExecuteStatementOutput",yae="ExclusiveStartTableName",Sae="ExportSummary",Eae="ExecuteStatement",sH="ExportSummaries",N_="EndTime",bae="ExecuteTransactionInput",Tae="ExecuteTransactionOutput",wae="ExportToTime",_ae="ExportTableToPointInTime",xae="ExportTableToPointInTimeInput",Iae="ExportTableToPointInTimeOutput",iH="ExportTime",Cae="ExecuteTransaction",D_="ExportType",Aae="ExportViewType",aH="Endpoints",cH="Enabled",Rae="Endpoint",O_="Expected",vae="Exists",uH="FailureCode",Pae="FilterConditionMap",lH="FailureException",dH="FilterExpression",fH="FailureMessage",pH="Get",Nae="GetItem",Dae="GetItemInput",Oae="GetItemOutput",$ae="GetResourcePolicy",kae="GetResourcePolicyInput",Lae="GetResourcePolicyOutput",an="GlobalSecondaryIndexes",Mae="GlobalSecondaryIndexAutoScalingUpdate",Uae="GlobalSecondaryIndexAutoScalingUpdateList",Bae="GlobalSecondaryIndexDescription",Fae="GlobalSecondaryIndexDescriptionList",Hae="GlobalSecondaryIndexInfo",jae="GlobalSecondaryIndexList",mH="GlobalSecondaryIndexOverride",qae="GlobalSecondaryIndexUpdate",zae="GlobalSecondaryIndexUpdateList",hH="GlobalSecondaryIndexUpdates",Gae="GlobalSecondaryIndexWarmThroughputDescription",Vae="GlobalSecondaryIndex",Wae="GlobalTable",Kae="GlobalTableArn",Yae="GlobalTableAlreadyExistsException",Xae="GlobalTableBillingMode",fg="GlobalTableDescription",gH="GlobalTableGlobalSecondaryIndexSettingsUpdate",Qae="GlobalTableGlobalSecondaryIndexSettingsUpdateList",Jae="GlobalTableList",Wn="GlobalTableName",Zae="GlobalTableNotFoundException",ece="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",tce="GlobalTableProvisionedWriteCapacityUnits",rce="GlobalTableStatus",nce="GlobalTableVersion",oce="GlobalTableWitnesses",sce="GlobalTableWitnessDescription",ice="GlobalTableWitnessDescriptionList",ace="GlobalTableWitnessGroupUpdate",cce="GlobalTableWitnessGroupUpdateList",uce="GlobalTableWitnessUpdates",lce="GlobalTables",dce="HeaderList",Kn="Item",$_="ImportArn",yH="IndexArn",Mu="ItemCount",fce="ImportConflictException",pce="ItemCollectionKey",mce="ItemCollectionKeyAttributeMap",la="ItemCollectionMetrics",hce="ItemCollectionMetricsMultiple",gce="ItemCollectionMetricsPerTable",yce="ItemCollectionSizeLimitExceededException",SH="InputCompressionType",Sce="InaccessibleEncryptionDateTime",Ece="InvalidEndpointException",k_="IncrementalExportSpecification",bce="InvalidExportTimeException",L_="InputFormat",M_="InputFormatOptions",Tce="ImportedItemCount",wce="ItemList",je="IndexName",_ce="ImportNotFoundException",xce="IndexNotFoundException",Ice="IdempotentParameterMismatchException",Cce="ItemResponse",Ace="ItemResponseList",Rce="InvalidRestoreTimeException",U_="IndexStatus",EH="IndexSizeBytes",vce="InternalServerError",bH="ImportSummaryList",Pce="ImportSummary",TH="ImportStatus",Nce="ImportTable",B_="ImportTableDescription",Dce="ImportTableInput",Oce="ImportTableOutput",F_="Items",cn="Key",$ce="KeysAndAttributes",wH="KeyConditions",kce="KeyConditionExpression",_H="KinesisDataStreamDestinations",Lce="KinesisDataStreamDestination",Mce="KeyList",Uce="KMSMasterKeyArn",pg="KMSMasterKeyId",Sr="KeySchema",Bce="KinesisStreamingDestinationInput",Fce="KinesisStreamingDestinationOutput",Hce="KeySchemaElement",jce="KeyType",qce="Keys",da="Limit",zce="ListAttributeValue",Gce="ListBackups",Vce="ListBackupsInput",Wce="ListBackupsOutput",Kce="ListContributorInsights",Yce="ListContributorInsightsInput",Xce="ListContributorInsightsOutput",Qce="LastDecreaseDateTime",Jce="ListExports",Zce="LastEvaluatedBackupArn",eue="LimitExceededException",tue="LastEvaluatedGlobalTableName",rue="ListExportsInput",H_="LastEvaluatedKey",nue="ListExportsOutput",oue="LastEvaluatedTableName",sue="ListGlobalTables",iue="ListGlobalTablesInput",aue="ListGlobalTablesOutput",cue="ListImports",uue="LastIncreaseDateTime",lue="ListImportsInput",due="ListImportsOutput",fue="LatestRestorableDateTime",pue="LatestStreamArn",Uu="LocalSecondaryIndexes",mue="LocalSecondaryIndexDescription",hue="LocalSecondaryIndexDescriptionList",gue="LocalSecondaryIndexInfo",yue="LocalSecondaryIndexList",xH="LocalSecondaryIndexOverride",Sue="LocalSecondaryIndex",Eue="LatestStreamLabel",bue="ListTables",Tue="ListTablesInput",wue="ListTablesOutput",_ue="ListTagsOfResource",xue="ListTagsOfResourceInput",Iue="ListTagsOfResourceOutput",IH="LastUpdateDateTime",Cue="LastUpdateToPayPerRequestDateTime",Aue="L",fa="Message",Rue="MapAttributeValue",CH="MaxResults",AH="MultiRegionConsistency",RH="MaxReadRequestUnits",vH="MinimumUnits",PH="MaximumUnits",vue="MaxWriteRequestUnits",Pue="M",Nue="N",Due="NonKeyAttributes",Oue="NumberOfDecreasesToday",$ue="NS",un="NextToken",kue="NULL",Or="OnDemandThroughput",Zo="OnDemandThroughputOverride",j_="Parameters",Bu="ProjectionExpression",Lue="PutItem",Mue="ProcessedItemCount",Uue="PutItemInput",Bue="PutItemInputAttributeMap",Fue="PutItemOutput",NH="PointInTimeRecoveryDescription",Hue="PointInTimeRecoveryEnabled",jue="PointInTimeRecoveryStatus",DH="PointInTimeRecoverySpecification",que="PointInTimeRecoveryUnavailableException",OH="PolicyName",zue="PolicyNotFoundException",Gue="PartiQLBatchRequest",Vue="PartiQLBatchResponse",$H="PutRequest",kH="ProvisionedReadCapacityAutoScalingSettings",Wue="ProvisionedReadCapacityAutoScalingSettingsUpdate",Kue="ProvisionedReadCapacityAutoScalingUpdate",LH="ProvisionedReadCapacityUnits",Yue="PutResourcePolicy",Xue="PutResourcePolicyInput",Que="PutResourcePolicyOutput",Jue="PageSize",Zue="ProcessedSizeBytes",ele="PreparedStatementParameters",tle="ParameterizedStatement",rle="ParameterizedStatements",$r="ProvisionedThroughput",nle="ProvisionedThroughputDescription",ole="ProvisionedThroughputExceededException",es="ProvisionedThroughputOverride",sle="ProjectionType",MH="ProvisionedWriteCapacityAutoScalingSettings",ile="ProvisionedWriteCapacityAutoScalingSettingsUpdate",UH="ProvisionedWriteCapacityAutoScalingUpdate",BH="ProvisionedWriteCapacityUnits",FH="Policy",ts="Projection",HH="Put",ale="Query",cle="QueryFilter",ule="QueryInput",lle="QueryOutput",mg="Responses",pa="ResourceArn",dle="ReplicaAlreadyExistsException",fle="ReplicaAutoScalingDescription",ple="ReplicaAutoScalingDescriptionList",mle="ReplicaAutoScalingUpdate",hle="ReplicaAutoScalingUpdateList",gle="ReplicaBillingModeSummary",nr="ReturnConsumedCapacity",Fu="ReadCapacityUnits",yle="ReplicaDescription",Sle="ReplicaDescriptionList",jH="RestoreDateTime",q_="ReplicationGroup",Ele="ReplicaGlobalSecondaryIndex",ble="ReplicaGlobalSecondaryIndexAutoScalingDescription",Tle="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",wle="ReplicaGlobalSecondaryIndexAutoScalingUpdate",_le="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",xle="ReplicaGlobalSecondaryIndexDescription",Ile="ReplicaGlobalSecondaryIndexDescriptionList",Cle="ReplicaGlobalSecondaryIndexList",Ale="ReplicaGlobalSecondaryIndexSettings",Rle="ReplicaGlobalSecondaryIndexSettingsDescription",vle="ReplicaGlobalSecondaryIndexSettingsDescriptionList",qH="ReplicaGlobalSecondaryIndexSettingsUpdate",Ple="ReplicaGlobalSecondaryIndexSettingsUpdateList",Nle="ReplicaGlobalSecondaryIndexUpdates",Dle="ReplicationGroupUpdate",Ole="ReplicationGroupUpdateList",zH="RequestItems",Hu="ReturnItemCollectionMetrics",$le="ReplicaInaccessibleDateTime",kle="RestoreInProgress",Lle="ResourceInUseException",z_="RevisionId",Mle="ReplicaList",Ule="RequestLimitExceeded",Ft="RegionName",Ble="ReplicaNotFoundException",Fle="ResourceNotFoundException",Hle="ResourcePolicy",GH="RecoveryPeriodInDays",VH="ReplicaProvisionedReadCapacityAutoScalingSettings",jle="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",qle="ReplicaProvisionedReadCapacityAutoScalingUpdate",WH="ReplicaProvisionedReadCapacityUnits",KH="ReplicaProvisionedWriteCapacityAutoScalingSettings",zle="ReplicaProvisionedWriteCapacityUnits",YH="ReplicaSettings",Gle="ReplicaStatusDescription",Vle="ReplicaSettingsDescriptionList",Wle="ReplicaSettingsDescription",Kle="ReplicaStatusPercentProgress",XH="ReplicaSettingsUpdate",Yle="ReplicaSettingsUpdateList",G_="ReplicaStatus",QH="RestoreSummary",Xle="ReplicaTableClass",JH="ReplicaTableClassSummary",Qle="RestoreTableFromBackup",Jle="RestoreTableFromBackupInput",Zle="RestoreTableFromBackupOutput",ede="RestoreTableToPointInTime",tde="RestoreTableToPointInTimeInput",rde="RestoreTableToPointInTimeOutput",nde="ReplicaUpdate",ode="ReplicaUpdateList",V_="ReadUnitsPerSecond",W_="ReplicaUpdates",K_="ReturnValues",ln="ReturnValuesOnConditionCheckFailure",sde="ReplicatedWriteConflictException",ide="Replica",ZH="Replicas",ade="Statements",ju="StreamArn",Y_="S3Bucket",cde="SourceBackupArn",X_="S3BucketOwner",hg="S3BucketSource",ej="ScannedCount",ude="StreamDescription",lde="StreamEnabled",dde="SizeEstimateRangeGB",fde="ScanFilter",pde="ScanInput",tj="ScaleInCooldown",mde="SecondaryIndexesCapacityMap",hde="ScanIndexForward",gde="S3KeyPrefix",yde="ScanOutput",rj="ScaleOutCooldown",Sde="ScalingPolicies",Ede="ScalingPolicyUpdate",nj="S3Prefix",gg="StreamSpecification",oj="S3SseAlgorithm",Q_="SSEDescription",yg="SSESpecification",sj="SSESpecificationOverride",ij="SSEType",aj="S3SseKmsKeyId",bde="SS",J_="StartTime",cj="SourceTableArn",uj="SourceTableDetails",lj="SourceTableFeatureDetails",Tde="SourceTableName",wde="StreamViewType",_de="S",xde="Scan",dj="Select",Ide="Segment",Z_="Statement",ex="Status",fj="Table",Yn="TableArn",Cde="TableAlreadyExistsException",tx="TableAutoScalingDescription",rx="TableClass",Ade="TableCreationDateTime",Rde="TransactionCanceledException",vde="TransactionConflictException",pj="TableClassOverride",nx="TableCreationParameters",mj="TableClassSummary",ma="TableDescription",Pde="ThrottlingException",Nde="TransactGetItem",Dde="TransactGetItemsInput",Ode="TransactGetItemList",$de="TransactGetItemsOutput",kde="TransactGetItems",qu="TableId",Lde="TransactionInProgressException",Mde="TableInUseException",hj="TransactItems",Ude="TagKeys",Bde="TagList",Fde="TableMaxReadCapacityUnits",Hde="TableMaxWriteCapacityUnits",ae="TableName",jde="TableNotFoundException",qde="TableNames",gj="ThrottlingReasons",zde="TagResourceInput",Gde="ThrottlingReasonList",Vde="TimeRangeLowerBound",Wde="TimeRangeUpperBound",Kde="TagResource",Yde="ThrottlingReason",Xde="TransactStatements",yj="TableSizeBytes",Sj="TableStatus",Qde="TotalSegments",ox="TimeToLiveDescription",Jde="TimeToLiveStatus",sx="TimeToLiveSpecification",Ej="TargetTableName",bj="TargetTrackingScalingPolicyConfiguration",Tj="TargetValue",Zde="TransactWriteItem",efe="TransactWriteItemsInput",tfe="TransactWriteItemList",rfe="TransactWriteItemsOutput",nfe="TransactWriteItems",ofe="TableWarmThroughputDescription",ix="Tags",sfe="Tag",Sg="Update",ife="UpdateContinuousBackups",afe="UpdateContinuousBackupsInput",cfe="UpdateContinuousBackupsOutput",ufe="UpdateContributorInsights",lfe="UpdateContributorInsightsInput",dfe="UpdateContributorInsightsOutput",wj="UpdateExpression",ffe="UpdateGlobalSecondaryIndexAction",pfe="UpdateGlobalTable",mfe="UpdateGlobalTableInput",hfe="UpdateGlobalTableOutput",gfe="UpdateGlobalTableSettings",yfe="UpdateGlobalTableSettingsInput",Sfe="UpdateGlobalTableSettingsOutput",Efe="UnprocessedItems",bfe="UpdateItemInput",Tfe="UpdateItemOutput",wfe="UpdateItem",_fe="UnprocessedKeys",ax="UpdateKinesisStreamingConfiguration",xfe="UpdateKinesisStreamingDestination",Ife="UpdateKinesisStreamingDestinationInput",Cfe="UpdateKinesisStreamingDestinationOutput",Afe="UseLatestRestorableTime",Rfe="UntagResource",vfe="UpdateReplicationGroupMemberAction",Pfe="UntagResourceInput",Nfe="UpdateTable",Dfe="UpdateTableInput",Ofe="UpdateTableOutput",$fe="UpdateTableReplicaAutoScaling",kfe="UpdateTableReplicaAutoScalingInput",Lfe="UpdateTableReplicaAutoScalingOutput",Mfe="UpdateTimeToLive",Ufe="UpdateTimeToLiveInput",Bfe="UpdateTimeToLiveOutput",cx="Value",Eg="WriteCapacityUnits",Ffe="WriteRequest",Hfe="WriteRequests",jfe="WitnessStatus",dn="WarmThroughput",ux="WriteUnitsPerSecond",qfe="awsQueryError",Te="client",be="error",_j="httpError",zfe="httpHeader",Ie="message",Gfe="reason",Vfe="resource",Wfe="server",xj="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",Kfe="throttlingReasons",Yfe="x-amz-confirm-remove-self-resource-access",S="com.amazonaws.dynamodb",Ij=[3,S,O2,0,[koe,Boe,Ooe],[4,0,0]],Cj=[3,S,$oe,0,[ag,Woe],[0,0]],Aj=[3,S,Yoe,0,[cx,Doe],[()=>Er,0]],Rj=[3,S,Foe,0,[OH,bj],[0,()=>Pj]],vj=[3,S,joe,0,[OH,bj],[0,()=>Nj]],Gn=[3,S,qoe,0,[vH,PH,$2,k2,Sde],[1,1,2,0,()=>Xfe]],Xn=[3,S,zoe,0,[vH,PH,$2,k2,Ede],[1,1,2,0,()=>vj]],Pj=[3,S,Goe,0,[eH,tj,rj,Tj],[2,1,1,1]],Nj=[3,S,Voe,0,[eH,tj,rj,Tj],[2,1,1,1]],lx=[3,S,b_,0,[T_,uj,lj],[()=>dx,()=>jG,()=>qG]],dx=[3,S,T_,0,[$u,w_,j2,H2,__,M2,U2],[0,0,1,0,0,4,4]],Dj=[-3,S,ise,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Dj,Pm);var Oj=[-3,S,ase,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Oj,Nm);var $j=[3,S,mse,0,[ae,qu,Yn,$u,w_,M2,U2,H2,__,j2],[0,0,0,0,0,4,4,0,0,1]],kj=[3,S,Zoe,0,[ade,nr],[()=>Spe,0]],Lj=[3,S,ese,0,[mg,Kt],[()=>Epe,()=>Ea]],Mj=[3,S,rse,0,[zH,nr],[()=>M3,0]],Uj=[3,S,nse,0,[mg,_fe,Kt],[()=>$pe,()=>M3,()=>Ea]],Bj=[3,S,lse,0,[z2,fa,Kn],[0,0,()=>fn]],Fj=[3,S,dse,0,[Z_,j_,ca,ln],[0,()=>Ox,2,0]],Hj=[3,S,fse,0,[eae,ae,Kn],[()=>Bj,0,()=>fn]],jj=[3,S,gse,0,[zH,nr,Hu],[()=>U3,0,0]],qj=[3,S,yse,0,[Efe,la,Kt],[()=>U3,()=>F3,()=>Ea]],fx=[3,S,F2,0,[ku,Cue],[0,4]],zj=[3,S,Hse,0,[Kn,z2,fa],[()=>fn,0,0]],px=[3,S,Vse,0,[Fu,Eg,X2],[1,1,1]],mx=[3,S,Wse,0,[S_,K2],[()=>N3,0]],Gj=[-3,S,Ise,{[be]:Te},[Ie,Kn],[0,()=>fn]];ye.TypeRegistry.for(S).registerError(Gj,uh);var Vj=[3,S,G2,0,[cn,ae,Ks,yr,Vn,ln],[()=>Yt,0,0,128,()=>Jn,0]],Qn=[3,S,Kt,0,[ae,X2,Fu,Eg,fj,Uu,an],[0,1,1,1,()=>px,()=>D2,()=>D2]],hx=[3,S,x_,0,[_se,NH],[0,()=>rG]],Wj=[-3,S,xse,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Wj,Fm);var Kj=[3,S,$se,0,[ae,je,I_,ug],[0,0,0,0]],Yj=[3,S,Tse,0,[ae,w_],[0,0]],Xj=[3,S,wse,0,[T_],[()=>dx]],Qj=[3,S,Ase,0,[je,Sr,ts,$r,Or,dn],[0,()=>Lr,()=>rs,()=>kr,()=>or,()=>Sa]],Jj=[3,S,vse,0,[Wn,q_],[0,()=>k3]],Zj=[3,S,Pse,0,[fg],[()=>bg]],eq=[3,S,Nse,0,[Ft],[0]],tq=[3,S,Mse,0,[Ft],[0]],rq=[3,S,Use,0,[Ft,pg,es,Zo,an,pj],[0,0,()=>ga,()=>ha,()=>$3,0]],nq=[3,S,qse,0,[Ou,ae,Sr,Uu,an,ku,$r,gg,yg,ix,rx,C_,dn,Hle,Or],[()=>_g,0,()=>Lr,()=>Dx,()=>xg,0,()=>kr,()=>Gu,()=>ya,()=>$x,0,2,()=>Sa,0,()=>or]],oq=[3,S,zse,0,[ma],[()=>Ys]],sq=[3,S,kse,0,[Yse,dce],[0,64]],iq=[3,S,ua,0,[cn,ae,Ks,yr,Vn,ln],[()=>Yt,0,0,128,()=>Jn,0]],aq=[3,S,Qse,0,[$u],[0]],cq=[3,S,Zse,0,[b_],[()=>lx]],uq=[3,S,mie,0,[je],[0]],lq=[3,S,Tie,0,[Ft],[0]],dq=[3,S,xie,0,[ae,cn,O_,Lu,K_,nr,Hu,Ks,yr,Vn,ln],[0,()=>Yt,()=>Lx,0,0,0,0,0,128,()=>Jn,0]],fq=[3,S,Cie,0,[E_,Kt,la],[()=>fn,()=>Qn,()=>zu]],pq=[3,S,Lie,0,[Ft],[0]],mq=[3,S,Mie,0,[Ft],[0]],hq=[3,S,Z2,0,[cn],[()=>Yt]],gq=[3,S,Bie,0,[pa,rH],[0,0]],yq=[3,S,Fie,0,[z_],[0]],Sq=[3,S,qie,0,[ae],[0]],Eq=[3,S,Gie,0,[ma],[()=>Ys]],bq=[3,S,Jse,0,[$u],[0]],Tq=[3,S,eie,0,[b_],[()=>lx]],wq=[3,S,nie,0,[ae],[0]],_q=[3,S,oie,0,[x_],[()=>hx]],xq=[3,S,iie,0,[ae,je],[0,0]],Iq=[3,S,aie,0,[ae,je,Ose,I_,IH,lH,ug],[0,0,64,0,4,()=>oz,0]],Cq=[3,S,die,0,[],[]],Aq=[3,S,fie,0,[aH],[()=>epe]],Rq=[3,S,uie,0,[R_],[0]],vq=[3,S,lie,0,[v_],[()=>yx]],Pq=[3,S,gie,0,[Wn],[0]],Nq=[3,S,yie,0,[fg],[()=>bg]],Dq=[3,S,Eie,0,[Wn],[0]],Oq=[3,S,bie,0,[Wn,YH],[0,()=>L3]],$q=[3,S,Iie,0,[$_],[0]],kq=[3,S,Aie,0,[B_],[()=>Ex]],Lq=[3,S,Pie,0,[ae],[0]],Mq=[3,S,Nie,0,[ae,_H],[0,()=>ppe]],Uq=[3,S,$ie,0,[],[]],Bq=[3,S,kie,0,[Moe,Uoe,Fde,Hde],[1,1,1,1]],Fq=[3,S,zie,0,[ae],[0]],Hq=[3,S,Vie,0,[fj],[()=>Ys]],jq=[3,S,Kie,0,[ae],[0]],qq=[3,S,Yie,0,[tx],[()=>Cx]],zq=[3,S,Qie,0,[ae],[0]],Gq=[3,S,Jie,0,[ox],[()=>vx]],Vq=[-3,S,_ie,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Vq,Qm);var gx=[3,S,P_,0,[y_],[0]],Wq=[3,S,Rae,0,[Xoe,Lse],[0,1]],Kq=[3,S,hae,0,[Z_,j_,ca,un,nr,da,ln],[0,()=>Ox,2,0,0,1,0]],Yq=[3,S,gae,0,[F_,un,Kt,H_],[()=>Ig,0,()=>Qn,()=>Yt]],Xq=[3,S,bae,0,[Xde,Y2,nr],[()=>ype,[0,4],0]],Qq=[3,S,Tae,0,[mg,Kt],[()=>D3,()=>Ea]],Jq=[3,S,nae,0,[cx,vae,K2,S_],[()=>Er,2,0,()=>N3]],Zq=[-3,S,sae,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Zq,eh);var yx=[3,S,v_,0,[R_,nH,J_,N_,uae,Yn,qu,iH,lg,Y_,X_,nj,oj,aj,uH,fH,tH,use,Mu,D_,k_],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>bx]],ez=[-3,S,dae,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(ez,Km);var tz=[3,S,Sae,0,[R_,nH,D_],[0,0,0]],rz=[3,S,xae,0,[Yn,iH,lg,Y_,X_,nj,oj,aj,tH,D_,k_],[0,4,[0,4],0,0,0,0,0,0,0,()=>bx]],nz=[3,S,Iae,0,[v_],[()=>yx]],oz=[3,S,lH,0,[lae,iae],[0,0]],sz=[3,S,pH,0,[cn,ae,Bu,yr],[()=>Yt,0,0,128]],iz=[3,S,Dae,0,[ae,cn,cg,ca,nr,Bu,yr],[0,()=>Yt,64,2,0,0,128]],az=[3,S,Oae,0,[Kn,Kt],[()=>fn,()=>Qn]],cz=[3,S,kae,0,[pa],[0]],uz=[3,S,Lae,0,[FH,z_],[0,0]],lz=[3,S,Vae,0,[je,Sr,ts,$r,Or,dn],[0,()=>Lr,()=>rs,()=>kr,()=>or,()=>Sa]],dz=[3,S,Mae,0,[je,UH],[0,()=>Xn]],fz=[3,S,Bae,0,[je,Sr,ts,U_,Qoe,$r,EH,Mu,yH,Or,dn],[0,()=>Lr,()=>rs,0,2,()=>xx,1,1,0,()=>or,()=>Sx]],pz=[3,S,Hae,0,[je,Sr,ts,$r,Or],[0,()=>Lr,()=>rs,()=>kr,()=>or]],mz=[3,S,qae,0,[Sg,dg,ua],[()=>f3,()=>Qj,()=>uq]],Sx=[3,S,Gae,0,[V_,ux,ex],[1,1,0]],hz=[3,S,Wae,0,[Wn,q_],[0,()=>k3]],gz=[-3,S,Yae,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(gz,zm);var bg=[3,S,fg,0,[q_,Kae,V2,rce,Wn],[()=>O3,0,4,0,0]],yz=[3,S,gH,0,[je,BH,ile],[0,1,()=>Xn]],Sz=[-3,S,Zae,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Sz,Ym);var Ez=[3,S,sce,0,[Ft,jfe],[0,0]],bz=[3,S,ace,0,[dg,ua],[()=>eq,()=>lq]],Tz=[-3,S,Ice,{[be]:Te},[fa],[0]];ye.TypeRegistry.for(S).registerError(Tz,Jm);var wz=[-3,S,fce,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(wz,nh);var _z=[-3,S,_ce,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(_z,Xm);var xz=[3,S,Pce,0,[$_,TH,Yn,hg,Q2,L_,J_,N_],[0,0,0,()=>Tg,0,0,4,4]],Ex=[3,S,B_,0,[$_,TH,Yn,qu,lg,hg,oae,Q2,L_,M_,SH,nx,J_,N_,Zue,Mue,Tce,uH,fH],[0,0,0,0,0,()=>Tg,1,0,0,()=>Tx,0,()=>Ax,4,4,1,1,1,0,0]],Iz=[3,S,Dce,0,[lg,hg,L_,M_,SH,nx],[[0,4],()=>Tg,0,()=>Tx,0,()=>Ax]],Cz=[3,S,Oce,0,[B_],[()=>Ex]],bx=[3,S,k_,0,[aae,wae,Aae],[4,4,0]],Az=[-3,S,xce,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Az,ch);var Tx=[3,S,M_,0,[Kse],[()=>sq]],Rz=[-3,S,vce,{[be]:Wfe},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Rz,Dm);var vz=[-3,S,Ece,{[be]:Te,[_j]:421},[fa],[0]];ye.TypeRegistry.for(S).registerError(vz,km);var Pz=[-3,S,bce,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Pz,th);var Nz=[-3,S,Rce,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Nz,sh);var zu=[3,S,la,0,[pce,dde],[()=>kpe,65]],Dz=[-3,S,yce,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Dz,Um);var Oz=[3,S,Cce,0,[Kn],[()=>fn]],$z=[3,S,$ce,0,[qce,cg,ca,Bu,yr],[()=>fpe,64,2,0,128]],kz=[3,S,Hce,0,[ag,jce],[0,0]],Lz=[3,S,Lce,0,[ju,A_,Hie,y_],[0,0,0,0]],wx=[3,S,Bce,0,[ae,ju,P_],[0,0,()=>gx]],_x=[3,S,Fce,0,[ae,ju,A_,P_],[0,0,0,()=>gx]],Mz=[-3,S,eue,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(Mz,Hm);var Uz=[3,S,Vce,0,[ae,da,Vde,Wde,pae,__],[0,1,4,4,0,0]],Bz=[3,S,Wce,0,[q2,Zce],[()=>Qfe,0]],Fz=[3,S,Yce,0,[ae,un,CH],[0,0,1]],Hz=[3,S,Xce,0,[W2,un],[()=>Zfe,0]],jz=[3,S,rue,0,[Yn,CH,un],[0,1,0]],qz=[3,S,nue,0,[sH,un],[()=>tpe,0]],zz=[3,S,iue,0,[mae,da,Ft],[0,1,0]],Gz=[3,S,aue,0,[lce,tue],[()=>ape,0]],Vz=[3,S,lue,0,[Yn,Jue,un],[0,1,0]],Wz=[3,S,due,0,[bH,un],[()=>lpe,0]],Kz=[3,S,Tue,0,[yae,da],[0,1]],Yz=[3,S,wue,0,[qde,oue],[64,0]],Xz=[3,S,xue,0,[pa,un],[0,0]],Qz=[3,S,Iue,0,[ix,un],[()=>$x,0]],Jz=[3,S,Sue,0,[je,Sr,ts],[0,()=>Lr,()=>rs]],Zz=[3,S,mue,0,[je,Sr,ts,EH,Mu,yH],[0,()=>Lr,()=>rs,1,1,0]],eG=[3,S,gue,0,[je,Sr,ts],[0,()=>Lr,()=>rs]],or=[3,S,Or,0,[RH,vue],[1,1]],ha=[3,S,Zo,0,[RH],[1]],tG=[3,S,tle,0,[Z_,j_,ln],[0,()=>Ox,0]],rG=[3,S,NH,0,[jue,GH,fae,fue],[0,1,4,4]],nG=[3,S,DH,0,[Hue,GH],[2,1]],oG=[-3,S,que,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(oG,rh);var sG=[-3,S,zue,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(sG,Wm);var rs=[3,S,ts,0,[sle,Due],[0,64]],kr=[3,S,$r,0,[Fu,Eg],[1,1]],xx=[3,S,nle,0,[uue,Qce,Oue,Fu,Eg],[4,4,1,1,1]],iG=[-3,S,ole,{[be]:Te},[Ie,gj],[0,()=>kx]];ye.TypeRegistry.for(S).registerError(iG,Lm);var ga=[3,S,es,0,[Fu],[1]],aG=[3,S,HH,0,[Kn,ae,Ks,yr,Vn,ln],[()=>Mx,0,0,128,()=>Jn,0]],cG=[3,S,Uue,0,[ae,Kn,O_,K_,nr,Hu,Lu,Ks,yr,Vn,ln],[0,()=>Mx,()=>Lx,0,0,0,0,0,128,()=>Jn,0]],uG=[3,S,Fue,0,[E_,Kt,la],[()=>fn,()=>Qn,()=>zu]],lG=[3,S,$H,0,[Kn],[()=>Mx]],dG=[3,S,Xue,0,[pa,FH,rH,Fse],[0,0,0,[2,{[zfe]:Yfe}]]],fG=[3,S,Que,0,[z_],[0]],pG=[3,S,ule,0,[ae,je,dj,cg,da,ca,wH,cle,Lu,hde,oH,nr,Bu,dH,kce,yr,Vn],[0,0,0,64,1,2,()=>Lpe,()=>B3,0,2,()=>Yt,0,0,0,0,128,()=>Jn]],mG=[3,S,lle,0,[F_,J2,ej,H_,Kt],[()=>Ig,1,1,()=>Yt,()=>Qn]],hG=[3,S,ide,0,[Ft],[0]],gG=[-3,S,dle,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(gG,ih);var yG=[3,S,fle,0,[Ft,an,VH,KH,G_],[0,()=>wpe,()=>Gn,()=>Gn,0]],SG=[3,S,mle,0,[Ft,Nle,qle],[0,()=>_pe,()=>Xn]],EG=[3,S,yle,0,[Ft,G_,Gle,Kle,pg,es,Zo,dn,an,$le,JH],[0,0,0,0,0,()=>ga,()=>ha,()=>Rx,()=>xpe,4,()=>wg]],bG=[3,S,Ele,0,[je,es,Zo],[0,()=>ga,()=>ha]],TG=[3,S,ble,0,[je,U_,kH,MH],[0,0,()=>Gn,()=>Gn]],wG=[3,S,wle,0,[je,Kue],[0,()=>Xn]],_G=[3,S,xle,0,[je,es,Zo,dn],[0,()=>ga,()=>ha,()=>Sx]],xG=[3,S,Rle,0,[je,U_,LH,kH,BH,MH],[0,0,1,()=>Gn,1,()=>Gn]],IG=[3,S,qH,0,[je,LH,Wue],[0,1,()=>Xn]],CG=[-3,S,Ble,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(CG,ah);var AG=[3,S,Wle,0,[Ft,G_,gle,WH,VH,zle,KH,Ale,JH],[0,0,()=>fx,1,()=>Gn,1,()=>Gn,()=>Ipe,()=>wg]],RG=[3,S,XH,0,[Ft,WH,jle,qH,Xle],[0,1,()=>Xn,()=>Cpe,0]],vG=[-3,S,sde,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(vG,Bm);var PG=[3,S,Dle,0,[dg,Sg,ua],[()=>rq,()=>T3,()=>mq]],NG=[3,S,nde,0,[dg,ua],[()=>tq,()=>pq]],DG=[-3,S,Ule,{[be]:Te},[Ie,gj],[0,()=>kx]];ye.TypeRegistry.for(S).registerError(DG,Om);var OG=[-3,S,Lle,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(OG,Gm);var $G=[-3,S,Fle,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError($G,Mm);var kG=[3,S,QH,0,[cde,cj,jH,kle],[0,0,4,2]],LG=[3,S,Jle,0,[Ej,$u,B2,mH,xH,es,Zo,sj],[0,0,0,()=>xg,()=>Dx,()=>kr,()=>or,()=>ya]],MG=[3,S,Zle,0,[ma],[()=>Ys]],UG=[3,S,tde,0,[cj,Tde,Ej,Afe,jH,B2,mH,xH,es,Zo,sj],[0,0,0,2,4,0,()=>xg,()=>Dx,()=>kr,()=>or,()=>ya]],BG=[3,S,rde,0,[ma],[()=>Ys]],Tg=[3,S,hg,0,[X_,Y_,gde],[0,0,0]],FG=[3,S,pde,0,[ae,je,cg,da,dj,fde,Lu,oH,nr,Qde,Ide,Bu,dH,yr,Vn,ca],[0,0,64,1,0,()=>B3,0,()=>Yt,0,1,1,0,0,128,()=>Jn,2]],HG=[3,S,yde,0,[F_,J2,ej,H_,Kt],[()=>Ig,1,1,()=>Yt,()=>Qn]],jG=[3,S,uj,0,[ae,qu,Yn,yj,Sr,Ade,$r,Or,Mu,ku],[0,0,0,1,()=>Lr,4,()=>kr,()=>or,1,0]],qG=[3,S,lj,0,[Uu,an,ude,ox,Q_],[()=>gpe,()=>ope,()=>Gu,()=>vx,()=>Ix]],Ix=[3,S,Q_,0,[ex,ij,Uce,Sce],[0,0,0,4]],ya=[3,S,yg,0,[cH,ij,pg],[2,0,0]],Gu=[3,S,gg,0,[lde,wde],[2,0]],zG=[-3,S,Cde,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(zG,oh);var Cx=[3,S,tx,0,[ae,Sj,ZH],[0,0,()=>bpe]],wg=[3,S,mj,0,[rx,IH],[0,4]],Ax=[3,S,nx,0,[ae,Ou,Sr,ku,$r,Or,yg,an],[0,()=>_g,()=>Lr,0,()=>kr,()=>or,()=>ya,()=>xg]],Ys=[3,S,ma,0,[Ou,ae,Sr,Sj,V2,$r,yj,Mu,Yn,qu,F2,Uu,an,gg,Eue,pue,nce,ZH,oce,QH,Q_,O2,mj,C_,Or,dn,AH],[()=>_g,0,()=>Lr,0,4,()=>xx,1,1,0,0,()=>fx,()=>hpe,()=>npe,()=>Gu,0,0,0,()=>O3,()=>cpe,()=>kG,()=>Ix,()=>Ij,()=>wg,2,()=>or,()=>Rx,0]],GG=[-3,S,Mde,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(GG,jm);var VG=[-3,S,jde,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(VG,qm);var Rx=[3,S,ofe,0,[V_,ux,ex],[1,1,0]],WG=[3,S,sfe,0,[cn,cx],[0,0]],KG=[3,S,zde,0,[pa,ix],[0,()=>$x]],YG=[-3,S,Pde,{[qfe]:["Throttling",400],[be]:Te,[_j]:400},[Ie,Kfe],[0,()=>kx]];ye.TypeRegistry.for(S).registerError(YG,$m);var XG=[3,S,Yde,0,[Gfe,Vfe],[0,0]],vx=[3,S,ox,0,[Jde,ag],[0,0]],Px=[3,S,sx,0,[cH,ag],[2,0]],QG=[3,S,Nde,0,[pH],[()=>sz]],JG=[3,S,Dde,0,[hj,nr],[()=>Ppe,0]],ZG=[3,S,$de,0,[Kt,mg],[()=>Ea,()=>D3]],e3=[-3,S,Rde,{[be]:Te},[fa,jse],[0,()=>Jfe]];ye.TypeRegistry.for(S).registerError(e3,lh);var t3=[-3,S,vde,{[be]:Te},[Ie],[0]];ye.TypeRegistry.for(S).registerError(t3,Vm);var r3=[-3,S,Lde,{[be]:Te},[fa],[0]];ye.TypeRegistry.for(S).registerError(r3,Zm);var n3=[3,S,Zde,0,[G2,HH,ua,Sg],[()=>Vj,()=>aG,()=>iq,()=>a3]],o3=[3,S,efe,0,[hj,nr,Hu,Y2],[()=>Npe,0,0,[0,4]]],s3=[3,S,rfe,0,[Kt,la],[()=>Ea,()=>F3]],i3=[3,S,Pfe,0,[pa,Ude],[0,64]],a3=[3,S,Sg,0,[cn,wj,ae,Ks,yr,Vn,ln],[()=>Yt,0,0,0,128,()=>Jn,0]],c3=[3,S,afe,0,[ae,DH],[0,()=>nG]],u3=[3,S,cfe,0,[x_],[()=>hx]],l3=[3,S,lfe,0,[ae,je,Dse,ug],[0,0,0,0]],d3=[3,S,dfe,0,[ae,je,I_,ug],[0,0,0,0]],f3=[3,S,ffe,0,[je,$r,Or,dn],[0,()=>kr,()=>or,()=>Sa]],p3=[3,S,mfe,0,[Wn,W_],[0,()=>vpe]],m3=[3,S,hfe,0,[fg],[()=>bg]],h3=[3,S,yfe,0,[Wn,Xae,tce,ece,gH,XH],[0,0,1,()=>Xn,()=>ipe,()=>Ape]],g3=[3,S,Sfe,0,[Wn,YH],[0,()=>L3]],y3=[3,S,bfe,0,[ae,cn,L2,O_,Lu,K_,nr,Hu,wj,Ks,yr,Vn,ln],[0,()=>Yt,()=>Ope,()=>Lx,0,0,0,0,0,0,128,()=>Jn,0]],S3=[3,S,Tfe,0,[E_,Kt,la],[()=>fn,()=>Qn,()=>zu]],Nx=[3,S,ax,0,[y_],[0]],E3=[3,S,Ife,0,[ae,ju,ax],[0,0,()=>Nx]],b3=[3,S,Cfe,0,[ae,ju,A_,ax],[0,0,0,()=>Nx]],T3=[3,S,vfe,0,[Ft,pg,es,Zo,an,pj],[0,0,()=>ga,()=>ha,()=>$3,0]],w3=[3,S,Dfe,0,[Ou,ae,ku,$r,hH,gg,yg,W_,rx,C_,AH,uce,Or,dn],[()=>_g,0,0,()=>kr,()=>spe,()=>Gu,()=>ya,()=>Rpe,0,2,0,()=>upe,()=>or,()=>Sa]],_3=[3,S,Ofe,0,[ma],[()=>Ys]],x3=[3,S,kfe,0,[hH,ae,UH,W_],[()=>rpe,0,()=>Xn,()=>Tpe]],I3=[3,S,Lfe,0,[tx],[()=>Cx]],C3=[3,S,Ufe,0,[ae,sx],[0,()=>Px]],A3=[3,S,Bfe,0,[sx],[()=>Px]],Sa=[3,S,dn,0,[V_,ux],[1,1]],R3=[3,S,Ffe,0,[$H,Z2],[()=>lG,()=>hq]],v3="unit",P3=[-3,xj,"DynamoDBServiceException",0,[],[]];ye.TypeRegistry.for(xj).registerError(P3,pe);var _g=[1,S,Ou,0,()=>Cj],N3=[1,S,S_,0,()=>Er],Xfe=[1,S,Hoe,0,()=>Rj],Qfe=[1,S,q2,0,()=>$j],Jfe=[1,S,Bse,0,()=>zj],Ea=[1,S,Cse,0,()=>Qn],Zfe=[1,S,W2,0,()=>Kj],epe=[1,S,aH,0,()=>Wq],tpe=[1,S,sH,0,()=>tz],rpe=[1,S,Uae,0,()=>dz],npe=[1,S,Fae,0,()=>fz],ope=[1,S,an,0,()=>pz],xg=[1,S,jae,0,()=>lz],spe=[1,S,zae,0,()=>mz],ipe=[1,S,Qae,0,()=>yz],ape=[1,S,Jae,0,()=>hz],cpe=[1,S,ice,0,()=>Ez],upe=[1,S,cce,0,()=>bz],lpe=[1,S,bH,0,()=>xz],dpe=[1,S,hce,0,()=>zu],Ig=[1,S,wce,0,()=>fn],D3=[1,S,Ace,0,()=>Oz],fpe=[1,S,Mce,0,()=>Yt],Lr=[1,S,Sr,0,()=>kz],ppe=[1,S,_H,0,()=>Lz],mpe=[1,S,zce,0,()=>Er],hpe=[1,S,hue,0,()=>Zz],gpe=[1,S,Uu,0,()=>eG],Dx=[1,S,yue,0,()=>Jz],ype=[1,S,rle,0,()=>tG],Spe=[1,S,Gue,0,()=>Fj],Epe=[1,S,Vue,0,()=>Hj],Ox=[1,S,ele,0,()=>Er],bpe=[1,S,ple,0,()=>yG],Tpe=[1,S,hle,0,()=>SG],O3=[1,S,Sle,0,()=>EG],wpe=[1,S,Tle,0,()=>TG],_pe=[1,S,_le,0,()=>wG],xpe=[1,S,Ile,0,()=>_G],$3=[1,S,Cle,0,()=>bG],Ipe=[1,S,vle,0,()=>xG],Cpe=[1,S,Ple,0,()=>IG],k3=[1,S,Mle,0,()=>hG],L3=[1,S,Vle,0,()=>AG],Ape=[1,S,Yle,0,()=>RG],Rpe=[1,S,Ole,0,()=>PG],vpe=[1,S,ode,0,()=>NG],$x=[1,S,Bde,0,()=>WG],kx=[1,S,Gde,0,()=>XG],Ppe=[1,S,Ode,0,()=>QG],Npe=[1,S,tfe,0,()=>n3],Dpe=[1,S,Hfe,0,()=>R3],fn=[2,S,Loe,0,0,()=>Er],Ope=[2,S,L2,0,0,()=>Aj],M3=[2,S,sse,0,0,()=>$z],$pe=[2,S,ose,0,0,()=>Ig],U3=[2,S,Sse,0,0,()=>Dpe],Lx=[2,S,tae,0,0,()=>Jq],Jn=[2,S,rae,0,0,()=>Er],B3=[2,S,Pae,0,0,()=>mx],kpe=[2,S,mce,0,0,()=>Er],F3=[2,S,gce,0,0,()=>dpe],Yt=[2,S,cn,0,0,()=>Er],Lpe=[2,S,wH,0,0,()=>mx],Mpe=[2,S,Rue,0,0,()=>Er],Mx=[2,S,Bue,0,0,()=>Er],D2=[2,S,mde,0,0,()=>px],Er=[4,S,Koe,0,[_de,Nue,Ese,bde,$ue,pse,Pue,Aue,kue,cse],[0,0,21,64,64,85,()=>Mpe,()=>mpe,2,2]],H3=[9,S,Joe,0,()=>kj,()=>Lj],j3=[9,S,tse,0,()=>Mj,()=>Uj],q3=[9,S,hse,0,()=>jj,()=>qj],z3=[9,S,bse,0,()=>Yj,()=>Xj],G3=[9,S,Rse,0,()=>Jj,()=>Zj],V3=[9,S,Gse,0,()=>nq,()=>oq],W3=[9,S,Xse,0,()=>aq,()=>cq],K3=[9,S,wie,0,()=>dq,()=>fq],Y3=[9,S,Uie,0,()=>gq,()=>yq],X3=[9,S,jie,0,()=>Sq,()=>Eq],Q3=[9,S,tie,0,()=>bq,()=>Tq],J3=[9,S,rie,0,()=>wq,()=>_q],Z3=[9,S,sie,0,()=>xq,()=>Iq],eV=[9,S,cie,0,()=>Cq,()=>Aq],tV=[9,S,pie,0,()=>Rq,()=>vq],rV=[9,S,hie,0,()=>Pq,()=>Nq],nV=[9,S,Sie,0,()=>Dq,()=>Oq],oV=[9,S,Rie,0,()=>$q,()=>kq],sV=[9,S,vie,0,()=>Lq,()=>Mq],iV=[9,S,Oie,0,()=>Uq,()=>Bq],aV=[9,S,Zie,0,()=>Fq,()=>Hq],cV=[9,S,Wie,0,()=>jq,()=>qq],uV=[9,S,Xie,0,()=>zq,()=>Gq],lV=[9,S,Die,0,()=>wx,()=>_x],dV=[9,S,cae,0,()=>wx,()=>_x],fV=[9,S,Eae,0,()=>Kq,()=>Yq],pV=[9,S,Cae,0,()=>Xq,()=>Qq],mV=[9,S,_ae,0,()=>rz,()=>nz],hV=[9,S,Nae,0,()=>iz,()=>az],gV=[9,S,$ae,0,()=>cz,()=>uz],yV=[9,S,Nce,0,()=>Iz,()=>Cz],SV=[9,S,Gce,0,()=>Uz,()=>Bz],EV=[9,S,Kce,0,()=>Fz,()=>Hz],bV=[9,S,Jce,0,()=>jz,()=>qz],TV=[9,S,sue,0,()=>zz,()=>Gz],wV=[9,S,cue,0,()=>Vz,()=>Wz],_V=[9,S,bue,0,()=>Kz,()=>Yz],xV=[9,S,_ue,0,()=>Xz,()=>Qz],IV=[9,S,Lue,0,()=>cG,()=>uG],CV=[9,S,Yue,0,()=>dG,()=>fG],AV=[9,S,ale,0,()=>pG,()=>mG],RV=[9,S,Qle,0,()=>LG,()=>MG],vV=[9,S,ede,0,()=>UG,()=>BG],PV=[9,S,xde,0,()=>FG,()=>HG],NV=[9,S,Kde,0,()=>KG,()=>v3],DV=[9,S,kde,0,()=>JG,()=>ZG],OV=[9,S,nfe,0,()=>o3,()=>s3],$V=[9,S,Rfe,0,()=>i3,()=>v3],kV=[9,S,ife,0,()=>c3,()=>u3],LV=[9,S,ufe,0,()=>l3,()=>d3],MV=[9,S,pfe,0,()=>p3,()=>m3],UV=[9,S,gfe,0,()=>h3,()=>g3],BV=[9,S,wfe,0,()=>y3,()=>S3],FV=[9,S,xfe,0,()=>E3,()=>b3],HV=[9,S,Nfe,0,()=>w3,()=>_3],jV=[9,S,$fe,0,()=>x3,()=>I3],qV=[9,S,Mfe,0,()=>C3,()=>A3],Cu=class extends G.Command.classBuilder().ep(J).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(eV).build(){},Upe=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},Bpe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Fpe=(e,t)=>{let r=Object.assign(P2.getAwsRegionExtensionConfiguration(e),G.getDefaultExtensionConfiguration(e),N2.getHttpHandlerExtensionConfiguration(e),Upe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,P2.resolveAwsRegionExtensionConfiguration(r),G.resolveDefaultRuntimeConfig(r),N2.resolveHttpHandlerRuntimeConfig(r),Bpe(r))},sn=class extends G.Client{config;constructor(...[t]){let r=Poe.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=Noe(r),o=xoe.resolveAccountIdEndpointModeConfig(n),s=A2.resolveUserAgentConfig(o),i=R2.resolveRetryConfig(s),a=Roe.resolveRegionConfig(i),c=C2.resolveHostHeaderConfig(a),f=Q.resolveEndpointConfig(c),m=v2.resolveHttpAuthSchemeConfig(f),p=Ioe.resolveEndpointDiscoveryConfig(m,{endpointDiscoveryCommandCtor:Cu}),E=Fpe(p,t?.extensions||[]);this.config=E,this.middlewareStack.use(ye.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(A2.getUserAgentPlugin(this.config)),this.middlewareStack.use(R2.getRetryPlugin(this.config)),this.middlewareStack.use(voe.getContentLengthPlugin(this.config)),this.middlewareStack.use(C2.getHostHeaderPlugin(this.config)),this.middlewareStack.use(Coe.getLoggerPlugin(this.config)),this.middlewareStack.use(Aoe.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(zn.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:v2.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async y=>new zn.DefaultIdentityProviderConfig({"aws.auth#sigv4":y.credentials})})),this.middlewareStack.use(zn.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},dh=class extends G.Command.classBuilder().ep(J).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(H3).build(){},fh=class extends G.Command.classBuilder().ep({...J,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc(j3).build(){},ph=class extends G.Command.classBuilder().ep({...J,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(q3).build(){},mh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(z3).build(){},hh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(G3).build(){},gh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc(V3).build(){},yh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(W3).build(){},Sh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(K3).build(){},Eh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc(Y3).build(){},bh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(X3).build(){},Th=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(Q3).build(){},wh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc(J3).build(){},_h=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(Z3).build(){},xh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(tV).build(){},Ih=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc(rV).build(){},Ch=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(nV).build(){},Ah=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(oV).build(){},Rh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(sV).build(){},vh=class extends G.Command.classBuilder().ep(J).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(iV).build(){},aa=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(aV).build(){},Ph=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(cV).build(){},Nh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(uV).build(){},Dh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(lV).build(){},Oh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(dV).build(){},$h=class extends G.Command.classBuilder().ep(J).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(fV).build(){},kh=class extends G.Command.classBuilder().ep(J).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(pV).build(){},Lh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(mV).build(){},Mh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(hV).build(){},Uh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(gV).build(){},Bh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"operationContextParams",get:t=>t?.TableCreationParameters?.TableName}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(yV).build(){},Fh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(SV).build(){},Au=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc(EV).build(){},Ru=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(bV).build(){},Hh=class extends G.Command.classBuilder().ep(J).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(TV).build(){},vu=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(wV).build(){},Pu=class extends G.Command.classBuilder().ep(J).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(_V).build(){},jh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc(xV).build(){},qh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(IV).build(){},zh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(CV).build(){},Nu=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(AV).build(){},Gh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(RV).build(){},Vh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(vV).build(){},Du=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(PV).build(){},Wh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(NV).build(){},Kh=class extends G.Command.classBuilder().ep({...J,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(DV).build(){},Yh=class extends G.Command.classBuilder().ep({...J,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(OV).build(){},Xh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc($V).build(){},Qh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(kV).build(){},Jh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(LV).build(){},Zh=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(MV).build(){},eg=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(UV).build(){},tg=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(BV).build(){},rg=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc(FV).build(){},ng=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(HV).build(){},og=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc(jV).build(){},sg=class extends G.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(qV).build(){},Hpe={BatchExecuteStatementCommand:dh,BatchGetItemCommand:fh,BatchWriteItemCommand:ph,CreateBackupCommand:mh,CreateGlobalTableCommand:hh,CreateTableCommand:gh,DeleteBackupCommand:yh,DeleteItemCommand:Sh,DeleteResourcePolicyCommand:Eh,DeleteTableCommand:bh,DescribeBackupCommand:Th,DescribeContinuousBackupsCommand:wh,DescribeContributorInsightsCommand:_h,DescribeEndpointsCommand:Cu,DescribeExportCommand:xh,DescribeGlobalTableCommand:Ih,DescribeGlobalTableSettingsCommand:Ch,DescribeImportCommand:Ah,DescribeKinesisStreamingDestinationCommand:Rh,DescribeLimitsCommand:vh,DescribeTableCommand:aa,DescribeTableReplicaAutoScalingCommand:Ph,DescribeTimeToLiveCommand:Nh,DisableKinesisStreamingDestinationCommand:Dh,EnableKinesisStreamingDestinationCommand:Oh,ExecuteStatementCommand:$h,ExecuteTransactionCommand:kh,ExportTableToPointInTimeCommand:Lh,GetItemCommand:Mh,GetResourcePolicyCommand:Uh,ImportTableCommand:Bh,ListBackupsCommand:Fh,ListContributorInsightsCommand:Au,ListExportsCommand:Ru,ListGlobalTablesCommand:Hh,ListImportsCommand:vu,ListTablesCommand:Pu,ListTagsOfResourceCommand:jh,PutItemCommand:qh,PutResourcePolicyCommand:zh,QueryCommand:Nu,RestoreTableFromBackupCommand:Gh,RestoreTableToPointInTimeCommand:Vh,ScanCommand:Du,TagResourceCommand:Wh,TransactGetItemsCommand:Kh,TransactWriteItemsCommand:Yh,UntagResourceCommand:Xh,UpdateContinuousBackupsCommand:Qh,UpdateContributorInsightsCommand:Jh,UpdateGlobalTableCommand:Zh,UpdateGlobalTableSettingsCommand:eg,UpdateItemCommand:tg,UpdateKinesisStreamingDestinationCommand:rg,UpdateTableCommand:ng,UpdateTableReplicaAutoScalingCommand:og,UpdateTimeToLiveCommand:sg},ig=class extends sn{};G.createAggregatedClient(Hpe,ig);var jpe=zn.createPaginator(sn,Au,"NextToken","NextToken","MaxResults"),qpe=zn.createPaginator(sn,Ru,"NextToken","NextToken","MaxResults"),zpe=zn.createPaginator(sn,vu,"NextToken","NextToken","PageSize"),Gpe=zn.createPaginator(sn,Pu,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),Vpe=zn.createPaginator(sn,Nu,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Wpe=zn.createPaginator(sn,Du,"ExclusiveStartKey","LastEvaluatedKey","Limit"),zV=async(e,t)=>{let r;try{let n=await e.send(new aa(t));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:Dr.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Dr.WaiterState.RETRY,reason:r}}return{state:Dr.WaiterState.RETRY,reason:r}},Kpe=async(e,t)=>{let r={minDelay:20,maxDelay:120};return Dr.createWaiter({...r,...e},t,zV)},Ype=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await Dr.createWaiter({...r,...e},t,zV);return Dr.checkExceptions(n)},GV=async(e,t)=>{let r;try{r=await e.send(new aa(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Dr.WaiterState.SUCCESS,reason:r}}return{state:Dr.WaiterState.RETRY,reason:r}},Xpe=async(e,t)=>{let r={minDelay:20,maxDelay:120};return Dr.createWaiter({...r,...e},t,GV)},Qpe=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await Dr.createWaiter({...r,...e},t,GV);return Dr.checkExceptions(n)},Jpe={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},Zpe={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},eme={B:"B",N:"N",S:"S"},tme={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},rme={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},nme={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},ome={HASH:"HASH",RANGE:"RANGE"},sme={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},ime={AES256:"AES256",KMS:"KMS"},ame={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},cme={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},ume={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},lme={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},dme={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},fme={ALL_OLD:"ALL_OLD",NONE:"NONE"},pme={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},mme={NONE:"NONE",SIZE:"SIZE"},hme={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},gme={AND:"AND",OR:"OR"},yme={DISABLED:"DISABLED",ENABLED:"ENABLED"},Sme={DISABLED:"DISABLED",ENABLED:"ENABLED"},Eme={DISABLE:"DISABLE",ENABLE:"ENABLE"},bme={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},Tme={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},wme={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},_me={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},xme={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Ime={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},Cme={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Ame={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},Rme={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},vme={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},Pme={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Nme={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Dme={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},Ome={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},$me={AES256:"AES256",KMS:"KMS"},kme={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Lme={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},Mme={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Ume={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},Bme={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"};Object.defineProperty(h,"$Command",{enumerable:!0,get:function(){return G.Command}});Object.defineProperty(h,"__Client",{enumerable:!0,get:function(){return G.Client}});h.ApproximateCreationDateTimePrecision=Jpe;h.ArchivalSummary$=Ij;h.AttributeAction=Zpe;h.AttributeDefinition$=Cj;h.AttributeValue$=Er;h.AttributeValueUpdate$=Aj;h.AutoScalingPolicyDescription$=Rj;h.AutoScalingPolicyUpdate$=vj;h.AutoScalingSettingsDescription$=Gn;h.AutoScalingSettingsUpdate$=Xn;h.AutoScalingTargetTrackingScalingPolicyConfigurationDescription$=Pj;h.AutoScalingTargetTrackingScalingPolicyConfigurationUpdate$=Nj;h.BackupDescription$=lx;h.BackupDetails$=dx;h.BackupInUseException=Pm;h.BackupInUseException$=Dj;h.BackupNotFoundException=Nm;h.BackupNotFoundException$=Oj;h.BackupStatus=tme;h.BackupSummary$=$j;h.BackupType=rme;h.BackupTypeFilter=lme;h.BatchExecuteStatement$=H3;h.BatchExecuteStatementCommand=dh;h.BatchExecuteStatementInput$=kj;h.BatchExecuteStatementOutput$=Lj;h.BatchGetItem$=j3;h.BatchGetItemCommand=fh;h.BatchGetItemInput$=Mj;h.BatchGetItemOutput$=Uj;h.BatchStatementError$=Bj;h.BatchStatementErrorCodeEnum=pme;h.BatchStatementRequest$=Fj;h.BatchStatementResponse$=Hj;h.BatchWriteItem$=q3;h.BatchWriteItemCommand=ph;h.BatchWriteItemInput$=jj;h.BatchWriteItemOutput$=qj;h.BillingMode=nme;h.BillingModeSummary$=fx;h.CancellationReason$=zj;h.Capacity$=px;h.ComparisonOperator=hme;h.Condition$=mx;h.ConditionCheck$=Vj;h.ConditionalCheckFailedException=uh;h.ConditionalCheckFailedException$=Gj;h.ConditionalOperator=gme;h.ConsumedCapacity$=Qn;h.ContinuousBackupsDescription$=hx;h.ContinuousBackupsStatus=yme;h.ContinuousBackupsUnavailableException=Fm;h.ContinuousBackupsUnavailableException$=Wj;h.ContributorInsightsAction=Eme;h.ContributorInsightsMode=bme;h.ContributorInsightsStatus=Tme;h.ContributorInsightsSummary$=Kj;h.CreateBackup$=z3;h.CreateBackupCommand=mh;h.CreateBackupInput$=Yj;h.CreateBackupOutput$=Xj;h.CreateGlobalSecondaryIndexAction$=Qj;h.CreateGlobalTable$=G3;h.CreateGlobalTableCommand=hh;h.CreateGlobalTableInput$=Jj;h.CreateGlobalTableOutput$=Zj;h.CreateGlobalTableWitnessGroupMemberAction$=eq;h.CreateReplicaAction$=tq;h.CreateReplicationGroupMemberAction$=rq;h.CreateTable$=V3;h.CreateTableCommand=gh;h.CreateTableInput$=nq;h.CreateTableOutput$=oq;h.CsvOptions$=sq;h.Delete$=iq;h.DeleteBackup$=W3;h.DeleteBackupCommand=yh;h.DeleteBackupInput$=aq;h.DeleteBackupOutput$=cq;h.DeleteGlobalSecondaryIndexAction$=uq;h.DeleteGlobalTableWitnessGroupMemberAction$=lq;h.DeleteItem$=K3;h.DeleteItemCommand=Sh;h.DeleteItemInput$=dq;h.DeleteItemOutput$=fq;h.DeleteReplicaAction$=pq;h.DeleteReplicationGroupMemberAction$=mq;h.DeleteRequest$=hq;h.DeleteResourcePolicy$=Y3;h.DeleteResourcePolicyCommand=Eh;h.DeleteResourcePolicyInput$=gq;h.DeleteResourcePolicyOutput$=yq;h.DeleteTable$=X3;h.DeleteTableCommand=bh;h.DeleteTableInput$=Sq;h.DeleteTableOutput$=Eq;h.DescribeBackup$=Q3;h.DescribeBackupCommand=Th;h.DescribeBackupInput$=bq;h.DescribeBackupOutput$=Tq;h.DescribeContinuousBackups$=J3;h.DescribeContinuousBackupsCommand=wh;h.DescribeContinuousBackupsInput$=wq;h.DescribeContinuousBackupsOutput$=_q;h.DescribeContributorInsights$=Z3;h.DescribeContributorInsightsCommand=_h;h.DescribeContributorInsightsInput$=xq;h.DescribeContributorInsightsOutput$=Iq;h.DescribeEndpoints$=eV;h.DescribeEndpointsCommand=Cu;h.DescribeEndpointsRequest$=Cq;h.DescribeEndpointsResponse$=Aq;h.DescribeExport$=tV;h.DescribeExportCommand=xh;h.DescribeExportInput$=Rq;h.DescribeExportOutput$=vq;h.DescribeGlobalTable$=rV;h.DescribeGlobalTableCommand=Ih;h.DescribeGlobalTableInput$=Pq;h.DescribeGlobalTableOutput$=Nq;h.DescribeGlobalTableSettings$=nV;h.DescribeGlobalTableSettingsCommand=Ch;h.DescribeGlobalTableSettingsInput$=Dq;h.DescribeGlobalTableSettingsOutput$=Oq;h.DescribeImport$=oV;h.DescribeImportCommand=Ah;h.DescribeImportInput$=$q;h.DescribeImportOutput$=kq;h.DescribeKinesisStreamingDestination$=sV;h.DescribeKinesisStreamingDestinationCommand=Rh;h.DescribeKinesisStreamingDestinationInput$=Lq;h.DescribeKinesisStreamingDestinationOutput$=Mq;h.DescribeLimits$=iV;h.DescribeLimitsCommand=vh;h.DescribeLimitsInput$=Uq;h.DescribeLimitsOutput$=Bq;h.DescribeTable$=aV;h.DescribeTableCommand=aa;h.DescribeTableInput$=Fq;h.DescribeTableOutput$=Hq;h.DescribeTableReplicaAutoScaling$=cV;h.DescribeTableReplicaAutoScalingCommand=Ph;h.DescribeTableReplicaAutoScalingInput$=jq;h.DescribeTableReplicaAutoScalingOutput$=qq;h.DescribeTimeToLive$=uV;h.DescribeTimeToLiveCommand=Nh;h.DescribeTimeToLiveInput$=zq;h.DescribeTimeToLiveOutput$=Gq;h.DestinationStatus=Ume;h.DisableKinesisStreamingDestination$=lV;h.DisableKinesisStreamingDestinationCommand=Dh;h.DuplicateItemException=Qm;h.DuplicateItemException$=Vq;h.DynamoDB=ig;h.DynamoDBClient=sn;h.DynamoDBServiceException=pe;h.DynamoDBServiceException$=P3;h.EnableKinesisStreamingConfiguration$=gx;h.EnableKinesisStreamingDestination$=dV;h.EnableKinesisStreamingDestinationCommand=Oh;h.Endpoint$=Wq;h.ExecuteStatement$=fV;h.ExecuteStatementCommand=$h;h.ExecuteStatementInput$=Kq;h.ExecuteStatementOutput$=Yq;h.ExecuteTransaction$=pV;h.ExecuteTransactionCommand=kh;h.ExecuteTransactionInput$=Xq;h.ExecuteTransactionOutput$=Qq;h.ExpectedAttributeValue$=Jq;h.ExportConflictException=eh;h.ExportConflictException$=Zq;h.ExportDescription$=yx;h.ExportFormat=Pme;h.ExportNotFoundException=Km;h.ExportNotFoundException$=ez;h.ExportStatus=Nme;h.ExportSummary$=tz;h.ExportTableToPointInTime$=mV;h.ExportTableToPointInTimeCommand=Lh;h.ExportTableToPointInTimeInput$=rz;h.ExportTableToPointInTimeOutput$=nz;h.ExportType=Dme;h.ExportViewType=Ome;h.FailureException$=oz;h.Get$=sz;h.GetItem$=hV;h.GetItemCommand=Mh;h.GetItemInput$=iz;h.GetItemOutput$=az;h.GetResourcePolicy$=gV;h.GetResourcePolicyCommand=Uh;h.GetResourcePolicyInput$=cz;h.GetResourcePolicyOutput$=uz;h.GlobalSecondaryIndex$=lz;h.GlobalSecondaryIndexAutoScalingUpdate$=dz;h.GlobalSecondaryIndexDescription$=fz;h.GlobalSecondaryIndexInfo$=pz;h.GlobalSecondaryIndexUpdate$=mz;h.GlobalSecondaryIndexWarmThroughputDescription$=Sx;h.GlobalTable$=hz;h.GlobalTableAlreadyExistsException=zm;h.GlobalTableAlreadyExistsException$=gz;h.GlobalTableDescription$=bg;h.GlobalTableGlobalSecondaryIndexSettingsUpdate$=yz;h.GlobalTableNotFoundException=Ym;h.GlobalTableNotFoundException$=Sz;h.GlobalTableStatus=wme;h.GlobalTableWitnessDescription$=Ez;h.GlobalTableWitnessGroupUpdate$=bz;h.IdempotentParameterMismatchException=Jm;h.IdempotentParameterMismatchException$=Tz;h.ImportConflictException=nh;h.ImportConflictException$=wz;h.ImportNotFoundException=Xm;h.ImportNotFoundException$=_z;h.ImportStatus=kme;h.ImportSummary$=xz;h.ImportTable$=yV;h.ImportTableCommand=Bh;h.ImportTableDescription$=Ex;h.ImportTableInput$=Iz;h.ImportTableOutput$=Cz;h.IncrementalExportSpecification$=bx;h.IndexNotFoundException=ch;h.IndexNotFoundException$=Az;h.IndexStatus=_me;h.InputCompressionType=Lme;h.InputFormat=Mme;h.InputFormatOptions$=Tx;h.InternalServerError=Dm;h.InternalServerError$=Rz;h.InvalidEndpointException=km;h.InvalidEndpointException$=vz;h.InvalidExportTimeException=th;h.InvalidExportTimeException$=Pz;h.InvalidRestoreTimeException=sh;h.InvalidRestoreTimeException$=Nz;h.ItemCollectionMetrics$=zu;h.ItemCollectionSizeLimitExceededException=Um;h.ItemCollectionSizeLimitExceededException$=Dz;h.ItemResponse$=Oz;h.KeySchemaElement$=kz;h.KeyType=ome;h.KeysAndAttributes$=$z;h.KinesisDataStreamDestination$=Lz;h.KinesisStreamingDestinationInput$=wx;h.KinesisStreamingDestinationOutput$=_x;h.LimitExceededException=Hm;h.LimitExceededException$=Mz;h.ListBackups$=SV;h.ListBackupsCommand=Fh;h.ListBackupsInput$=Uz;h.ListBackupsOutput$=Bz;h.ListContributorInsights$=EV;h.ListContributorInsightsCommand=Au;h.ListContributorInsightsInput$=Fz;h.ListContributorInsightsOutput$=Hz;h.ListExports$=bV;h.ListExportsCommand=Ru;h.ListExportsInput$=jz;h.ListExportsOutput$=qz;h.ListGlobalTables$=TV;h.ListGlobalTablesCommand=Hh;h.ListGlobalTablesInput$=zz;h.ListGlobalTablesOutput$=Gz;h.ListImports$=wV;h.ListImportsCommand=vu;h.ListImportsInput$=Vz;h.ListImportsOutput$=Wz;h.ListTables$=_V;h.ListTablesCommand=Pu;h.ListTablesInput$=Kz;h.ListTablesOutput$=Yz;h.ListTagsOfResource$=xV;h.ListTagsOfResourceCommand=jh;h.ListTagsOfResourceInput$=Xz;h.ListTagsOfResourceOutput$=Qz;h.LocalSecondaryIndex$=Jz;h.LocalSecondaryIndexDescription$=Zz;h.LocalSecondaryIndexInfo$=eG;h.MultiRegionConsistency=Rme;h.OnDemandThroughput$=or;h.OnDemandThroughputOverride$=ha;h.ParameterizedStatement$=tG;h.PointInTimeRecoveryDescription$=rG;h.PointInTimeRecoverySpecification$=nG;h.PointInTimeRecoveryStatus=Sme;h.PointInTimeRecoveryUnavailableException=rh;h.PointInTimeRecoveryUnavailableException$=oG;h.PolicyNotFoundException=Wm;h.PolicyNotFoundException$=sG;h.Projection$=rs;h.ProjectionType=sme;h.ProvisionedThroughput$=kr;h.ProvisionedThroughputDescription$=xx;h.ProvisionedThroughputExceededException=Lm;h.ProvisionedThroughputExceededException$=iG;h.ProvisionedThroughputOverride$=ga;h.Put$=aG;h.PutItem$=IV;h.PutItemCommand=qh;h.PutItemInput$=cG;h.PutItemOutput$=uG;h.PutRequest$=lG;h.PutResourcePolicy$=CV;h.PutResourcePolicyCommand=zh;h.PutResourcePolicyInput$=dG;h.PutResourcePolicyOutput$=fG;h.Query$=AV;h.QueryCommand=Nu;h.QueryInput$=pG;h.QueryOutput$=mG;h.Replica$=hG;h.ReplicaAlreadyExistsException=ih;h.ReplicaAlreadyExistsException$=gG;h.ReplicaAutoScalingDescription$=yG;h.ReplicaAutoScalingUpdate$=SG;h.ReplicaDescription$=EG;h.ReplicaGlobalSecondaryIndex$=bG;h.ReplicaGlobalSecondaryIndexAutoScalingDescription$=TG;h.ReplicaGlobalSecondaryIndexAutoScalingUpdate$=wG;h.ReplicaGlobalSecondaryIndexDescription$=_G;h.ReplicaGlobalSecondaryIndexSettingsDescription$=xG;h.ReplicaGlobalSecondaryIndexSettingsUpdate$=IG;h.ReplicaNotFoundException=ah;h.ReplicaNotFoundException$=CG;h.ReplicaSettingsDescription$=AG;h.ReplicaSettingsUpdate$=RG;h.ReplicaStatus=xme;h.ReplicaUpdate$=NG;h.ReplicatedWriteConflictException=Bm;h.ReplicatedWriteConflictException$=vG;h.ReplicationGroupUpdate$=PG;h.RequestLimitExceeded=Om;h.RequestLimitExceeded$=DG;h.ResourceInUseException=Gm;h.ResourceInUseException$=OG;h.ResourceNotFoundException=Mm;h.ResourceNotFoundException$=$G;h.RestoreSummary$=kG;h.RestoreTableFromBackup$=RV;h.RestoreTableFromBackupCommand=Gh;h.RestoreTableFromBackupInput$=LG;h.RestoreTableFromBackupOutput$=MG;h.RestoreTableToPointInTime$=vV;h.RestoreTableToPointInTimeCommand=Vh;h.RestoreTableToPointInTimeInput$=UG;h.RestoreTableToPointInTimeOutput$=BG;h.ReturnConsumedCapacity=dme;h.ReturnItemCollectionMetrics=mme;h.ReturnValue=vme;h.ReturnValuesOnConditionCheckFailure=fme;h.S3BucketSource$=Tg;h.S3SseAlgorithm=$me;h.SSEDescription$=Ix;h.SSESpecification$=ya;h.SSEStatus=ame;h.SSEType=ime;h.ScalarAttributeType=eme;h.Scan$=PV;h.ScanCommand=Du;h.ScanInput$=FG;h.ScanOutput$=HG;h.Select=Bme;h.SourceTableDetails$=jG;h.SourceTableFeatureDetails$=qG;h.StreamSpecification$=Gu;h.StreamViewType=cme;h.TableAlreadyExistsException=oh;h.TableAlreadyExistsException$=zG;h.TableAutoScalingDescription$=Cx;h.TableClass=Ime;h.TableClassSummary$=wg;h.TableCreationParameters$=Ax;h.TableDescription$=Ys;h.TableInUseException=jm;h.TableInUseException$=GG;h.TableNotFoundException=qm;h.TableNotFoundException$=VG;h.TableStatus=Cme;h.TableWarmThroughputDescription$=Rx;h.Tag$=WG;h.TagResource$=NV;h.TagResourceCommand=Wh;h.TagResourceInput$=KG;h.ThrottlingException=$m;h.ThrottlingException$=YG;h.ThrottlingReason$=XG;h.TimeToLiveDescription$=vx;h.TimeToLiveSpecification$=Px;h.TimeToLiveStatus=ume;h.TransactGetItem$=QG;h.TransactGetItems$=DV;h.TransactGetItemsCommand=Kh;h.TransactGetItemsInput$=JG;h.TransactGetItemsOutput$=ZG;h.TransactWriteItem$=n3;h.TransactWriteItems$=OV;h.TransactWriteItemsCommand=Yh;h.TransactWriteItemsInput$=o3;h.TransactWriteItemsOutput$=s3;h.TransactionCanceledException=lh;h.TransactionCanceledException$=e3;h.TransactionConflictException=Vm;h.TransactionConflictException$=t3;h.TransactionInProgressException=Zm;h.TransactionInProgressException$=r3;h.UntagResource$=$V;h.UntagResourceCommand=Xh;h.UntagResourceInput$=i3;h.Update$=a3;h.UpdateContinuousBackups$=kV;h.UpdateContinuousBackupsCommand=Qh;h.UpdateContinuousBackupsInput$=c3;h.UpdateContinuousBackupsOutput$=u3;h.UpdateContributorInsights$=LV;h.UpdateContributorInsightsCommand=Jh;h.UpdateContributorInsightsInput$=l3;h.UpdateContributorInsightsOutput$=d3;h.UpdateGlobalSecondaryIndexAction$=f3;h.UpdateGlobalTable$=MV;h.UpdateGlobalTableCommand=Zh;h.UpdateGlobalTableInput$=p3;h.UpdateGlobalTableOutput$=m3;h.UpdateGlobalTableSettings$=UV;h.UpdateGlobalTableSettingsCommand=eg;h.UpdateGlobalTableSettingsInput$=h3;h.UpdateGlobalTableSettingsOutput$=g3;h.UpdateItem$=BV;h.UpdateItemCommand=tg;h.UpdateItemInput$=y3;h.UpdateItemOutput$=S3;h.UpdateKinesisStreamingConfiguration$=Nx;h.UpdateKinesisStreamingDestination$=FV;h.UpdateKinesisStreamingDestinationCommand=rg;h.UpdateKinesisStreamingDestinationInput$=E3;h.UpdateKinesisStreamingDestinationOutput$=b3;h.UpdateReplicationGroupMemberAction$=T3;h.UpdateTable$=HV;h.UpdateTableCommand=ng;h.UpdateTableInput$=w3;h.UpdateTableOutput$=_3;h.UpdateTableReplicaAutoScaling$=jV;h.UpdateTableReplicaAutoScalingCommand=og;h.UpdateTableReplicaAutoScalingInput$=x3;h.UpdateTableReplicaAutoScalingOutput$=I3;h.UpdateTimeToLive$=qV;h.UpdateTimeToLiveCommand=sg;h.UpdateTimeToLiveInput$=C3;h.UpdateTimeToLiveOutput$=A3;h.WarmThroughput$=Sa;h.WitnessStatus=Ame;h.WriteRequest$=R3;h.paginateListContributorInsights=jpe;h.paginateListExports=qpe;h.paginateListImports=zpe;h.paginateListTables=Gpe;h.paginateQuery=Vpe;h.paginateScan=Wpe;h.waitForTableExists=Kpe;h.waitForTableNotExists=Xpe;h.waitUntilTableExists=Ype;h.waitUntilTableNotExists=Qpe});var n4=$(Ta=>{"use strict";d();var ba=class e{value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new e(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}},Wu=(e,t)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return Cg();if(Array.isArray(e))return Fme(e,t);if(e?.constructor?.name==="Set")return Hme(e,t);if(e?.constructor?.name==="Map")return jme(e,t);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return WV(e,t);if(r4(e))return e.length===0&&t?.convertEmptyValues?Cg():JV(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return t4(e,t);if(e instanceof ba)return e.toAttributeValue();if(typeof e=="bigint")return e4(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&t?.convertEmptyValues?Cg():ZV(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return WV(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},Fme=(e,t)=>({L:e.filter(r=>typeof r!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&r!==void 0)).map(r=>Wu(r,t))}),Hme=(e,t)=>{let r=t?.removeUndefinedValues?new Set([...e].filter(o=>o!==void 0)):e;if(!t?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t?.convertEmptyValues)return Cg();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof ba)return{NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return{NS:Array.from(r).map(o=>t4(o,t)).map(o=>o.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(e4).map(o=>o.N)};if(typeof n=="string")return{SS:Array.from(r).map(ZV).map(o=>o.S)};if(r4(n))return{BS:Array.from(r).map(JV).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},jme=(e,t)=>({M:(r=>{let n={};for(let[o,s]of r)typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=Wu(s,t));return n})(e)}),WV=(e,t)=>({M:(r=>{let n={};for(let o in r){let s=r[o];typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=Wu(s,t))}return n})(e)}),Cg=()=>({NULL:!0}),JV=e=>({B:e}),ZV=e=>({S:e.toString()}),e4=e=>({N:e.toString()}),KV=e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},t4=(e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t?.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?KV(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&KV(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},r4=e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1},Vu=(e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return YV(n,t);case"B":return QV(n);case"S":return XV(n);case"L":return qme(n,t);case"M":return zme(n,t);case"NS":return new Set(n.map(o=>YV(o,t)));case"BS":return new Set(n.map(QV));case"SS":return new Set(n.map(XV));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},YV=(e,t)=>{if(typeof t?.wrapNumbers=="function")return t?.wrapNumbers(e);if(t?.wrapNumbers)return ba.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},XV=e=>e,QV=e=>e,qme=(e,t)=>e.map(r=>Vu(r,t)),zme=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(r[n]=Vu(o,t),r),{});function Gme(e,t){let r=Wu(e,t),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return t?.convertTopLevelContainer?r:o;default:return r}}var Vme=(e,t)=>t?.convertWithoutMapWrapper?Vu(e,t):Vu({M:e},t);Ta.NumberValueImpl=ba;Ta.convertToAttr=Wu;Ta.convertToNative=Vu;Ta.marshall=Gme;Ta.unmarshall=Vme});d();var Ku=N(VV(),1),Ux=N(n4(),1),o4=new Ku.DynamoDBClient({}),vMe=async e=>{try{let{userAttributes:t}=e.request,{email:r,name:n,sub:o}=t,s=t.locale,i=t.nickname,a=t.profile||"Admin";if(!s||!i)return console.log("No tenantId or orgName found, skipping organization creation (likely inviting user flow or login)"),e;let c=new Date().toISOString(),f={TableName:process.env.ORG_TABLE,Item:(0,Ux.marshall)({id:s,name:i,subscriptionTier:"Free",createdAt:c,updatedAt:c})};try{await o4.send(new Ku.PutItemCommand(f)),console.log(`Created Organization: ${i} (${s})`)}catch(p){console.error("Failed to create Organization:",p)}let m={TableName:process.env.USER_TABLE,Item:(0,Ux.marshall)({id:o,email:r,name:n,role:a,tenantId:s,status:"Active",createdAt:c,updatedAt:c,owner:`${o}::${o}`})};try{await o4.send(new Ku.PutItemCommand(m)),console.log(`Created User: ${r}`)}catch(p){console.error("Failed to create User:",p)}}catch(t){console.error("Error in post-confirmation:",t)}return e};export{vMe as handler};
//# sourceMappingURL=index.mjs.map
