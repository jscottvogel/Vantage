/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var UW=Object.create;var $u=Object.defineProperty;var HW=Object.getOwnPropertyDescriptor;var qW=Object.getOwnPropertyNames;var BW=Object.getPrototypeOf,jW=Object.prototype.hasOwnProperty;var q=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var w=(e,t)=>()=>(e&&(t=e(e=0)),t);var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ze=(e,t)=>{for(var r in t)$u(e,r,{get:t[r],enumerable:!0})},S0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of qW(t))!jW.call(e,s)&&s!==r&&$u(e,s,{get:()=>t[s],enumerable:!(n=HW(t,s))||n.enumerable});return e};var T=(e,t,r)=>(r=e!=null?UW(BW(e)):{},S0(t||!e||!e.__esModule?$u(r,"default",{value:e,enumerable:!0}):r,e)),te=e=>S0($u({},"__esModule",{value:!0}),e);import{createRequire as VW}from"node:module";import zW from"node:path";import GW from"node:url";var u=w(()=>{global.require=VW(import.meta.url);global.__filename=GW.fileURLToPath(import.meta.url);global.__dirname=zW.dirname(__filename)});var An=I(ve=>{"use strict";u();ve.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ve.HttpAuthLocation||(ve.HttpAuthLocation={}));ve.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ve.HttpApiKeyAuthLocation||(ve.HttpApiKeyAuthLocation={}));ve.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(ve.EndpointURLScheme||(ve.EndpointURLScheme={}));ve.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(ve.AlgorithmId||(ve.AlgorithmId={}));var WW=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>ve.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>ve.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},KW=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},YW=e=>WW(e),XW=e=>KW(e);ve.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(ve.FieldPosition||(ve.FieldPosition={}));var QW="__smithy_context";ve.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(ve.IniSectionType||(ve.IniSectionType={}));ve.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(ve.RequestHandlerProtocol||(ve.RequestHandlerProtocol={}));ve.SMITHY_CONTEXT_KEY=QW;ve.getDefaultClientConfiguration=YW;ve.resolveDefaultRuntimeConfig=XW});var ke=I(xn=>{"use strict";u();var JW=An(),ZW=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),e5=e=>({httpHandler:e.httpHandler()}),my=class{name;kind;values;constructor({name:t,kind:r=JW.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},hy=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},gy=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=t5(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function t5(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var yy=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function r5(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}xn.Field=my;xn.Fields=hy;xn.HttpRequest=gy;xn.HttpResponse=yy;xn.getHttpHandlerExtensionConfiguration=ZW;xn.isValidHostname=r5;xn.resolveHttpHandlerRuntimeConfig=e5});var Sy=I(ca=>{"use strict";u();var n5=ke();function s5(e){return e}var E0=e=>t=>async r=>{if(!n5.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},w0={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},o5=e=>({applyToStack:t=>{t.add(E0(e),w0)}});ca.getHostHeaderPlugin=o5;ca.hostHeaderMiddleware=E0;ca.hostHeaderMiddlewareOptions=w0;ca.resolveHostHeaderConfig=s5});var Ey=I(ku=>{"use strict";u();var R0=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,f=c??t.inputFilterSensitiveLog,d=l??t.outputFilterSensitiveLog,{$metadata:m,...p}=n.output;return i?.info?.({clientName:s,commandName:o,input:f(r.input),output:d(p),metadata:m}),n}catch(n){let{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:s,commandName:o,input:l(r.input),error:n,metadata:n.$metadata}),n}},_0={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},i5=e=>({applyToStack:t=>{t.add(R0(),_0)}});ku.getLoggerPlugin=i5;ku.loggerMiddleware=R0;ku.loggerMiddlewareOptions=_0});var Ty={};ze(Ty,{InvokeStore:()=>by,InvokeStoreBase:()=>la});var ua,wy,la,Ry,_y,by,Cy=w(()=>{u();ua={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},wy=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");wy||(globalThis.awslambda=globalThis.awslambda||{});la=class{static PROTECTED_KEYS=ua;isProtectedKey(t){return Object.values(ua).includes(t)}getRequestId(){return this.get(ua.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(ua.X_RAY_TRACE_ID)}getTenantId(){return this.get(ua.TENANT_ID)}},Ry=class extends la{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){return this.currentContext?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},_y=class e extends la{als;static async create(){let t=new e,r=await import("node:async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){return this.als.getStore()?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{let s="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await _y.create():new Ry;return!wy&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!wy&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=s),s)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{t=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0})(by||(by={}))});var b0=I(Mu=>{"use strict";u();Object.defineProperty(Mu,"__esModule",{value:!0});Mu.recursionDetectionMiddleware=void 0;var a5=(Cy(),te(Ty)),c5=ke(),Ay="X-Amzn-Trace-Id",u5="AWS_LAMBDA_FUNCTION_NAME",l5="_X_AMZN_TRACE_ID",d5=()=>e=>async t=>{let{request:r}=t;if(!c5.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(f=>f.toLowerCase()===Ay.toLowerCase())??Ay;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[u5],o=process.env[l5],c=(await a5.InvokeStore.getInstanceAsync())?.getXRayTraceId()??o,l=f=>typeof f=="string"&&f.length>0;return l(s)&&l(c)&&(r.headers[Ay]=c),e({...t,request:r})};Mu.recursionDetectionMiddleware=d5});var Iy=I(Fu=>{"use strict";u();var xy=b0(),f5={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},p5=e=>({applyToStack:t=>{t.add(xy.recursionDetectionMiddleware(),f5)}});Fu.getRecursionDetectionPlugin=p5;Object.keys(xy).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fu,e)&&Object.defineProperty(Fu,e,{enumerable:!0,get:function(){return xy[e]}})})});var vy,m5,T0=w(()=>{u();vy=T(An()),m5=e=>e[vy.SMITHY_CONTEXT_KEY]||(e[vy.SMITHY_CONTEXT_KEY]={})});var Qt=I(Py=>{"use strict";u();var C0=An(),h5=e=>e[C0.SMITHY_CONTEXT_KEY]||(e[C0.SMITHY_CONTEXT_KEY]={}),g5=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Py.getSmithyContext=h5;Py.normalizeProvider=g5});var A0,x0=w(()=>{u();A0=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function y5(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var I0,da,Lu=w(()=>{u();I0=T(Qt());x0();da=(e,t)=>(r,n)=>async s=>{let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=A0(o,i),c=y5(e.httpAuthSchemes),l=(0,I0.getSmithyContext)(n),f=[];for(let d of a){let m=c.get(d.schemeId);if(!m){f.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let p=m.identityProvider(await t.identityProviderConfigProvider(e));if(!p){f.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:S={},signingProperties:R={}}=d.propertiesExtractor?.(e,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},S),d.signingProperties=Object.assign(d.signingProperties||{},R),l.selectedHttpAuthScheme={httpAuthOption:d,identity:await p(d.identityProperties),signer:m.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(f.join(`
`));return r(s)}});var v0,S5,P0=w(()=>{u();Lu();v0={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},S5=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(da(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),v0)}})});var Oy=I(Fo=>{"use strict";u();var E5=ke(),N0=(e,t)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(E5.HttpResponse.isInstance(o)){let{headers:c={}}=o,l=Object.entries(c);i.$metadata={httpStatusCode:o.statusCode,requestId:Ny(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Ny(/^x-[\w-]+-id-2$/,l),cfId:Ny(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},Ny=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],O0=(e,t)=>(r,n)=>async s=>{let o=e,i=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:i});return r({...s,request:a})},D0={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},$0={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function w5(e,t,r){return{applyToStack:n=>{n.add(N0(e,r),D0),n.add(O0(e,t),$0)}}}Fo.deserializerMiddleware=N0;Fo.deserializerMiddlewareOption=D0;Fo.getSerdePlugin=w5;Fo.serializerMiddleware=O0;Fo.serializerMiddlewareOption=$0});var k0,M0,R5,F0=w(()=>{u();k0=T(Oy());Lu();M0={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:k0.serializerMiddlewareOption.name},R5=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(da(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),M0)}})});var L0=w(()=>{u();Lu();P0();F0()});var U0,H0,_5,b5,Dy,$y=w(()=>{u();U0=T(ke()),H0=T(Qt()),_5=e=>t=>{throw t},b5=(e,t)=>{},Dy=e=>(t,r)=>async n=>{if(!U0.HttpRequest.isInstance(n.request))return t(n);let o=(0,H0.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=o,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||_5)(i));return(c.successHandler||b5)(l.response,i),l}});var q0,T5,B0=w(()=>{u();$y();q0={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},T5=e=>({applyToStack:t=>{t.addRelativeTo(Dy(e),q0)}})});var j0=w(()=>{u();$y();B0()});var In,V0=w(()=>{u();In=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function z0(e,t,r,n,s){return async function*(i,a,...c){let l=a,f=i.startingToken??l[r],d=!0,m;for(;d;){if(l[r]=f,s&&(l[s]=l[s]??i.pageSize),i.client instanceof e)m=await C5(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let p=f;f=A5(m,n),d=!!(f&&(!i.stopOnSameToken||f!==p))}return void 0}}var C5,A5,G0=w(()=>{u();C5=async(e,t,r,n=o=>o,...s)=>{let o=new e(r);return o=n(o)??o,await t.send(o,...s)};A5=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var ky=I(W0=>{"use strict";u();var x5=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";W0.isArrayBuffer=x5});var Lo=I(Fy=>{"use strict";u();var I5=ky(),My=q("buffer"),v5=(e,t=0,r=e.byteLength-t)=>{if(!I5.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return My.Buffer.from(e,t,r)},P5=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?My.Buffer.from(e,t):My.Buffer.from(e)};Fy.fromArrayBuffer=v5;Fy.fromString=P5});var K0=I(Uu=>{"use strict";u();Object.defineProperty(Uu,"__esModule",{value:!0});Uu.fromBase64=void 0;var N5=Lo(),O5=/^[A-Za-z0-9+/]*={0,2}$/,D5=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!O5.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,N5.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Uu.fromBase64=D5});var Et=I(Hu=>{"use strict";u();var Y0=Lo(),X0=e=>{let t=Y0.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},$5=e=>typeof e=="string"?X0(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),k5=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Y0.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Hu.fromUtf8=X0;Hu.toUint8Array=$5;Hu.toUtf8=k5});var Q0=I(qu=>{"use strict";u();Object.defineProperty(qu,"__esModule",{value:!0});qu.toBase64=void 0;var M5=Lo(),F5=Et(),L5=e=>{let t;if(typeof e=="string"?t=(0,F5.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,M5.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};qu.toBase64=L5});var wt=I(fa=>{"use strict";u();var J0=K0(),Z0=Q0();Object.keys(J0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(fa,e)&&Object.defineProperty(fa,e,{enumerable:!0,get:function(){return J0[e]}})});Object.keys(Z0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(fa,e)&&Object.defineProperty(fa,e,{enumerable:!0,get:function(){return Z0[e]}})})});var Uy=I(Bu=>{"use strict";u();Object.defineProperty(Bu,"__esModule",{value:!0});Bu.ChecksumStream=void 0;var U5=wt(),H5=q("stream"),Ly=class extends H5.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=o??U5.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Bu.ChecksumStream=Ly});var vn=I(Uo=>{"use strict";u();Object.defineProperty(Uo,"__esModule",{value:!0});Uo.isBlob=Uo.isReadableStream=void 0;var q5=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);Uo.isReadableStream=q5;var B5=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);Uo.isBlob=B5});var eA=I(ju=>{"use strict";u();Object.defineProperty(ju,"__esModule",{value:!0});ju.ChecksumStream=void 0;var j5=typeof ReadableStream=="function"?ReadableStream:function(){},Hy=class extends j5{};ju.ChecksumStream=Hy});var tA=I(Vu=>{"use strict";u();Object.defineProperty(Vu,"__esModule",{value:!0});Vu.createChecksumStream=void 0;var V5=wt(),z5=vn(),G5=eA(),W5=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,z5.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let o=s??V5.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,l){t.update(c),l.enqueue(c)},async flush(c){let l=await t.digest(),f=o(l);if(e!==f){let d=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);c.error(d)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,G5.ChecksumStream.prototype),a};Vu.createChecksumStream=W5});var rA=I(qy=>{"use strict";u();Object.defineProperty(qy,"__esModule",{value:!0});qy.createChecksumStream=Q5;var K5=vn(),Y5=Uy(),X5=tA();function Q5(e){return typeof ReadableStream=="function"&&(0,K5.isReadableStream)(e.source)?(0,X5.createChecksumStream)(e):new Y5.ChecksumStream(e)}});var jy=I(zu=>{"use strict";u();Object.defineProperty(zu,"__esModule",{value:!0});zu.ByteArrayCollector=void 0;var By=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};zu.ByteArrayCollector=By});var iA=I(Qr=>{"use strict";u();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.createBufferedReadable=void 0;Qr.createBufferedReadableStream=nA;Qr.merge=sA;Qr.flush=Gu;Qr.sizeOf=Ho;Qr.modeOf=oA;var J5=jy();function nA(e,t,r){let n=e.getReader(),s=!1,o=0,i=["",new J5.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:f,done:d}=await n.read(),m=f;if(d){if(a!==-1){let p=Gu(i,a);Ho(p)>0&&l.enqueue(p)}l.close()}else{let p=oA(m,!1);if(a!==p&&(a>=0&&l.enqueue(Gu(i,a)),a=p),a===-1){l.enqueue(m);return}let S=Ho(m);o+=S;let R=Ho(i[a]);if(S>=t&&R===0)l.enqueue(m);else{let _=sA(i,a,m);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${t}, automatically buffering.`)),_>=t?l.enqueue(Gu(i,a)):await c(l)}}};return new ReadableStream({pull:c})}Qr.createBufferedReadable=nA;function sA(e,t,r){switch(t){case 0:return e[0]+=r,Ho(e[0]);case 1:case 2:return e[t].push(r),Ho(e[t])}}function Gu(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Ho(e){return e?.byteLength??e?.length??0}function oA(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var cA=I(Vy=>{"use strict";u();Object.defineProperty(Vy,"__esModule",{value:!0});Vy.createBufferedReadable=t8;var Z5=q("node:stream"),aA=jy(),Jr=iA(),e8=vn();function t8(e,t,r){if((0,e8.isReadableStream)(e))return(0,Jr.createBufferedReadableStream)(e,t,r);let n=new Z5.Readable({read(){}}),s=!1,o=0,i=["",new aA.ByteArrayCollector(c=>new Uint8Array(c)),new aA.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Jr.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Jr.flush)(i,a)),a=l),a===-1){n.push(c);return}let f=(0,Jr.sizeOf)(c);o+=f;let d=(0,Jr.sizeOf)(i[a]);if(f>=t&&d===0)n.push(c);else{let m=(0,Jr.merge)(i,a,c);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${t}, automatically buffering.`)),m>=t&&n.push((0,Jr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Jr.flush)(i,a);(0,Jr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var uA=I(Wu=>{"use strict";u();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.getAwsChunkedEncodingStream=void 0;var r8=q("stream"),n8=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=t,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,e):void 0,l=new r8.Readable({read:()=>{}});return e.on("data",f=>{let d=n(f)||0;l.push(`${d.toString(16)}\r
`),l.push(f),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let f=r(await c);l.push(`${o}:${f}\r
`),l.push(`\r
`)}l.push(null)}),l};Wu.getAwsChunkedEncodingStream=n8});var lA=I(zy=>{"use strict";u();Object.defineProperty(zy,"__esModule",{value:!0});zy.headStream=s8;async function s8(e,t){let r=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:c,value:l}=await s.read();if(l&&(n.push(l),r+=l?.byteLength??0),r>=t)break;o=c}s.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var dA=I(Ku=>{"use strict";u();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.headStream=void 0;var o8=q("stream"),i8=lA(),a8=vn(),c8=(e,t)=>(0,a8.isReadableStream)(e)?(0,i8.headStream)(e,t):new Promise((r,n)=>{let s=new Gy;s.limit=t,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});Ku.headStream=c8;var Gy=class extends o8.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var Ky=I(Wy=>{"use strict";u();var fA=e=>encodeURIComponent(e).replace(/[!'()*]/g,u8),u8=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,l8=e=>e.split("/").map(fA).join("/");Wy.escapeUri=fA;Wy.escapeUriPath=l8});var Xy=I(pA=>{"use strict";u();var Yy=Ky();function d8(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=Yy.escapeUri(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)t.push(`${r}=${Yy.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${Yy.escapeUri(n)}`),t.push(s)}}return t.join("&")}pA.buildQueryString=d8});var ma=I(pa=>{"use strict";u();var yA=ke(),SA=Xy(),Yu=q("http"),Xu=q("https"),EA=q("stream"),Qy=q("http2"),f8=["ECONNRESET","EPIPE","ETIMEDOUT"],wA=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},Rt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},mA=1e3,p8=(e,t,r=0)=>{if(!r)return-1;let n=s=>{let o=Rt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),i=a=>{a?.connecting?a.on("connect",()=>{Rt.clearTimeout(o)}):Rt.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):Rt.setTimeout(n.bind(null,mA),mA)},m8=(e,t,r=0,n,s)=>r?Rt.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},r):-1,h8=3e3,g8=(e,{keepAlive:t,keepAliveMsecs:r},n=h8)=>{if(t!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})};return n===0?(s(),0):Rt.setTimeout(s,n)},hA=3e3,y8=(e,t,r=0)=>{let n=s=>{let o=r-s,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<r&&r<6e3?(n(0),0):Rt.setTimeout(n.bind(null,r===0?0:hA),hA)},gA=6e3;async function RA(e,t,r=gA,n=!1){let s=t.headers??{},o=s.Expect||s.expect,i=-1,a=!0;!n&&o==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(Rt.setTimeout(()=>c(!0),Math.max(gA,r)))}),new Promise(c=>{e.on("continue",()=>{Rt.clearTimeout(i),c(!0)}),e.on("response",()=>{Rt.clearTimeout(i),c(!1)}),e.on("error",()=>{Rt.clearTimeout(i),c(!1)})})])),a&&S8(e,t.body)}function S8(e,t){if(t instanceof EA.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var E8=0,Jy=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:o,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let c in s){let l=s[c]?.length??0,f=o[c]?.length??0;if(l>=i&&f>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=t||{},l=!0,f=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:c,httpAgent:i instanceof Yu.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Yu.Agent({keepAlive:l,maxSockets:f,...i}),httpsAgent:a instanceof Xu.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Xu.Agent({keepAlive:l,maxSockets:f,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i=this.config,a,c=[],l=async U=>{await a,c.forEach(Rt.clearTimeout),s(U)},f=async U=>{await a,c.forEach(Rt.clearTimeout),o(U)};if(r?.aborted){let U=new Error("Request aborted");U.name="AbortError",f(U);return}let d=t.protocol==="https:",m=t.headers??{},p=(m.Expect??m.expect)==="100-continue",S=d?i.httpsAgent:i.httpAgent;p&&!this.externalAgent&&(S=new(d?Xu.Agent:Yu.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(Rt.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(S,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let R=SA.buildQueryString(t.query||{}),_;if(t.username!=null||t.password!=null){let U=t.username??"",G=t.password??"";_=`${U}:${G}`}let C=t.path;R&&(C+=`?${R}`),t.fragment&&(C+=`#${t.fragment}`);let x=t.hostname??"";x[0]==="["&&x.endsWith("]")?x=t.hostname.slice(1,-1):x=t.hostname;let D={headers:t.headers,host:x,method:t.method,path:C,port:t.port,agent:S,auth:_},M=(d?Xu.request:Yu.request)(D,U=>{let G=new yA.HttpResponse({statusCode:U.statusCode||-1,reason:U.statusMessage,headers:wA(U.headers),body:U});l({response:G})});if(M.on("error",U=>{f8.includes(U.code)?f(Object.assign(U,{name:"TimeoutError"})):f(U)}),r){let U=()=>{M.destroy();let G=new Error("Request aborted");G.name="AbortError",f(G)};if(typeof r.addEventListener=="function"){let G=r;G.addEventListener("abort",U,{once:!0}),M.once("close",()=>G.removeEventListener("abort",U))}else r.onabort=U}let j=n??i.requestTimeout;c.push(p8(M,f,i.connectionTimeout)),c.push(m8(M,f,j,i.throwOnRequestTimeout,i.logger??console)),c.push(y8(M,f,i.socketTimeout));let ye=D.agent;typeof ye=="object"&&"keepAlive"in ye&&c.push(g8(M,{keepAlive:ye.keepAlive,keepAliveMsecs:ye.keepAliveMsecs})),a=RA(M,t,j,this.externalAgent).catch(U=>(c.forEach(Rt.clearTimeout),o(U)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Zy=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},eS=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let c=s.poll();if(c&&!this.config.disableConcurrency)return c}let o=Qy.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new Zy;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},tS=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new eS({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((a,c)=>{let l=!1,f,d=async X=>{await f,a(X)},m=async X=>{await f,c(X)};if(r?.aborted){l=!0;let X=new Error("Request aborted");X.name="AbortError",m(X);return}let{hostname:p,method:S,port:R,protocol:_,query:C}=t,x="";if(t.username!=null||t.password!=null){let X=t.username??"",_e=t.password??"";x=`${X}:${_e}@`}let D=`${_}//${x}${p}${R?`:${R}`:""}`,k={destination:new URL(D)},M=this.connectionManager.lease(k,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),j=X=>{o&&this.destroySession(M),l=!0,m(X)},ye=SA.buildQueryString(C||{}),U=t.path;ye&&(U+=`?${ye}`),t.fragment&&(U+=`#${t.fragment}`);let G=M.request({...t.headers,[Qy.constants.HTTP2_HEADER_PATH]:U,[Qy.constants.HTTP2_HEADER_METHOD]:S});if(M.ref(),G.on("response",X=>{let _e=new yA.HttpResponse({statusCode:X[":status"]||-1,headers:wA(X),body:G});l=!0,d({response:_e}),o&&(M.close(),this.connectionManager.deleteSession(D,M))}),i&&G.setTimeout(i,()=>{G.close();let X=new Error(`Stream timed out because of no activity for ${i} ms`);X.name="TimeoutError",j(X)}),r){let X=()=>{G.close();let _e=new Error("Request aborted");_e.name="AbortError",j(_e)};if(typeof r.addEventListener=="function"){let _e=r;_e.addEventListener("abort",X,{once:!0}),G.once("close",()=>_e.removeEventListener("abort",X))}else r.onabort=X}G.on("frameError",(X,_e,ot)=>{j(new Error(`Frame type id ${X} in stream id ${ot} has failed with code ${_e}.`))}),G.on("error",j),G.on("aborted",()=>{j(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${G.rstCode}.`))}),G.on("close",()=>{M.unref(),o&&M.destroy(),l||j(new Error("Unexpected error: http2 request did not get a response"))}),f=RA(G,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},rS=class extends EA.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},w8=e=>R8(e)?_8(e):new Promise((t,r)=>{let n=new rS;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),R8=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function _8(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}pa.DEFAULT_REQUEST_TIMEOUT=E8;pa.NodeHttp2Handler=tS;pa.NodeHttpHandler=Jy;pa.streamCollector=w8});var TA=I(Ju=>{"use strict";u();var _A=ke(),b8=Xy(),T8=wt();function bA(e,t){return new Request(e,t)}function C8(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var Qu={supported:void 0},nS=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Qu.supported===void 0&&(Qu.supported=typeof Request<"u"&&"keepalive"in bA("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let x=new Error("Request aborted");return x.name="AbortError",Promise.reject(x)}let a=t.path,c=b8.buildQueryString(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let x=t.username??"",D=t.password??"";l=`${x}:${D}@`}let{port:f,method:d}=t,m=`${t.protocol}//${l}${t.hostname}${f?`:${f}`:""}${a}`,p=d==="GET"||d==="HEAD"?void 0:t.body,S={body:p,headers:new Headers(t.headers),method:d,credentials:i};this.config?.cache&&(S.cache=this.config.cache),p&&(S.duplex="half"),typeof AbortController<"u"&&(S.signal=r),Qu.supported&&(S.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(S,this.config.requestInit(t));let R=()=>{},_=bA(m,S),C=[fetch(_).then(x=>{let D=x.headers,k={};for(let j of D.entries())k[j[0]]=j[1];return x.body!=null?{response:new _A.HttpResponse({headers:k,reason:x.statusText,statusCode:x.status,body:x.body})}:x.blob().then(j=>({response:new _A.HttpResponse({headers:k,reason:x.statusText,statusCode:x.status,body:j})}))}),C8(s)];return r&&C.push(new Promise((x,D)=>{let k=()=>{let M=new Error("Request aborted");M.name="AbortError",D(M)};if(typeof r.addEventListener=="function"){let M=r;M.addEventListener("abort",k,{once:!0}),R=()=>M.removeEventListener("abort",k)}else r.onabort=k})),Promise.race(C).finally(R)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},A8=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):x8(e):I8(e);async function x8(e){let t=await v8(e),r=T8.fromBase64(t);return new Uint8Array(r)}async function I8(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}function v8(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;t(s.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Ju.FetchHttpHandler=nS;Ju.keepAliveSupport=Qu;Ju.streamCollector=A8});var iS=I(oS=>{"use strict";u();var CA={},sS={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),CA[e]=t,sS[t]=e}function P8(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in sS)t[r/2]=sS[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function N8(e){let t="";for(let r=0;r<e.byteLength;r++)t+=CA[e[r]];return t}oS.fromHex=P8;oS.toHex=N8});var vA=I(Zu=>{"use strict";u();Object.defineProperty(Zu,"__esModule",{value:!0});Zu.sdkStreamMixin=void 0;var O8=TA(),D8=wt(),$8=iS(),k8=Et(),AA=vn(),xA="The stream has already been transformed.",M8=e=>{if(!IA(e)&&!(0,AA.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(xA);return t=!0,await(0,O8.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let o=await r();if(s==="base64")return(0,D8.toBase64)(o);if(s==="hex")return(0,$8.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,k8.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(xA);if(t=!0,IA(e))return n(e);if((0,AA.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Zu.sdkStreamMixin=M8;var IA=e=>typeof Blob=="function"&&e instanceof Blob});var NA=I(el=>{"use strict";u();Object.defineProperty(el,"__esModule",{value:!0});el.sdkStreamMixin=void 0;var F8=ma(),L8=Lo(),aS=q("stream"),U8=vA(),PA="The stream has already been transformed.",H8=e=>{if(!(e instanceof aS.Readable))try{return(0,U8.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(PA);return t=!0,await(0,F8.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let s=await r();return n===void 0||Buffer.isEncoding(n)?(0,L8.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(t)throw new Error(PA);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof aS.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,aS.Readable.toWeb(e)}})};el.sdkStreamMixin=H8});var OA=I(cS=>{"use strict";u();Object.defineProperty(cS,"__esModule",{value:!0});cS.splitStream=q8;async function q8(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var kA=I(uS=>{"use strict";u();Object.defineProperty(uS,"__esModule",{value:!0});uS.splitStream=j8;var DA=q("stream"),B8=OA(),$A=vn();async function j8(e){if((0,$A.isReadableStream)(e)||(0,$A.isBlob)(e))return(0,B8.splitStream)(e);let t=new DA.PassThrough,r=new DA.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var tl=I(Je=>{"use strict";u();var MA=wt(),FA=Et(),LA=Uy(),UA=rA(),HA=cA(),qA=uA(),BA=dA(),jA=NA(),VA=kA(),zA=vn(),lS=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(MA.fromBase64(t)):e.mutate(FA.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?MA.toBase64(this):FA.toUtf8(this)}};Je.Uint8ArrayBlobAdapter=lS;Object.keys(LA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Je,e)&&Object.defineProperty(Je,e,{enumerable:!0,get:function(){return LA[e]}})});Object.keys(UA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Je,e)&&Object.defineProperty(Je,e,{enumerable:!0,get:function(){return UA[e]}})});Object.keys(HA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Je,e)&&Object.defineProperty(Je,e,{enumerable:!0,get:function(){return HA[e]}})});Object.keys(qA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Je,e)&&Object.defineProperty(Je,e,{enumerable:!0,get:function(){return qA[e]}})});Object.keys(BA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Je,e)&&Object.defineProperty(Je,e,{enumerable:!0,get:function(){return BA[e]}})});Object.keys(jA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Je,e)&&Object.defineProperty(Je,e,{enumerable:!0,get:function(){return jA[e]}})});Object.keys(VA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Je,e)&&Object.defineProperty(Je,e,{enumerable:!0,get:function(){return VA[e]}})});Object.keys(zA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Je,e)&&Object.defineProperty(Je,e,{enumerable:!0,get:function(){return zA[e]}})})});var rl,Jt,nl=w(()=>{u();rl=T(tl()),Jt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return rl.Uint8ArrayBlobAdapter.mutate(e);if(!e)return rl.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return rl.Uint8ArrayBlobAdapter.mutate(await r)}});function Ar(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var sl=w(()=>{u()});var fr,dS=w(()=>{u();fr=e=>typeof e=="function"?e():e});var ha,ol=w(()=>{u();ha=(e,t,r,n,s)=>({name:t,namespace:e,traits:r,input:n,output:s})});var GA,WA,KA,fS,YA=w(()=>{u();GA=T(ke()),WA=T(Qt());ol();KA=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:o}=(0,WA.getSmithyContext)(r),[,i,a,c,l,f]=o??[];try{let d=await e.protocol.deserializeResponse(ha(i,a,c,l,f),{...e,...r},s);return{response:s,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){let m="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+m}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(m):r.logger?.warn?.(m)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(GA.HttpResponse.isInstance(s)){let{headers:p={}}=s,S=Object.entries(p);d.$metadata={httpStatusCode:s.statusCode,requestId:fS(/^x-[\w-]+-request-?id$/,S),extendedRequestId:fS(/^x-[\w-]+-id-2$/,S),cfId:fS(/^x-[\w-]+-cf-id$/,S)}}}catch{}}throw d}},fS=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var XA,QA,JA=w(()=>{u();XA=T(Qt());ol();QA=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,XA.getSmithyContext)(r),[,o,i,a,c,l]=s??[],f=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,d=await e.protocol.serializeRequest(ha(o,i,a,c,l),n.input,{...e,...r,endpoint:f});return t({...n,request:d})}});function V8(e){return{applyToStack:t=>{t.add(QA(e),ex),t.add(KA(e),ZA),e.protocol.setSerdeContext(e)}}}var ZA,ex,tx=w(()=>{u();YA();JA();ZA={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ex={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ge,Pn=w(()=>{u();Ge=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var il,z8,rx=w(()=>{u();Pn();il=class e extends Ge{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},z8=(e,t,r,n)=>Ge.assign(new il,{name:t,namespace:e,traits:r,valueSchema:n})});var al,G8,nx=w(()=>{u();Pn();al=class e extends Ge{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},G8=(e,t,r,n,s)=>Ge.assign(new al,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var cl,W8,sx=w(()=>{u();Pn();cl=class e extends Ge{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},W8=(e,t,r,n,s)=>Ge.assign(new cl,{name:t,namespace:e,traits:r,input:n,output:s})});var qo,K8,pS=w(()=>{u();Pn();qo=class e extends Ge{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},K8=(e,t,r,n,s)=>Ge.assign(new qo,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var ul,Y8,ox=w(()=>{u();Pn();pS();ul=class e extends qo{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},Y8=(e,t,r,n,s,o)=>Ge.assign(new ul,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:null})});function xr(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var mS=w(()=>{u()});function ga(e,t){if(e instanceof V)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=V;return new r(e,t)}var V,hS,ix,ax=w(()=>{u();dS();mS();V=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],s=t,o=t;for(this._isMemberSchema=!1;hS(s);)n.push(s[1]),s=s[0],o=fr(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,xr(a))}}else this.memberTraits=0;if(o instanceof e){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=fr(o),ix(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=fr(t);if(r instanceof e)return r;if(hS(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),xr(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:s}=this;return t(r)||t(n)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return xr(this.memberTraits)}getOwnTraits(){return xr(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:n[4]??0;return ga([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t[3+t[0]]:r?15:void 0;if(o!=null)return ga([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),s=r[5][n];return ga(hS(s)?s:[s,0],t)}if(this.isDocumentSchema())return ga([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],ga([t[5][r],0],t[4][r])]}};hS=e=>Array.isArray(e)&&e.length===2,ix=e=>Array.isArray(e)&&e.length>=5});var ya,X8,Q8,cx=w(()=>{u();Pn();ya=class e extends Ge{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},X8=(e,t,r,n)=>Ge.assign(new ya,{name:t,namespace:e,traits:n,schemaRef:r}),Q8=(e,t,r,n)=>Ge.assign(new ya,{name:t,namespace:e,traits:r,schemaRef:n})});var J8,ux=w(()=>{u();J8={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Ye,lx=w(()=>{u();Ye=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var ll={};ze(ll,{ErrorSchema:()=>ul,ListSchema:()=>il,MapSchema:()=>al,NormalizedSchema:()=>V,OperationSchema:()=>cl,SCHEMA:()=>J8,Schema:()=>Ge,SimpleSchema:()=>ya,StructureSchema:()=>qo,TypeRegistry:()=>Ye,deref:()=>fr,deserializerMiddlewareOption:()=>ZA,error:()=>Y8,getSchemaSerdePlugin:()=>V8,isStaticSchema:()=>ix,list:()=>z8,map:()=>G8,op:()=>W8,operation:()=>ha,serializerMiddlewareOption:()=>ex,sim:()=>X8,simAdapter:()=>Q8,struct:()=>K8,translateTraits:()=>xr});var $e=w(()=>{u();dS();tx();rx();nx();sx();ol();ox();ax();Pn();cx();pS();ux();mS();lx()});var Z8,dx=w(()=>{u();Z8=(e,t,r=n=>n)=>e});var eK,tK,Sa,rK,dl,Ea,nK,gS,yS,SS,ES,sK,oK,fx,iK,aK,pl,cK,wS,uK,Bo,RS,lK,dK,fK,px,mx,pK,mK,Ms,_S,fl,wa,bS=w(()=>{u();eK=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},tK=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&wa.warn(fl(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&wa.warn(fl(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Sa=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&wa.warn(fl(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},rK=Math.ceil(34028234663852886e22),dl=e=>{let t=Sa(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>rK)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Ea=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},nK=Ea,gS=e=>ES(e,32),yS=e=>ES(e,16),SS=e=>ES(e,8),ES=(e,t)=>{let r=Ea(e);if(r!==void 0&&sK(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},sK=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},oK=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},fx=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},iK=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return wa.warn(fl(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},aK=e=>{if(e==null)return;let t=fx(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},pl=e=>Sa(typeof e=="string"?Bo(e):e),cK=pl,wS=e=>dl(typeof e=="string"?Bo(e):e),uK=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Bo=e=>{let t=e.match(uK);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},RS=e=>typeof e=="string"?px(e):Sa(e),lK=RS,dK=RS,fK=e=>typeof e=="string"?px(e):dl(e),px=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},mx=e=>Ea(typeof e=="string"?Bo(e):e),pK=mx,mK=e=>gS(typeof e=="string"?Bo(e):e),Ms=e=>yS(typeof e=="string"?Bo(e):e),_S=e=>SS(typeof e=="string"?Bo(e):e),fl=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),wa={warn:console.warn}});function _a(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,f=i<10?`0${i}`:`${i}`,d=a<10?`0${a}`:`${a}`;return`${hK[n]}, ${c} ${CS[r]} ${t} ${l}:${f}:${d} GMT`}var hK,CS,gK,yK,SK,AS,EK,wK,RK,xS,IS,Ra,_K,bK,TK,TS,CK,AK,xK,Ir,IK,vK,jo,hx=w(()=>{u();bS();hK=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],CS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];gK=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),yK=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=gK.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,l]=t,f=Ms(jo(n)),d=Ir(s,"month",1,12),m=Ir(o,"day",1,31);return Ra(f,d,m,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},SK=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),AS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=SK.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,l,f]=t,d=Ms(jo(n)),m=Ir(s,"month",1,12),p=Ir(o,"day",1,31),S=Ra(d,m,p,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return f.toUpperCase()!="Z"&&S.setTime(S.getTime()-vK(f)),S},EK=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),wK=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),RK=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),xS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=EK.exec(e);if(t){let[r,n,s,o,i,a,c,l]=t;return Ra(Ms(jo(o)),TS(s),Ir(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=wK.exec(e),t){let[r,n,s,o,i,a,c,l]=t;return TK(Ra(_K(o),TS(s),Ir(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=RK.exec(e),t){let[r,n,s,o,i,a,c,l]=t;return Ra(Ms(jo(l)),TS(n),Ir(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},IS=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=pl(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Ra=(e,t,r,n)=>{let s=t-1;return AK(e,s,r),new Date(Date.UTC(e,s,r,Ir(n.hours,"hour",0,23),Ir(n.minutes,"minute",0,59),Ir(n.seconds,"seconds",0,60),IK(n.fractionalMilliseconds)))},_K=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Ms(jo(e));return r<t?r+100:r},bK=50*365*24*60*60*1e3,TK=e=>e.getTime()-new Date().getTime()>bK?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,TS=e=>{let t=CS.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},CK=[31,28,31,30,31,30,31,31,30,31,30,31],AK=(e,t,r)=>{let n=CK[t];if(t===1&&xK(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${CS[t]} in ${e}: ${r}`)},xK=e=>e%4===0&&(e%100!==0||e%400===0),Ir=(e,t,r,n)=>{let s=_S(jo(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},IK=e=>e==null?0:wS("0."+e)*1e3,vK=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},jo=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var ba={};ze(ba,{__addDisposableResource:()=>Hx,__assign:()=>ml,__asyncDelegator:()=>Ox,__asyncGenerator:()=>Nx,__asyncValues:()=>Dx,__await:()=>Vo,__awaiter:()=>Cx,__classPrivateFieldGet:()=>Fx,__classPrivateFieldIn:()=>Ux,__classPrivateFieldSet:()=>Lx,__createBinding:()=>gl,__decorate:()=>Sx,__disposeResources:()=>qx,__esDecorate:()=>wx,__exportStar:()=>xx,__extends:()=>gx,__generator:()=>Ax,__importDefault:()=>Mx,__importStar:()=>kx,__makeTemplateObject:()=>$x,__metadata:()=>Tx,__param:()=>Ex,__propKey:()=>_x,__read:()=>NS,__rest:()=>yx,__rewriteRelativeImportExtension:()=>Bx,__runInitializers:()=>Rx,__setFunctionName:()=>bx,__spread:()=>Ix,__spreadArray:()=>Px,__spreadArrays:()=>vx,__values:()=>hl,default:()=>OK});function gx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function yx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Sx(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function Ex(e,t){return function(r,n){t(r,n,e)}}function wx(e,t,r,n,s,o){function i(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,m=!1,p=r.length-1;p>=0;p--){var S={};for(var R in n)S[R]=R==="access"?{}:n[R];for(var R in n.access)S.access[R]=n.access[R];S.addInitializer=function(C){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(C||null))};var _=(0,r[p])(a==="accessor"?{get:f.get,set:f.set}:f[c],S);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=i(_.get))&&(f.get=d),(d=i(_.set))&&(f.set=d),(d=i(_.init))&&s.unshift(d)}else(d=i(_))&&(a==="field"?s.unshift(d):f[c]=d)}l&&Object.defineProperty(l,n.name,f),m=!0}function Rx(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function _x(e){return typeof e=="symbol"?e:"".concat(e)}function bx(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Tx(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Cx(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{l(n.next(f))}catch(d){i(d)}}function c(f){try{l(n.throw(f))}catch(d){i(d)}}function l(f){f.done?o(f.value):s(f.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function Ax(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(f){return c([l,f])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(o=l[0]&2?s.return:l[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,l[1])).done)return o;switch(s=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(f){l=[6,f],s=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function xx(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gl(t,e,r)}function hl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function NS(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function Ix(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(NS(arguments[t]));return e}function vx(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Px(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Vo(e){return this instanceof Vo?(this.v=e,this):new Vo(e)}function Nx(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(p){return function(S){return Promise.resolve(S).then(p,d)}}function a(p,S){n[p]&&(s[p]=function(R){return new Promise(function(_,C){o.push([p,R,_,C])>1||c(p,R)})},S&&(s[p]=S(s[p])))}function c(p,S){try{l(n[p](S))}catch(R){m(o[0][3],R)}}function l(p){p.value instanceof Vo?Promise.resolve(p.value.v).then(f,d):m(o[0][2],p)}function f(p){c("next",p)}function d(p){c("throw",p)}function m(p,S){p(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Ox(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:Vo(e[s](i)),done:!1}:o?o(i):i}:o}}function Dx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof hl=="function"?hl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,c){i=e[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},i)}}function $x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function kx(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=PS(e),n=0;n<r.length;n++)r[n]!=="default"&&gl(t,e,r[n]);return PK(t,e),t}function Mx(e){return e&&e.__esModule?e:{default:e}}function Fx(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Lx(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Ux(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Hx(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function qx(e){function t(o){e.error=e.hasError?new NK(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Bx(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}var vS,ml,gl,PK,PS,NK,OK,Ta=w(()=>{u();vS=function(e,t){return vS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},vS(e,t)};ml=function(){return ml=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ml.apply(this,arguments)};gl=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});PK=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},PS=function(e){return PS=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},PS(e)};NK=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};OK={__extends:gx,__assign:ml,__rest:yx,__decorate:Sx,__param:Ex,__esDecorate:wx,__runInitializers:Rx,__propKey:_x,__setFunctionName:bx,__metadata:Tx,__awaiter:Cx,__generator:Ax,__createBinding:gl,__exportStar:xx,__values:hl,__read:NS,__spread:Ix,__spreadArrays:vx,__spreadArray:Px,__await:Vo,__asyncGenerator:Nx,__asyncDelegator:Ox,__asyncValues:Dx,__makeTemplateObject:$x,__importStar:kx,__importDefault:Mx,__classPrivateFieldGet:Fx,__classPrivateFieldSet:Lx,__classPrivateFieldIn:Ux,__addDisposableResource:Hx,__disposeResources:qx,__rewriteRelativeImportExtension:Bx}});var Vx=I(yl=>{"use strict";u();Object.defineProperty(yl,"__esModule",{value:!0});yl.randomUUID=void 0;var DK=(Ta(),te(ba)),jx=DK.__importDefault(q("crypto"));yl.randomUUID=jx.default.randomUUID.bind(jx.default)});var Ca=I(Gx=>{"use strict";u();var zx=Vx(),it=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),$K=()=>{if(zx.randomUUID)return zx.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,it[e[0]]+it[e[1]]+it[e[2]]+it[e[3]]+"-"+it[e[4]]+it[e[5]]+"-"+it[e[6]]+it[e[7]]+"-"+it[e[8]]+it[e[9]]+"-"+it[e[10]]+it[e[11]]+it[e[12]]+it[e[13]]+it[e[14]]+it[e[15]]};Gx.v4=$K});var Zt,Wx=w(()=>{u();Zt=T(Ca())});var _t,Kx=w(()=>{u();_t=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};_t.from=e=>e&&typeof e=="object"&&(e instanceof _t||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?_t(String(e)):_t(JSON.stringify(e));_t.fromObject=_t.from});function OS(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var Yx=w(()=>{u()});function Zr(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var DS,$S,kS,Xx,Qx,kK,MK,FK,LK,UK,zo,MS,FS,Jx=w(()=>{u();DS="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",$S="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",kS="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",Xx="(\\d?\\d)",Qx="(\\d{4})",kK=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),MK=new RegExp(`^${DS}, ${Xx} ${$S} ${Qx} ${kS} GMT$`),FK=new RegExp(`^${DS}, ${Xx}-${$S}-(\\d\\d) ${kS} GMT$`),LK=new RegExp(`^${DS} ${$S} ( [1-9]|\\d\\d) ${kS} ${Qx}$`),UK=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zo=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},MS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=kK.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,s,o,i,a,,c,l]=t;Zr(n,1,12),Zr(s,1,31),Zr(o,0,23),Zr(i,0,59),Zr(a,0,60);let f=new Date(Date.UTC(Number(r),Number(n)-1,Number(s),Number(o),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(f.setUTCFullYear(Number(r)),l.toUpperCase()!="Z"){let[,d,m,p]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],S=d==="-"?1:-1;f.setTime(f.getTime()+S*(Number(m)*60*60*1e3+Number(p)*60*1e3))}return f},FS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,s,o,i,a,c;if((c=MK.exec(e))?[,t,r,n,s,o,i,a]=c:(c=FK.exec(e))?([,t,r,n,s,o,i,a]=c,n=(Number(n)+1900).toString()):(c=LK.exec(e))&&([,r,t,s,o,i,a,n]=c),n&&i){let l=Date.UTC(Number(n),UK.indexOf(r),Number(t),Number(s),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Zr(t,1,31),Zr(s,0,23),Zr(o,0,59),Zr(i,0,60);let f=new Date(l);return f.setUTCFullYear(Number(n)),f}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function LS(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=t+n[i],(i+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var Zx=w(()=>{u()});var Aa,eI=w(()=>{u();Aa=e=>{let t=e.length,r=[],n=!1,s,o=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(o,i)),o=i+1);break;default:}s=a}return r.push(e.slice(o)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function US(e){return new Me(String(e),"bigDecimal")}var tI,Me,rI=w(()=>{u();tI=/^-?\d*(\.\d+)?$/,Me=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!tI.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&tI.test(r.string)}}});var nI={};ze(nI,{LazyJsonString:()=>_t,NumericValue:()=>Me,_parseEpochTimestamp:()=>zo,_parseRfc3339DateTimeWithOffset:()=>MS,_parseRfc7231DateTime:()=>FS,copyDocumentWithTransform:()=>Z8,dateToUtcString:()=>_a,expectBoolean:()=>tK,expectByte:()=>SS,expectFloat32:()=>dl,expectInt:()=>nK,expectInt32:()=>gS,expectLong:()=>Ea,expectNonNull:()=>oK,expectNumber:()=>Sa,expectObject:()=>fx,expectShort:()=>yS,expectString:()=>iK,expectUnion:()=>aK,generateIdempotencyToken:()=>Zt.v4,handleFloat:()=>lK,limitedParseDouble:()=>RS,limitedParseFloat:()=>dK,limitedParseFloat32:()=>fK,logger:()=>wa,nv:()=>US,parseBoolean:()=>eK,parseEpochTimestamp:()=>IS,parseRfc3339DateTime:()=>yK,parseRfc3339DateTimeWithOffset:()=>AS,parseRfc7231DateTime:()=>xS,quoteHeader:()=>OS,splitEvery:()=>LS,splitHeader:()=>Aa,strictParseByte:()=>_S,strictParseDouble:()=>pl,strictParseFloat:()=>cK,strictParseFloat32:()=>wS,strictParseInt:()=>pK,strictParseInt32:()=>mK,strictParseLong:()=>mx,strictParseShort:()=>Ms});var Ft=w(()=>{u();dx();hx();Wx();Kx();bS();Yx();Jx();Zx();eI();rI()});var bt,Go=w(()=>{u();bt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var Sl,HS,sI=w(()=>{u();Sl=T(Et()),HS=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,o=r.getEventStreamMember(),i=r.getMemberSchema(o),a=this.serializer,c=this.defaultContentType,l=Symbol("initialRequestMarker"),f={async*[Symbol.asyncIterator](){if(n){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let m=a.flush();yield{[l]:!0,headers:d,body:m}}for await(let d of t)yield d}};return s.serialize(f,d=>{if(d[l])return{headers:d.headers,body:d.body};let m=Object.keys(d).find(x=>x!=="__type")??"",{additionalHeaders:p,body:S,eventType:R,explicitPayloadContentType:_}=this.writeEventBody(m,i,d);return{headers:{":event-type":{type:"string",value:R},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:_??c},...p},body:S}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async m=>{let p=Object.keys(m).find(R=>R!=="__type")??"",S=m[p].body;if(p==="initial-response"){let R=await this.deserializer.read(r,S);return delete R[o],{[c]:!0,...R}}else if(p in a){let R=a[p];if(R.isStructSchema()){let _={},C=!1;for(let[x,D]of R.structIterator()){let{eventHeader:k,eventPayload:M}=D.getMergedTraits();if(C=C||!!(k||M),M)D.isBlobSchema()?_[x]=S:D.isStringSchema()?_[x]=(this.serdeContext?.utf8Encoder??Sl.toUtf8)(S):D.isStructSchema()&&(_[x]=await this.deserializer.read(D,S));else if(k){let j=m[p].headers[x]?.value;j!=null&&(D.isNumericSchema()?j&&typeof j=="object"&&"bytes"in j?_[x]=BigInt(j.toString()):_[x]=Number(j):_[x]=j)}}if(C)return{[p]:_}}return{[p]:await this.deserializer.read(R,S)}}else return{$unknown:m}}),f=l[Symbol.asyncIterator](),d=await f.next();if(d.done)return l;if(d.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[m,p]of Object.entries(d.value))n[m]=p}return{async*[Symbol.asyncIterator](){for(d?.value?.[c]||(yield d.value);;){let{done:m,value:p}=await f.next();if(m)break;yield p}}}}writeEventBody(t,r,n){let s=this.serializer,o=t,i=null,a,c=r.getSchema()[4].includes(t),l={};if(c){let m=r.getMemberSchema(t);if(m.isStructSchema()){for(let[p,S]of m.structIterator()){let{eventHeader:R,eventPayload:_}=S.getMergedTraits();if(_)i=p;else if(R){let C=n[t][p],x="binary";S.isNumericSchema()?(-2)**31<=C&&C<=2**31-1?x="integer":x="long":S.isTimestampSchema()?x="timestamp":S.isStringSchema()?x="string":S.isBooleanSchema()&&(x="boolean"),C!=null&&(l[p]={type:x,value:C},delete n[t][p])}}if(i!==null){let p=m.getMemberSchema(i);p.isBlobSchema()?a="application/octet-stream":p.isStringSchema()&&(a="text/plain"),s.write(p,n[t][i])}else s.write(m,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[m,p]=n[t];o=m,s.write(15,p)}let f=s.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??Sl.fromUtf8)(f):f,eventType:o,explicitPayloadContentType:a,additionalHeaders:l}}}});var oI={};ze(oI,{EventStreamSerde:()=>HS});var iI=w(()=>{u();sI()});var El,Fs,wl=w(()=>{u();$e();El=T(ke());Go();Fs=class extends bt{options;constructor(t){super(),this.options=t}getRequestType(){return El.HttpRequest}getResponseType(){return El.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,s]of r.url.searchParams.entries())t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=V.of(r.input),o=xr(r.traits??{});if(o.endpoint){let i=o.endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(iI(),oI));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,o){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var aI,cI,Ls,uI=w(()=>{u();$e();Ft();aI=T(ke()),cI=T(tl());nl();sl();wl();Ls=class extends Fs{async serializeRequest(t,r,n){let s={...r??{}},o=this.serializer,i={},a={},c=await n.endpoint(),l=V.of(t?.input),f=l.getSchema(),d=!1,m,p=new aI.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(p,c),this.setHostPrefix(p,t,s);let S=xr(t.traits);if(S.http){p.method=S.http[0];let[R,_]=S.http[1].split("?");p.path=="/"?p.path=R:p.path+=R;let C=new URLSearchParams(_??"");Object.assign(i,Object.fromEntries(C))}}for(let[S,R]of l.structIterator()){let _=R.getMergedTraits()??{},C=s[S];if(!(C==null&&!R.isIdempotencyToken()))if(_.httpPayload)R.isStreaming()?R.isStructSchema()?s[S]&&(m=await this.serializeEventStream({eventStream:s[S],requestSchema:l})):m=C:(o.write(R,C),m=o.flush()),delete s[S];else if(_.httpLabel){o.write(R,C);let x=o.flush();p.path.includes(`{${S}+}`)?p.path=p.path.replace(`{${S}+}`,x.split("/").map(Ar).join("/")):p.path.includes(`{${S}}`)&&(p.path=p.path.replace(`{${S}}`,Ar(x))),delete s[S]}else if(_.httpHeader)o.write(R,C),a[_.httpHeader.toLowerCase()]=String(o.flush()),delete s[S];else if(typeof _.httpPrefixHeaders=="string"){for(let[x,D]of Object.entries(C)){let k=_.httpPrefixHeaders+x;o.write([R.getValueSchema(),{httpHeader:k}],D),a[k.toLowerCase()]=o.flush()}delete s[S]}else _.httpQuery||_.httpQueryParams?(this.serializeQuery(R,C,i),delete s[S]):d=!0}return d&&s&&(o.write(f,s),m=o.flush()),p.headers=a,p.query=i,p.body=m,p}serializeQuery(t,r,n){let s=this.serializer,o=t.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),o],c);let l=s.flush();(i||l!==void 0)&&a.push(l)}n[o.httpQuery]=a}else s.write([t,o],r),n[o.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,o=V.of(t.output),i={};if(n.statusCode>=300){let c=await Jt(n.body,r);throw c.byteLength>0&&Object.assign(i,await s.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(o,r,n,i);if(a.length){let c=await Jt(n.body,r);if(c.byteLength>0){let l=await s.read(o,c);for(let f of a)i[f]=l[f]}}else a.discardResponseBody&&await Jt(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,s,o){let i;s instanceof Set?i=o:i=s;let a=!0,c=this.deserializer,l=V.of(t),f=[];for(let[d,m]of l.structIterator()){let p=m.getMemberTraits();if(p.httpPayload){if(a=!1,m.isStreaming())m.isStructSchema()?i[d]=await this.deserializeEventStream({response:n,responseSchema:l}):i[d]=(0,cI.sdkStreamMixin)(n.body);else if(n.body){let R=await Jt(n.body,r);R.byteLength>0&&(i[d]=await c.read(m,R))}}else if(p.httpHeader){let S=String(p.httpHeader).toLowerCase(),R=n.headers[S];if(R!=null)if(m.isListSchema()){let _=m.getValueSchema();_.getMergedTraits().httpHeader=S;let C;_.isTimestampSchema()&&_.getSchema()===4?C=LS(R,",",2):C=Aa(R);let x=[];for(let D of C)x.push(await c.read(_,D.trim()));i[d]=x}else i[d]=await c.read(m,R)}else if(p.httpPrefixHeaders!==void 0){i[d]={};for(let[S,R]of Object.entries(n.headers))if(S.startsWith(p.httpPrefixHeaders)){let _=m.getValueSchema();_.getMergedTraits().httpHeader=S,i[d][S.slice(p.httpPrefixHeaders.length)]=await c.read(_,R)}}else p.httpResponseCode?i[d]=n.statusCode:f.push(d)}return f.discardResponseBody=a,f}}});var lI,en,dI=w(()=>{u();$e();lI=T(ke());nl();wl();en=class extends Fs{async serializeRequest(t,r,n){let s=this.serializer,o={},i={},a=await n.endpoint(),c=V.of(t?.input),l=c.getSchema(),f,d=new lI.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,t,r));let m={...r};if(r){let p=c.getEventStreamMember();if(p){if(m[p]){let S={};for(let[R,_]of c.structIterator())R!==p&&m[R]&&(s.write(_,m[R]),S[R]=s.flush());f=await this.serializeEventStream({eventStream:m[p],requestSchema:c,initialRequest:S})}}else s.write(l,m),f=s.flush()}return d.headers=i,d.query=o,d.body=f,d.method="POST",d}async deserializeResponse(t,r,n){let s=this.deserializer,o=V.of(t.output),i={};if(n.statusCode>=300){let c=await Jt(n.body,r);throw c.byteLength>0&&Object.assign(i,await s.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:i});else{let c=await Jt(n.body,r);c.byteLength>0&&Object.assign(i,await s.read(o,c))}return i.$metadata=this.deserializeMetadata(n),i}}});var qS,BS=w(()=>{u();sl();qS=(e,t,r,n,s,o)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?i.split("/").map(a=>Ar(a)).join("/"):Ar(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function jS(e,t){return new Rl(e,t)}var fI,Rl,pI=w(()=>{u();fI=T(ke());BS();Rl=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new fI.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(o=>{this.path=qS(o,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Bt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?6:o||r?5:void 0:void 0)??t.timestampFormat.default}var _l=w(()=>{u()});var VS,mI,Us,zS=w(()=>{u();$e();Ft();VS=T(wt()),mI=T(Et());Go();_l();Us=class extends bt{settings;constructor(t){super(),this.settings=t}read(t,r){let n=V.of(t);if(n.isListSchema())return Aa(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??VS.fromBase64)(r);if(n.isTimestampSchema())switch(Bt(n,this.settings)){case 5:return MS(r);case 6:return FS(r);case 7:return zo(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=r;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=_t.from(o)),o}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Me(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??mI.toUtf8)((this.serdeContext?.base64Decoder??VS.fromBase64)(t))}}});var bl,Hs,hI=w(()=>{u();$e();bl=T(Et());Go();zS();Hs=class extends bt{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new Us(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=V.of(t),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??bl.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(s.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??bl.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var GS,xa,WS=w(()=>{u();$e();Ft();GS=T(wt());Go();_l();xa=class extends bt{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=V.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Bt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=_a(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??GS.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:OS(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=_t.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??GS.toBase64)(o.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,Zt.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var qs,gI=w(()=>{u();$e();WS();qs=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new xa(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=V.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var yI={};ze(yI,{FromStringShapeDeserializer:()=>Us,HttpBindingProtocol:()=>Ls,HttpInterceptingShapeDeserializer:()=>Hs,HttpInterceptingShapeSerializer:()=>qs,HttpProtocol:()=>Fs,RequestBuilder:()=>Rl,RpcProtocol:()=>en,SerdeContext:()=>bt,ToStringShapeSerializer:()=>xa,collectBody:()=>Jt,determineTimestampFormat:()=>Bt,extendedEncodeURIComponent:()=>Ar,requestBuilder:()=>jS,resolvedPath:()=>qS});var Lt=w(()=>{u();nl();sl();uI();wl();dI();pI();BS();zS();hI();gI();WS();_l();Go()});var SI=w(()=>{u();Lt()});function HK(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var EI=w(()=>{u()});var KS,wI=w(()=>{u();KS=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var RI,YS,XS,_I=w(()=>{u();RI=T(ke()),YS=T(An()),XS=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=RI.HttpRequest.clone(t);if(n.in===YS.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===YS.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var bI,QS,TI=w(()=>{u();bI=T(ke()),QS=class{async sign(t,r,n){let s=bI.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var JS,CI=w(()=>{u();JS=class{async sign(t,r,n){return t}}});var AI=w(()=>{u();_I();TI();CI()});var xI,qK,ZS,Tl,eE,II=w(()=>{u();xI=e=>function(r){return Tl(r)&&r.expiration.getTime()-Date.now()<e},qK=3e5,ZS=xI(3e5),Tl=e=>e.expiration!==void 0,eE=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,i,a=!1,c=async l=>{o||(o=n(l));try{s=await o,i=!0,a=!1}finally{o=void 0}return s};return t===void 0?async l=>((!i||l?.forceRefresh)&&(s=await c(l)),s):async l=>((!i||l?.forceRefresh)&&(s=await c(l)),a?s:r(s)?(t(s)&&await c(l),s):(a=!0,s))}});var vI=w(()=>{u();wI();AI();II()});var Wo={};ze(Wo,{DefaultIdentityProviderConfig:()=>KS,EXPIRATION_MS:()=>qK,HttpApiKeyAuthSigner:()=>XS,HttpBearerAuthSigner:()=>QS,NoAuthSigner:()=>JS,createIsIdentityExpiredFunction:()=>xI,createPaginator:()=>z0,doesIdentityRequireRefresh:()=>Tl,getHttpAuthSchemeEndpointRuleSetPlugin:()=>S5,getHttpAuthSchemePlugin:()=>R5,getHttpSigningPlugin:()=>T5,getSmithyContext:()=>m5,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>v0,httpAuthSchemeMiddleware:()=>da,httpAuthSchemeMiddlewareOptions:()=>M0,httpSigningMiddleware:()=>Dy,httpSigningMiddlewareOptions:()=>q0,isIdentityExpired:()=>ZS,memoizeIdentityProvider:()=>eE,normalizeProvider:()=>In,requestBuilder:()=>jS,setFeature:()=>HK});var Nn=w(()=>{u();T0();L0();j0();V0();G0();SI();EI();vI()});var va=I(Bs=>{"use strict";u();var rE=An(),nE=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:i,done:a}=s.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(t[s]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}},BK=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),PI=e=>BK.test(e)||e.startsWith("[")&&e.endsWith("]"),jK=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),oE=(e,t=!1)=>{if(!t)return jK.test(e);let r=e.split(".");for(let n of r)if(!oE(n))return!1;return!0},sE={},Ia="endpoints";function On(e){return typeof e!="object"||e==null?e:"ref"in e?`$${On(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(On).join(", ")})`:JSON.stringify(e,null,2)}var at=class extends Error{constructor(t){super(t),this.name="EndpointError"}},VK=(e,t)=>e===t,zK=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new at(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new at(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r},NI=(e,t)=>zK(t).reduce((r,n)=>{if(typeof r!="object")throw new at(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),GK=e=>e!=null,WK=e=>!e,tE={[rE.EndpointURLScheme.HTTP]:80,[rE.EndpointURLScheme.HTTPS]:443},KK=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:p,protocol:S="",path:R="",query:_={}}=e,C=new URL(`${S}//${m}${p?`:${p}`:""}${R}`);return C.search=Object.entries(_).map(([x,D])=>`${x}=${D}`).join("&"),C}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(rE.EndpointURLScheme).includes(c))return null;let l=PI(s),f=r.includes(`${n}:${tE[c]}`)||typeof e=="string"&&e.includes(`${n}:${tE[c]}`),d=`${n}${f?`:${tE[c]}`:""}`;return{scheme:c,authority:d,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},YK=(e,t)=>e===t,XK=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),QK=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),JK={booleanEquals:VK,getAttr:NI,isSet:GK,isValidHostLabel:oE,not:WK,parseURL:KK,stringEquals:YK,substring:XK,uriEncode:QK},OI=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){r.push(e.slice(s));break}r.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(NI(n[c],l))}else r.push(n[a]);s=i+1}return r.join("")},ZK=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Cl=(e,t,r)=>{if(typeof e=="string")return OI(e,r);if(e.fn)return $I.callFunction(e,r);if(e.ref)return ZK(e,r);throw new at(`'${t}': ${String(e)} is not a string, function or reference.`)},DI=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:$I.evaluateExpression(o,"arg",r)),s=e.split(".");return s[0]in sE&&s[1]!=null?sE[s[0]][s[1]](...n):JK[e](...n)},$I={evaluateExpression:Cl,callFunction:DI},e9=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new at(`'${e}' is already defined in Reference Record.`);let n=DI(t,r);return r.logger?.debug?.(`${Ia} evaluateCondition: ${On(t)} = ${On(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},iE=(e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:o}=e9(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};o&&(r[o.name]=o.value,t.logger?.debug?.(`${Ia} assign: ${o.name} := ${On(o.value)}`))}return{result:!0,referenceRecord:r}},t9=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=Cl(o,"Header value entry",t);if(typeof i!="string")throw new at(`Header '${n}' value '${i}' is not a string`);return i})}),{}),kI=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:FI.getEndpointProperty(s,t)}),{}),MI=(e,t)=>{if(Array.isArray(e))return e.map(r=>MI(r,t));switch(typeof e){case"string":return OI(e,t);case"object":if(e===null)throw new at(`Unexpected endpoint property: ${e}`);return FI.getEndpointProperties(e,t);case"boolean":return e;default:throw new at(`Unexpected endpoint property type: ${typeof e}`)}},FI={getEndpointProperty:MI,getEndpointProperties:kI},r9=(e,t)=>{let r=Cl(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new at(`Endpoint URL must be a string, got ${typeof r}`)},n9=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:o}=iE(r,t);if(!s)return;let i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${Ia} Resolving endpoint from template: ${On(n)}`),{...l!=null&&{headers:t9(l,i)},...c!=null&&{properties:kI(c,i)},url:r9(a,i)}},s9=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:o}=iE(r,t);if(s)throw new at(Cl(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},LI=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=n9(r,t);if(n)return n}else if(r.type==="error")s9(r,t);else if(r.type==="tree"){let n=UI.evaluateTreeRule(r,t);if(n)return n}else throw new at(`Unknown endpoint rule: ${r}`);throw new at("Rules evaluation failed")},o9=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=iE(r,t);if(s)return UI.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},UI={evaluateRules:LI,evaluateTreeRule:o9},i9=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${Ia} Initial EndpointParams: ${On(r)}`);let i=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,f])=>[l,f.default]);if(i.length>0)for(let[l,f]of i)r[l]=r[l]??f;let a=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new at(`Missing required parameter: '${l}'`);let c=LI(o,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${Ia} Resolved endpoint: ${On(c)}`),c};Bs.EndpointCache=nE;Bs.EndpointError=at;Bs.customEndpointFunctions=sE;Bs.isIpAddress=PI;Bs.isValidHostLabel=oE;Bs.resolveEndpoint=i9});var qI=I(HI=>{"use strict";u();function a9(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}HI.parseQueryString=a9});var Ko=I(jI=>{"use strict";u();var c9=qI(),BI=e=>{if(typeof e=="string")return BI(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:o}=e,i;return o&&(i=c9.parseQueryString(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};jI.parseUrl=BI});var Al=I(pr=>{"use strict";u();var Yo=va(),u9=Ko(),zI=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!zI(r))return!1;return!0}return!(!Yo.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Yo.isIpAddress(e))},VI=":",l9="/",d9=e=>{let t=e.split(VI);if(t.length<6)return null;let[r,n,s,o,i,...a]=t;if(r!=="arn"||n===""||s===""||a.join(VI)==="")return null;let c=a.map(l=>l.split(l9)).flat();return{partition:n,service:s,region:o,accountId:i,resourceId:c}},f9=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],p9="1.1",GI={partitions:f9,version:p9},WI=GI,KI="",YI=e=>{let{partitions:t}=WI;for(let n of t){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let n of t){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},XI=(e,t="")=>{WI=e,KI=t},m9=()=>{XI(GI,"")},h9=()=>KI,QI={isVirtualHostableS3Bucket:zI,parseArn:d9,partition:YI};Yo.customEndpointFunctions.aws=QI;var g9=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>JI(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},JI=e=>u9.parseUrl(e.url);Object.defineProperty(pr,"EndpointError",{enumerable:!0,get:function(){return Yo.EndpointError}});Object.defineProperty(pr,"isIpAddress",{enumerable:!0,get:function(){return Yo.isIpAddress}});Object.defineProperty(pr,"resolveEndpoint",{enumerable:!0,get:function(){return Yo.resolveEndpoint}});pr.awsEndpointFunctions=QI;pr.getUserAgentPrefix=h9;pr.partition=YI;pr.resolveDefaultAwsRegionalEndpointsConfig=g9;pr.setPartitionInfo=XI;pr.toEndpointV1=JI;pr.useDefaultPartitionInfo=m9});var xl,ZI,ev=w(()=>{u();xl={warningEmitted:!1},ZI=e=>{e&&!xl.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(xl.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function Il(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var tv=w(()=>{u()});function rv(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var nv=w(()=>{u()});function sv(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var ov=w(()=>{u()});var Dn={};ze(Dn,{emitWarningIfUnsupportedVersion:()=>ZI,setCredentialFeature:()=>Il,setFeature:()=>rv,setTokenFeature:()=>sv,state:()=>xl});var vr=w(()=>{u();ev();tv();nv();ov()});var iv,aE,av=w(()=>{u();iv=T(ke()),aE=e=>iv.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Xo,cE=w(()=>{u();Xo=e=>new Date(Date.now()+e)});var cv,uv=w(()=>{u();cE();cv=(e,t)=>Math.abs(Xo(t).getTime()-e)>=3e5});var uE,lv=w(()=>{u();uv();uE=(e,t)=>{let r=Date.parse(e);return cv(r,t)?r-Date.now():t}});var lE=w(()=>{u();av();cE();lv()});var dv,Pa,Qo,$n,dE,fE=w(()=>{u();dv=T(ke());lE();Pa=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Qo=async e=>{let t=Pa("context",e.context),r=Pa("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],o=await Pa("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}},$n=class{async sign(t,r,n){if(!dv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Qo(n),{config:o,signer:i}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[d,m]=l.authSchemes;d?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await i.sign(t,{signingDate:Xo(o.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??aE(r.$response);if(n){let s=Pa("config",t.config),o=s.systemClockOffset;s.systemClockOffset=uE(n,s.systemClockOffset),s.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=aE(t);if(n){let s=Pa("config",r.config);s.systemClockOffset=uE(n,s.systemClockOffset)}}},dE=$n});var fv,Na,pv=w(()=>{u();fv=T(ke());lE();fE();Na=class extends $n{async sign(t,r,n){if(!fv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}=await Qo(n),f=(await s.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(t,{signingDate:Xo(s.systemClockOffset),signingRegion:f,signingService:c})}}});var pE,mv=w(()=>{u();pE=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var vl,mE=w(()=>{u();vl=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var hv,gv,yv,Sv=w(()=>{u();mv();mE();hv="AWS_AUTH_SCHEME_PREFERENCE",gv="auth_scheme_preference",yv={environmentVariableSelector:(e,t)=>{if(t?.signingName&&vl(t.signingName)in e)return["httpBearerAuth"];if(hv in e)return pE(e[hv])},configFileSelector:e=>{if(gv in e)return pE(e[gv])},default:[]}});var Tt=I(js=>{"use strict";u();var Jo=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},hE=class e extends Jo{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},gE=class e extends Jo{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},y9=(...e)=>async()=>{if(e.length===0)throw new Jo("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},S9=e=>()=>Promise.resolve(e),E9=(e,t,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return t===void 0?async c=>((!o||c?.forceRefresh)&&(n=await a()),n):async c=>((!o||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};js.CredentialsProviderError=hE;js.ProviderError=Jo;js.TokenProviderError=gE;js.chain=y9;js.fromStatic=S9;js.memoize=E9});var yE,Ev,wv,Rv=w(()=>{u();Nn();yE=T(Tt()),Ev=e=>(e.sigv4aSigningRegionSet=In(e.sigv4aSigningRegionSet),e),wv={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new yE.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new yE.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var zv=I(ne=>{"use strict";u();var kn=iS(),Vs=Et(),w9=ky(),Cv=ke(),_v=Qt(),Pl=Ky(),Av="X-Amz-Algorithm",xv="X-Amz-Credential",bE="X-Amz-Date",Iv="X-Amz-SignedHeaders",vv="X-Amz-Expires",TE="X-Amz-Signature",CE="X-Amz-Security-Token",R9="X-Amz-Region-Set",AE="authorization",xE=bE.toLowerCase(),Pv="date",Nv=[AE,xE,Pv],Ov=TE.toLowerCase(),kl="x-amz-content-sha256",Dv=CE.toLowerCase(),_9="host",$v={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},kv=/^proxy-/,Mv=/^sec-/,b9=[/^proxy-/i,/^sec-/i],Nl="AWS4-HMAC-SHA256",T9="AWS4-ECDSA-P256-SHA256",Fv="AWS4-HMAC-SHA256-PAYLOAD",Lv="UNSIGNED-PAYLOAD",Uv=50,IE="aws4_request",Hv=3600*24*7,Zo={},Ol=[],Dl=(e,t,r)=>`${e}/${t}/${r}/${IE}`,qv=async(e,t,r,n,s)=>{let o=await bv(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${s}:${kn.toHex(o)}:${t.sessionToken}`;if(i in Zo)return Zo[i];for(Ol.push(i);Ol.length>Uv;)delete Zo[Ol.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,IE])a=await bv(e,a,c);return Zo[i]=a},C9=()=>{Ol.length=0,Object.keys(Zo).forEach(e=>{delete Zo[e]})},bv=(e,t,r)=>{let n=new e(t);return n.update(Vs.toUint8Array(r)),n.digest()},SE=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in $v||t?.has(o)||kv.test(o)||Mv.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},$l=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===kl)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||w9.isArrayBuffer(t)){let n=new r;return n.update(Vs.toUint8Array(t)),kn.toHex(await n.digest())}return Lv},EE=class{format(t){let r=[];for(let o of Object.keys(t)){let i=Vs.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":let a=Vs.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(wE.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!A9.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(kn.fromHex(t.value.replace(/\-/g,"")),1),d}}},A9=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,wE=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&Tv(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Tv(t),parseInt(kn.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Tv(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var Bv=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},jv=(e,t={})=>{let{headers:r,query:n={}}=Cv.HttpRequest.clone(e);for(let s of Object.keys(r)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},RE=e=>{e=Cv.HttpRequest.clone(e);for(let t of Object.keys(e.headers))Nv.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},Vv=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===Ov)continue;let s=Pl.escapeUri(n);t.push(s);let o=e[n];typeof o=="string"?r[s]=`${s}=${Pl.escapeUri(o)}`:Array.isArray(o)&&(r[s]=o.slice(0).reduce((i,a)=>i.concat([`${s}=${Pl.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},x9=e=>I9(e).toISOString().replace(/\.\d{3}Z$/,"Z"),I9=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Ml=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=_v.normalizeProvider(n),this.credentialProvider=_v.normalizeProvider(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Vv(t)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let o=new this.sha256;o.update(Vs.toUint8Array(n));let i=await o.digest();return`${s}
${t}
${r}
${kn.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Pl.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=x9(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},_E=class extends Ml{headerFormatter=new EE;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:f}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let m=l??await this.regionProvider(),{longDate:p,shortDate:S}=this.formatDate(n);if(s>Hv)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let R=Dl(S,m,f??this.service),_=jv(RE(t),{unhoistableHeaders:i,hoistableHeaders:c});d.sessionToken&&(_.query[CE]=d.sessionToken),_.query[Av]=Nl,_.query[xv]=`${d.accessKeyId}/${R}`,_.query[bE]=p,_.query[vv]=s.toString(10);let C=SE(_,o,a);return _.query[Iv]=this.getCanonicalHeaderList(C),_.query[TE]=await this.getSignature(p,R,this.getSigningKey(d,m,S,f),this.createCanonicalRequest(_,C,await $l(t,this.sha256))),_}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(n),f=Dl(c,a,i??this.service),d=await $l({headers:{},body:r},this.sha256),m=new this.sha256;m.update(t);let p=kn.toHex(await m.digest()),S=[Fv,l,f,s,p,d].join(`
`);return this.signString(S,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(o,i,a,s));return c.update(Vs.toUint8Array(t)),kn.toHex(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),l=RE(t),{longDate:f,shortDate:d}=this.formatDate(r),m=Dl(d,c,i??this.service);l.headers[xE]=f,a.sessionToken&&(l.headers[Dv]=a.sessionToken);let p=await $l(l,this.sha256);!Bv(kl,l.headers)&&this.applyChecksum&&(l.headers[kl]=p);let S=SE(l,s,n),R=await this.getSignature(f,m,this.getSigningKey(a,c,d,i),this.createCanonicalRequest(l,S,p));return l.headers[AE]=`${Nl} Credential=${a.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(S)}, Signature=${R}`,l}async getSignature(t,r,n,s){let o=await this.createStringToSign(t,r,s,Nl),i=new this.sha256(await n);return i.update(Vs.toUint8Array(o)),kn.toHex(await i.digest())}getSigningKey(t,r,n,s){return qv(this.sha256,t,n,r,s||this.service)}},v9={SignatureV4a:null};ne.ALGORITHM_IDENTIFIER=Nl;ne.ALGORITHM_IDENTIFIER_V4A=T9;ne.ALGORITHM_QUERY_PARAM=Av;ne.ALWAYS_UNSIGNABLE_HEADERS=$v;ne.AMZ_DATE_HEADER=xE;ne.AMZ_DATE_QUERY_PARAM=bE;ne.AUTH_HEADER=AE;ne.CREDENTIAL_QUERY_PARAM=xv;ne.DATE_HEADER=Pv;ne.EVENT_ALGORITHM_IDENTIFIER=Fv;ne.EXPIRES_QUERY_PARAM=vv;ne.GENERATED_HEADERS=Nv;ne.HOST_HEADER=_9;ne.KEY_TYPE_IDENTIFIER=IE;ne.MAX_CACHE_SIZE=Uv;ne.MAX_PRESIGNED_TTL=Hv;ne.PROXY_HEADER_PATTERN=kv;ne.REGION_SET_PARAM=R9;ne.SEC_HEADER_PATTERN=Mv;ne.SHA256_HEADER=kl;ne.SIGNATURE_HEADER=Ov;ne.SIGNATURE_QUERY_PARAM=TE;ne.SIGNED_HEADERS_QUERY_PARAM=Iv;ne.SignatureV4=_E;ne.SignatureV4Base=Ml;ne.TOKEN_HEADER=Dv;ne.TOKEN_QUERY_PARAM=CE;ne.UNSIGNABLE_PATTERNS=b9;ne.UNSIGNED_PAYLOAD=Lv;ne.clearCredentialCache=C9;ne.createScope=Dl;ne.getCanonicalHeaders=SE;ne.getCanonicalQuery=Vv;ne.getPayloadHash=$l;ne.getSigningKey=qv;ne.hasHeader=Bv;ne.moveHeadersToQuery=jv;ne.prepareRequest=RE;ne.signatureV4aContainer=v9});function P9(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=eE(t,ZS,Tl):r?n=In(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function N9(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var vE,PE,Gv,Wv=w(()=>{u();vr();Nn();vE=T(zv()),PE=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let f=P9(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),d=N9(e,f);r&&!d.attributed?(n=async m=>d(m).then(p=>Il(p,"CREDENTIALS_CODE","e")),n.memoized=d.memoized,n.configBound=d.configBound,n.attributed=!0):n=d},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=In(e.signer):e.regionInfoProvider?a=()=>In(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,f])=>{let{signingRegion:d,signingService:m}=l;e.signingRegion=e.signingRegion||d||f,e.signingName=e.signingName||m||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},S=e.signerConstructor||vE.SignatureV4;return new S(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await In(e.region)(),properties:{}},l);let f=l.signingRegion,d=l.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||d||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},p=e.signerConstructor||vE.SignatureV4;return new p(m)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:a})},Gv=PE});var Kv=w(()=>{u();fE();pv();Sv();Rv();Wv()});var Yv={};ze(Yv,{AWSSDKSigV4Signer:()=>dE,AwsSdkSigV4ASigner:()=>Na,AwsSdkSigV4Signer:()=>$n,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>yv,NODE_SIGV4A_CONFIG_OPTIONS:()=>wv,getBearerTokenEnvKey:()=>vl,resolveAWSSDKSigV4Config:()=>Gv,resolveAwsSdkSigV4AConfig:()=>Ev,resolveAwsSdkSigV4Config:()=>PE,validateSigningProperties:()=>Qo});var NE=w(()=>{u();Kv();mE()});function Mn(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Fl(e){return e[OE]=!0,e}var OE,Ll=w(()=>{u();OE=Symbol("@smithy/core/cbor::tagSymbol")});function Jv(e){xe=e,rn=new DataView(xe.buffer,xe.byteOffset,xe.byteLength)}function Pr(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(xe[e]&224)>>5,n=xe[e]&31;switch(r){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let i=eP[n],a=i+1;if(o=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let c=e+1;i===1?s=xe[c]:i===2?s=rn.getUint16(c):i===4?s=rn.getUint32(c):s=rn.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return oe=o,DE(s);if(r===1){let i;return typeof s=="bigint"?i=BigInt(-1)-s:i=-1-s,oe=o,DE(i)}else if(n===2||n===3){let i=ka(e+o,t),a=BigInt(0),c=e+o+oe;for(let l=c;l<c+i;++l)a=a<<BigInt(8)|BigInt(xe[l]);return oe=o+oe+i,n===3?-a-BigInt(1):a}else if(n===4){let i=Pr(e+o,t),[a,c]=i,l=c<0?-1:1,f="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(c)),d,m=c<0?"-":"";return d=a===0?f:f.slice(0,f.length+a)+"."+f.slice(a),d=d.replace(/^0+/g,""),d===""&&(d="0"),d[0]==="."&&(d="0"+d),d=m+d,oe=o+oe,US(d)}else{let i=Pr(e+o,t);return oe=o+oe,Fl({tag:DE(s),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return L9(e,t);case 5:return j9(e,t);case 4:return q9(e,t);case 2:return U9(e,t)}else switch(r){case 3:return F9(e,t);case 5:return B9(e,t);case 4:return H9(e,t);case 2:return UE(e,t)}default:return V9(e,t)}}function Zv(e,t,r){return $9&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):Xv?Xv.decode(e.subarray(t,r)):(0,Qv.toUtf8)(e.subarray(t,r))}function k9(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function M9(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,o=r===0?1:-1,i,a;if(n===0){if(s===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return s===0?o*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=s/1024,o*(i*a)}function ka(e,t){let r=xe[e]&31;if(r<24)return oe=1,r;if(r===24||r===25||r===26||r===27){let n=eP[r];if(oe=n+1,t-e<oe)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?xe[s]:n===2?rn.getUint16(s):n===4?rn.getUint32(s):k9(rn.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function F9(e,t){let r=ka(e,t),n=oe;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=Zv(xe,e,e+r);return oe=n+r,s}function L9(e,t){e+=1;let r=[];for(let n=e;e<t;){if(xe[e]===255){let c=Mn(r.length);return c.set(r,0),oe=e-n+2,Zv(c,0,c.length)}let s=(xe[e]&224)>>5,o=xe[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=UE(e,t);e+=oe;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function UE(e,t){let r=ka(e,t),n=oe;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=xe.subarray(e,e+r);return oe=n+r,s}function U9(e,t){e+=1;let r=[];for(let n=e;e<t;){if(xe[e]===255){let c=Mn(r.length);return c.set(r,0),oe=e-n+2,c}let s=(xe[e]&224)>>5,o=xe[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=UE(e,t);e+=oe;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function H9(e,t){let r=ka(e,t),n=oe;e+=n;let s=e,o=Array(r);for(let i=0;i<r;++i){let a=Pr(e,t),c=oe;o[i]=a,e+=c}return oe=n+(e-s),o}function q9(e,t){e+=1;let r=[];for(let n=e;e<t;){if(xe[e]===255)return oe=e-n+2,r;let s=Pr(e,t);e+=oe,r.push(s)}throw new Error("expected break marker.")}function B9(e,t){let r=ka(e,t),n=oe;e+=n;let s=e,o={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(xe[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=Pr(e,t);e+=oe;let l=Pr(e,t);e+=oe,o[c]=l}return oe=n+(e-s),o}function j9(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(xe[e]===255)return oe=e-r+2,n;let s=(xe[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Pr(e,t);e+=oe;let i=Pr(e,t);e+=oe,n[o]=i}throw new Error("expected break marker.")}function V9(e,t){let r=xe[e]&31;switch(r){case 21:case 20:return oe=1,r===21;case 22:return oe=1,null;case 23:return oe=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return oe=3,M9(xe[e+1],xe[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return oe=5,rn.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return oe=9,rn.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function DE(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var Qv,D9,$9,xe,rn,Xv,oe,eP,tP=w(()=>{u();Ft();Qv=T(Et());Ll();D9=typeof TextDecoder<"u",$9=typeof Buffer<"u",xe=Mn(0),rn=new DataView(xe.buffer,xe.byteOffset,xe.byteLength),Xv=D9?new TextDecoder:null,oe=0;eP={24:1,25:2,26:4,27:8}});function qE(e){J.byteLength-W<e&&(W<16e6?Hl(Math.max(J.byteLength*4,J.byteLength+e)):Hl(J.byteLength+e+16e6))}function BE(){let e=Mn(W);return e.set(J.subarray(0,W),0),W=0,e}function Hl(e){let t=J;J=Mn(e),t&&(t.copy?t.copy(J,0,0,t.byteLength):J.set(t,0)),on=new DataView(J.buffer,J.byteOffset,J.byteLength)}function sn(e,t){t<24?J[W++]=e<<5|t:t<256?(J[W++]=e<<5|24,J[W++]=t):t<65536?(J[W++]=e<<5|25,on.setUint16(W,t),W+=2):t<2**32?(J[W++]=e<<5|26,on.setUint32(W,t),W+=4):(J[W++]=e<<5|27,on.setBigUint64(W,typeof t=="bigint"?t:BigInt(t)),W+=8)}function sP(e){let t=[e];for(;t.length;){let r=t.pop();if(qE(typeof r=="string"?r.length*4:64),typeof r=="string"){if(rP)sn(3,Buffer.byteLength(r)),W+=J.write(r,W);else{let n=(0,nP.fromUtf8)(r);sn(3,n.byteLength),J.set(n,W),W+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,o=n?r:-r-1;o<24?J[W++]=s<<5|o:o<256?(J[W++]=s<<5|24,J[W++]=o):o<65536?(J[W++]=s<<5|25,J[W++]=o>>8,J[W++]=o):o<4294967296?(J[W++]=s<<5|26,on.setUint32(W,o),W+=4):(J[W++]=s<<5|27,on.setBigUint64(W,BigInt(o)),W+=8);continue}J[W++]=251,on.setFloat64(W,r),W+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,o=n?r:-r-BigInt(1),i=Number(o);if(i<24)J[W++]=s<<5|i;else if(i<256)J[W++]=s<<5|24,J[W++]=i;else if(i<65536)J[W++]=s<<5|25,J[W++]=i>>8,J[W++]=i&255;else if(i<4294967296)J[W++]=s<<5|26,on.setUint32(W,i),W+=4;else if(o<BigInt("18446744073709551616"))J[W++]=s<<5|27,on.setBigUint64(W,o),W+=8;else{let a=o.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),l=o,f=0;for(;c.byteLength-++f>=0;)c[c.byteLength-f]=Number(l&BigInt(255)),l>>=BigInt(8);qE(c.byteLength*2),J[W++]=n?194:195,rP?sn(2,Buffer.byteLength(c)):sn(2,c.byteLength),J.set(c,W),W+=c.byteLength}continue}else if(r===null){J[W++]=246;continue}else if(typeof r=="boolean"){J[W++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);sn(4,r.length);continue}else if(typeof r.byteLength=="number"){qE(r.length*2),sn(2,r.length),J.set(r,W),W+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Me){let s=r.string.indexOf("."),o=s===-1?0:s-r.string.length+1,i=BigInt(r.string.replace(".",""));J[W++]=196,t.push(i),t.push(o),sn(4,2);continue}if(r[OE])if("tag"in r&&"value"in r){t.push(r.value),sn(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let o=n[s];t.push(r[o]),t.push(o)}sn(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var nP,rP,z9,J,on,W,oP=w(()=>{u();Ft();nP=T(Et());Ll();rP=typeof Buffer<"u",z9=2048,J=Mn(z9),on=new DataView(J.buffer,J.byteOffset,J.byteLength),W=0});var jE,iP=w(()=>{u();tP();oP();jE={deserialize(e){return Jv(e),Pr(0,e.length)},serialize(e){try{return sP(e),BE()}catch(t){throw BE(),t}},resizeEncodingBuffer(e){Hl(e)}}});var ql,Bl,jl=w(()=>{u();Ll();ql=e=>Fl({tag:1,value:e.getTime()/1e3}),Bl=(e,t)=>{let r=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var GE,Vl,VE,zE,WE=w(()=>{u();Lt();$e();Ft();GE=T(wt());iP();jl();Vl=class extends bt{createSerializer(){let t=new VE;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new zE;return t.setSerdeContext(this.serdeContext),t}},VE=class extends bt{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=V.of(t);if(r==null)return n.isIdempotencyToken()?(0,Zt.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??GE.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?ql(new Date(Number(r)/1e3|0)):ql(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let i=!!n.getMergedTraits().sparse,a=[],c=0;for(let l of s){let f=this.serialize(n.getValueSchema(),l);(f!=null||i)&&(a[c++]=f)}return a}if(s instanceof Date)return ql(s);let o={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let c=this.serialize(n.getValueSchema(),s[a]);(c!=null||i)&&(o[a]=c)}}else if(n.isStructSchema()){for(let[a,c]of n.structIterator()){let l=this.serialize(c,s[a]);l!=null&&(o[a]=l)}if(n.isUnionSchema()&&Array.isArray(s.$unknown)){let[a,c]=s.$unknown;o[a]=c}}else if(n.isDocumentSchema())for(let i of Object.keys(s))o[i]=this.serialize(n.getValueSchema(),s[i]);return o}return r}flush(){let t=jE.serialize(this.value);return this.value=void 0,t}},zE=class extends bt{read(t,r){let n=jE.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=V.of(t);if(n.isTimestampSchema()){if(typeof r=="number")return zo(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return zo(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??GE.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let o=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let l=this.readValue(i,c);(l!=null||a)&&o.push(l)}return o}let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(i,r[a]);(c!=null||o)&&(s[a]=c)}}else if(n.isStructSchema()){let o=n.isUnionSchema(),i;o&&(i=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,c]of n.structIterator())o&&i.delete(a),r[a]!=null&&(s[a]=this.readValue(c,r[a]));if(o&&i?.size===1&&Object.keys(s).length===0){let a=i.values().next().value;s.$unknown=[a,r[a]]}}return s}else return r}}});var aP,zl,cP=w(()=>{u();Lt();$e();aP=T(Qt());WE();jl();zl=class extends en{codec=new Vl;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),fr(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:i}=(0,aP.getSmithyContext)(n),a=`/service/${o}/operation/${i}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=Bl(n,s)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let c={$metadata:o,$fault:n.statusCode<=500?"client":"server"},l=Ye.for(a),f;try{f=l.getSchema(i)}catch{s.Message&&(s.message=s.Message);let C=Ye.for("smithy.ts.sdk.synthetic."+a),x=C.getBaseException();if(x){let D=C.getErrorCtor(x);throw Object.assign(new D({name:i}),c,s)}throw Object.assign(new Error(i),c,s)}let d=V.of(f),m=l.getErrorCtor(f),p=s.message??s.Message??"Unknown",S=new m(p),R={};for(let[_,C]of d.structIterator())R[_]=this.deserializer.readValue(C,s[_]);throw Object.assign(S,c,{$fault:d.getMergedTraits().error,message:p},R)}getDefaultContentType(){return"application/cbor"}}});var uP=w(()=>{u();jl();cP();WE()});var pP=I(fP=>{"use strict";u();var zs=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},Hn=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,KE=()=>{let e=[],t=[],r=!1,n=new Set,s=d=>d.sort((m,p)=>lP[p.step]-lP[m.step]||dP[p.priority||"normal"]-dP[m.priority||"normal"]),o=d=>{let m=!1,p=S=>{let R=zs(S.name,S.aliases);if(R.includes(d)){m=!0;for(let _ of R)n.delete(_);return!1}return!0};return e=e.filter(p),t=t.filter(p),m},i=d=>{let m=!1,p=S=>{if(S.middleware===d){m=!0;for(let R of zs(S.name,S.aliases))n.delete(R);return!1}return!0};return e=e.filter(p),t=t.filter(p),m},a=d=>(e.forEach(m=>{d.add(m.middleware,{...m})}),t.forEach(m=>{d.addRelativeTo(m.middleware,{...m})}),d.identifyOnResolve?.(f.identifyOnResolve()),d),c=d=>{let m=[];return d.before.forEach(p=>{p.before.length===0&&p.after.length===0?m.push(p):m.push(...c(p))}),m.push(d),d.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?m.push(p):m.push(...c(p))}),m},l=(d=!1)=>{let m=[],p=[],S={};return e.forEach(_=>{let C={..._,before:[],after:[]};for(let x of zs(C.name,C.aliases))S[x]=C;m.push(C)}),t.forEach(_=>{let C={..._,before:[],after:[]};for(let x of zs(C.name,C.aliases))S[x]=C;p.push(C)}),p.forEach(_=>{if(_.toMiddleware){let C=S[_.toMiddleware];if(C===void 0){if(d)return;throw new Error(`${_.toMiddleware} is not found when adding ${Hn(_.name,_.aliases)} middleware ${_.relation} ${_.toMiddleware}`)}_.relation==="after"&&C.after.push(_),_.relation==="before"&&C.before.push(_)}}),s(m).map(c).reduce((_,C)=>(_.push(...C),_),[])},f={add:(d,m={})=>{let{name:p,override:S,aliases:R}=m,_={step:"initialize",priority:"normal",middleware:d,...m},C=zs(p,R);if(C.length>0){if(C.some(x=>n.has(x))){if(!S)throw new Error(`Duplicate middleware name '${Hn(p,R)}'`);for(let x of C){let D=e.findIndex(M=>M.name===x||M.aliases?.some(j=>j===x));if(D===-1)continue;let k=e[D];if(k.step!==_.step||_.priority!==k.priority)throw new Error(`"${Hn(k.name,k.aliases)}" middleware with ${k.priority} priority in ${k.step} step cannot be overridden by "${Hn(p,R)}" middleware with ${_.priority} priority in ${_.step} step.`);e.splice(D,1)}}for(let x of C)n.add(x)}e.push(_)},addRelativeTo:(d,m)=>{let{name:p,override:S,aliases:R}=m,_={middleware:d,...m},C=zs(p,R);if(C.length>0){if(C.some(x=>n.has(x))){if(!S)throw new Error(`Duplicate middleware name '${Hn(p,R)}'`);for(let x of C){let D=t.findIndex(M=>M.name===x||M.aliases?.some(j=>j===x));if(D===-1)continue;let k=t[D];if(k.toMiddleware!==_.toMiddleware||k.relation!==_.relation)throw new Error(`"${Hn(k.name,k.aliases)}" middleware ${k.relation} "${k.toMiddleware}" middleware cannot be overridden by "${Hn(p,R)}" middleware ${_.relation} "${_.toMiddleware}" middleware.`);t.splice(D,1)}}for(let x of C)n.add(x)}t.push(_)},clone:()=>a(KE()),use:d=>{d.applyToStack(f)},remove:d=>typeof d=="string"?o(d):i(d),removeByTag:d=>{let m=!1,p=S=>{let{tags:R,name:_,aliases:C}=S;if(R&&R.includes(d)){let x=zs(_,C);for(let D of x)n.delete(D);return m=!0,!1}return!0};return e=e.filter(p),t=t.filter(p),m},concat:d=>{let m=a(KE());return m.use(d),m.identifyOnResolve(r||m.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),m},applyToStack:a,identify:()=>l(!0).map(d=>{let m=d.step??d.relation+" "+d.toMiddleware;return Hn(d.name,d.aliases)+" - "+m}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,m)=>{for(let p of l().map(S=>S.middleware).reverse())d=p(d,m);return r&&console.log(f.identify()),d}};return f},lP={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},dP={high:3,normal:2,low:1};fP.constructStack=KE});var ct=I(Te=>{"use strict";u();var gP=pP(),nw=(Lt(),te(yI)),XE=An(),G9=($e(),te(ll)),mP=(Ft(),te(nI)),QE=class{config;middlewareStack=gP.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=s===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(t).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},YE="***SensitiveInformation***";function JE(e,t){if(t==null)return t;let r=G9.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return YE;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return YE}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return YE}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[o,i]of r.structIterator())n[o]!=null&&(s[o]=JE(i,n[o]));return s}return t}var Gl=class{middlewareStack=gP.constructStack();schema;static classBuilder(){return new ZE}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:f,CommandCtor:d}){for(let _ of s.bind(this)(d,t,r,n))this.middlewareStack.use(_);let m=t.concat(this.middlewareStack),{logger:p}=r,S={logger:p,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[XE.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...f},{requestHandler:R}=r;return m.resolve(_=>R.handle(_.request,n||{}),S)}},ZE=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Gl{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,o){let i=t._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?JE.bind(null,a):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?JE.bind(null,c):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},W9="***SensitiveInformation***",K9=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=s}},ew=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},yP=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},SP=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=X9(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw yP(i,t)},Y9=e=>({output:t,parsedBody:r,errorCode:n})=>{SP({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},X9=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Q9=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},hP=!1,J9=e=>{e&&!hP&&parseInt(e.substring(1,e.indexOf(".")))<16&&(hP=!0)},Z9=e=>{let t=[];for(let r in XE.AlgorithmId){let n=XE.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},eY=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},tY=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),rY=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},EP=e=>Object.assign(Z9(e),tY(e)),nY=EP,sY=e=>Object.assign(eY(e),rY(e)),oY=e=>Array.isArray(e)?e:[e],wP=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=wP(e[r]));return e},iY=e=>e!=null,tw=class{trace(){}debug(){}info(){}warn(){}error(){}};function RP(e,t,r){let n,s,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return s=t,o=r,uY(n,s,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}_P(n,null,o,i)}return n}var aY=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},cY=(e,t)=>{let r={};for(let n in t)_P(r,e,t,n);return r},uY=(e,t,r)=>RP(e,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[t,o()]:n[s]=[t,o],n),{})),_P=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=lY,c=dY,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=i:c&&(e[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[n]=o)}},lY=e=>e!=null,dY=e=>e,fY=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},pY=e=>e.toISOString().replace(".000Z","Z"),rw=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(rw);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=rw(e[r]));return t}return e};Object.defineProperty(Te,"collectBody",{enumerable:!0,get:function(){return nw.collectBody}});Object.defineProperty(Te,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return nw.extendedEncodeURIComponent}});Object.defineProperty(Te,"resolvedPath",{enumerable:!0,get:function(){return nw.resolvedPath}});Te.Client=QE;Te.Command=Gl;Te.NoOpLogger=tw;Te.SENSITIVE_STRING=W9;Te.ServiceException=ew;Te._json=rw;Te.convertMap=aY;Te.createAggregatedClient=K9;Te.decorateServiceException=yP;Te.emitWarningIfUnsupportedVersion=J9;Te.getArrayIfSingleItem=oY;Te.getDefaultClientConfiguration=nY;Te.getDefaultExtensionConfiguration=EP;Te.getValueFromTextNode=wP;Te.isSerializableHeaderValue=iY;Te.loadConfigsForDefaultMode=Q9;Te.map=RP;Te.resolveDefaultRuntimeConfig=sY;Te.serializeDateTime=pY;Te.serializeFloat=fY;Te.take=cY;Te.throwDefaultError=SP;Te.withBaseException=Y9;Object.keys(mP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Te,e)&&Object.defineProperty(Te,e,{enumerable:!0,get:function(){return mP[e]}})})});var sw,er,ti=w(()=>{u();$e();sw=T(ct()),er=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:f,httpPrefixHeaders:d}=i.getMergedTraits();return!a&&!c&&!l&&!f&&d===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,o,i){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:o,$fault:n.statusCode<500?"client":"server"},f=Ye.for(a);try{return{errorSchema:i?.(f,c)??f.getSchema(t),errorMetadata:l}}catch{s.message=s.message??s.Message??"UnknownError";let m=Ye.for("smithy.ts.sdk.synthetic."+a),p=m.getBaseException();if(p){let S=m.getErrorCtor(p)??Error;throw this.decorateServiceException(Object.assign(new S({name:c}),l),s)}throw this.decorateServiceException(Object.assign(new Error(c),l),s)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,s=(0,sw.decorateServiceException)(t,r);n&&(s.message=n),s.Error={...s.Error,Type:s.Error.Type,Code:s.Error.Code,Message:s.Error.message??s.Error.Message??n};let o=s.$metadata.requestId;return o&&(s.RequestId=o),s}return(0,sw.decorateServiceException)(t,r)}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,o]=n.split(";"),i=Object.entries(t),a={Code:s,Type:o};Object.assign(t,a);for(let[c,l]of i)a[c==="message"?"Message":c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(s=>V.of(s).getMergedTraits().awsQueryError?.[0]===r)}}}});var Wl,bP=w(()=>{u();uP();$e();ti();Wl=class extends zl{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new er(this.awsQueryCompatible)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=(()=>{let S=n.headers["x-amzn-query-error"];return S&&this.awsQueryCompatible?S.split(";")[0]:Bl(n,s)??"Unknown"})(),{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=V.of(a),f=s.message??s.Message??"Unknown",d=Ye.for(a[1]).getErrorCtor(a)??Error,m=new d(f),p={};for(let[S,R]of l.structIterator())s[S]!=null&&(p[S]=this.deserializer.readValue(R,s[S]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,p),this.mixin.decorateServiceException(Object.assign(m,c,{$fault:l.getMergedTraits().error,message:f},p),s)}}});var TP,CP,AP,xP=w(()=>{u();TP=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},CP=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},AP=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var ut,qn=w(()=>{u();ut=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function*ri(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let n=0;n<r[4].length;++n){let s=r[4][n],o=r[5][n],i=new V([o,0],s);!(s in t)&&!i.isIdempotencyToken()||(yield[s,i])}}function*IP(e,t,r){if(e.isUnitSchema())return;let n=e.getSchema(),s=Object.keys(t).filter(o=>o!=="__type").length;for(let o=0;o<n[4].length&&s!==0;++o){let i=n[4][o],a=n[5][o],c=new V([a,0],i),l=i;r&&(l=c.getMergedTraits()[r]??i),l in t&&(yield[i,c],s-=1)}}var Ma=w(()=>{u();$e()});var ni,ow=w(()=>{u();ni=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function vP(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Me(n,"bigDecimal"):BigInt(n)}return t}var PP=w(()=>{u();Ft()});var NP,OP,Kl,iw=w(()=>{u();NP=T(ct()),OP=T(Et()),Kl=(e,t)=>(0,NP.collectBody)(e,t).then(r=>(t?.utf8Encoder??OP.toUtf8)(r))});var Fa,DP,si,La=w(()=>{u();iw();Fa=(e,t)=>Kl(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),DP=async(e,t)=>{let r=await Fa(e,t);return r.message=r.message??r.Message,r},si=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return n(t[o]);if(t.__type!==void 0)return n(t.__type)}}});var $P,oi,aw=w(()=>{u();Lt();$e();Ft();$P=T(wt());qn();Ma();ow();PP();La();oi=class extends ut{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,vP):await Fa(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=V.of(t);if(n){if(s.isStructSchema()){let i=s.isUnionSchema(),a={},c;i&&(c=new ni(r,a));for(let[l,f]of IP(s,r,this.settings.jsonName?"jsonName":!1)){let d=this.settings.jsonName?f.getMergedTraits().jsonName??l:l;i&&c.mark(d),r[d]!=null&&(a[l]=this._read(f,r[d]))}return i&&c.writeUnknown(),a}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(c||f!=null)&&(a[l]=this._read(i,f));return a}}if(s.isBlobSchema()&&typeof r=="string")return(0,$P.fromBase64)(r);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?_t.from(r):r;if(s.isTimestampSchema()&&r!=null)switch(Bt(s,this.settings)){case 5:return AS(r);case 6:return xS(r);case 7:return IS(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof Me)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new Me(i.string,i.type):new Me(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Me?i[a]=c:i[a]=this._read(s,c);return i}else return structuredClone(r);return r}}});var kP,Yl,MP=w(()=>{u();Ft();kP="\u039D",Yl=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Me){let n=`${kP+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${kP+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var cw,ii,uw=w(()=>{u();Lt();$e();Ft();cw=T(wt());qn();Ma();MP();ii=class extends ut{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=V.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=V.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new Yl;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",o=V.of(t);if(s){if(o.isStructSchema()){let i={};for(let[a,c]of ri(o,r)){let l=this._write(c,r[a],o);if(l!==void 0){let f=c.getMergedTraits().jsonName,d=this.settings.jsonName?f??a:a;i[d]=l}}if(o.isUnionSchema()&&Object.keys(i).length===0){let{$unknown:a}=r;if(Array.isArray(a)){let[c,l]=a;i[c]=this._write(15,l)}}return i}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(i,l));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(c||f!=null)&&(a[l]=this._write(i,f));return a}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??cw.toBase64)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch(Bt(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return _a(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Me&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,Zt.v4)();let i=o.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?_t.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??cw.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(s){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Me?(this.useReplacer=!0,i[a]=c):i[a]=this._write(o,c);return i}else return structuredClone(r);return r}}}});var Bn,Xl=w(()=>{u();qn();aw();uw();Bn=class extends ut{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ii(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new oi(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var jn,Ql=w(()=>{u();Lt();$e();ti();Xl();La();jn=class extends en{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=s??new Bn({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new er(this.awsQueryCompatible)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(fr(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=si(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=V.of(a),f=s.message??s.Message??"Unknown",d=Ye.for(a[1]).getErrorCtor(a)??Error,m=new d(f),p={};for(let[S,R]of l.structIterator())s[S]!=null&&(p[S]=this.codec.createDeserializer().readObject(R,s[S]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,p),this.mixin.decorateServiceException(Object.assign(m,c,{$fault:l.getMergedTraits().error,message:f},p),s)}}});var Jl,FP=w(()=>{u();Ql();Jl=class extends jn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Zl,LP=w(()=>{u();Ql();Zl=class extends jn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var ed,UP=w(()=>{u();Lt();$e();ti();Xl();La();ed=class extends Ls{serializer;deserializer;codec;mixin=new er;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Bn(r),this.serializer=new qs(this.codec.createSerializer(),r),this.deserializer=new Hs(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=V.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.body==null&&s.headers["content-type"]===this.getDefaultContentType()&&(s.body="{}"),s}async deserializeResponse(t,r,n){let s=await super.deserializeResponse(t,r,n),o=V.of(t.output);for(let[i,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(i in s)&&(s[i]=null);return s}async handleError(t,r,n,s,o){let i=si(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=V.of(a),f=s.message??s.Message??"Unknown",d=Ye.for(a[1]).getErrorCtor(a)??Error,m=new d(f);await this.deserializeHttpMessage(a,r,n,s);let p={};for(let[S,R]of l.structIterator()){let _=R.getMergedTraits().jsonName??S;p[S]=this.codec.createDeserializer().readObject(R,s[_])}throw this.mixin.decorateServiceException(Object.assign(m,c,{$fault:l.getMergedTraits().error,message:f},p),s)}getDefaultContentType(){return"application/json"}}});var HP,qP,BP=w(()=>{u();HP=T(ct()),qP=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,HP.expectUnion)(e)}});var VP=I((JAe,jP)=>{u();(()=>{"use strict";var e={d:(h,g)=>{for(var b in g)e.o(g,b)&&!e.o(h,b)&&Object.defineProperty(h,b,{enumerable:!0,get:g[b]})},o:(h,g)=>Object.prototype.hasOwnProperty.call(h,g),r:h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Tn,XMLParser:()=>PW,XMLValidator:()=>LW});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(h,g){let b=[],P=g.exec(h);for(;P;){let A=[];A.startIndex=g.lastIndex-P[0].length;let v=P.length;for(let O=0;O<v;O++)A.push(P[O]);b.push(A),P=g.exec(h)}return b}let o=function(h){return n.exec(h)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(h,g){g=Object.assign({},i,g);let b=[],P=!1,A=!1;h[0]==="\uFEFF"&&(h=h.substr(1));for(let v=0;v<h.length;v++)if(h[v]==="<"&&h[v+1]==="?"){if(v+=2,v=l(h,v),v.err)return v}else{if(h[v]!=="<"){if(c(h[v]))continue;return C("InvalidChar","char '"+h[v]+"' is not expected.",D(h,v))}{let O=v;if(v++,h[v]==="!"){v=f(h,v);continue}{let N=!1;h[v]==="/"&&(N=!0,v++);let $="";for(;v<h.length&&h[v]!==">"&&h[v]!==" "&&h[v]!=="	"&&h[v]!==`
`&&h[v]!=="\r";v++)$+=h[v];if($=$.trim(),$[$.length-1]==="/"&&($=$.substring(0,$.length-1),v--),!o($)){let Y;return Y=$.trim().length===0?"Invalid space after '<'.":"Tag '"+$+"' is an invalid name.",C("InvalidTag",Y,D(h,v))}let L=p(h,v);if(L===!1)return C("InvalidAttr","Attributes for '"+$+"' have open quote.",D(h,v));let ee=L.value;if(v=L.index,ee[ee.length-1]==="/"){let Y=v-ee.length;ee=ee.substring(0,ee.length-1);let le=R(ee,g);if(le!==!0)return C(le.err.code,le.err.msg,D(h,Y+le.err.line));P=!0}else if(N){if(!L.tagClosed)return C("InvalidTag","Closing tag '"+$+"' doesn't have proper closing.",D(h,v));if(ee.trim().length>0)return C("InvalidTag","Closing tag '"+$+"' can't have attributes or invalid starting.",D(h,O));if(b.length===0)return C("InvalidTag","Closing tag '"+$+"' has not been opened.",D(h,O));{let Y=b.pop();if($!==Y.tagName){let le=D(h,Y.tagStartPos);return C("InvalidTag","Expected closing tag '"+Y.tagName+"' (opened in line "+le.line+", col "+le.col+") instead of closing tag '"+$+"'.",D(h,O))}b.length==0&&(A=!0)}}else{let Y=R(ee,g);if(Y!==!0)return C(Y.err.code,Y.err.msg,D(h,v-ee.length+Y.err.line));if(A===!0)return C("InvalidXml","Multiple possible root nodes found.",D(h,v));g.unpairedTags.indexOf($)!==-1||b.push({tagName:$,tagStartPos:O}),P=!0}for(v++;v<h.length;v++)if(h[v]==="<"){if(h[v+1]==="!"){v++,v=f(h,v);continue}if(h[v+1]!=="?")break;if(v=l(h,++v),v.err)return v}else if(h[v]==="&"){let Y=_(h,v);if(Y==-1)return C("InvalidChar","char '&' is not expected.",D(h,v));v=Y}else if(A===!0&&!c(h[v]))return C("InvalidXml","Extra text at the end",D(h,v));h[v]==="<"&&v--}}}return P?b.length==1?C("InvalidTag","Unclosed tag '"+b[0].tagName+"'.",D(h,b[0].tagStartPos)):!(b.length>0)||C("InvalidXml","Invalid '"+JSON.stringify(b.map((v=>v.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):C("InvalidXml","Start tag expected.",1)}function c(h){return h===" "||h==="	"||h===`
`||h==="\r"}function l(h,g){let b=g;for(;g<h.length;g++)if(!(h[g]!="?"&&h[g]!=" ")){let P=h.substr(b,g-b);if(g>5&&P==="xml")return C("InvalidXml","XML declaration allowed only at the start of the document.",D(h,g));if(h[g]=="?"&&h[g+1]==">"){g++;break}}return g}function f(h,g){if(h.length>g+5&&h[g+1]==="-"&&h[g+2]==="-"){for(g+=3;g<h.length;g++)if(h[g]==="-"&&h[g+1]==="-"&&h[g+2]===">"){g+=2;break}}else if(h.length>g+8&&h[g+1]==="D"&&h[g+2]==="O"&&h[g+3]==="C"&&h[g+4]==="T"&&h[g+5]==="Y"&&h[g+6]==="P"&&h[g+7]==="E"){let b=1;for(g+=8;g<h.length;g++)if(h[g]==="<")b++;else if(h[g]===">"&&(b--,b===0))break}else if(h.length>g+9&&h[g+1]==="["&&h[g+2]==="C"&&h[g+3]==="D"&&h[g+4]==="A"&&h[g+5]==="T"&&h[g+6]==="A"&&h[g+7]==="["){for(g+=8;g<h.length;g++)if(h[g]==="]"&&h[g+1]==="]"&&h[g+2]===">"){g+=2;break}}return g}let d='"',m="'";function p(h,g){let b="",P="",A=!1;for(;g<h.length;g++){if(h[g]===d||h[g]===m)P===""?P=h[g]:P!==h[g]||(P="");else if(h[g]===">"&&P===""){A=!0;break}b+=h[g]}return P===""&&{value:b,index:g,tagClosed:A}}let S=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function R(h,g){let b=s(h,S),P={};for(let A=0;A<b.length;A++){if(b[A][1].length===0)return C("InvalidAttr","Attribute '"+b[A][2]+"' has no space in starting.",k(b[A]));if(b[A][3]!==void 0&&b[A][4]===void 0)return C("InvalidAttr","Attribute '"+b[A][2]+"' is without value.",k(b[A]));if(b[A][3]===void 0&&!g.allowBooleanAttributes)return C("InvalidAttr","boolean attribute '"+b[A][2]+"' is not allowed.",k(b[A]));let v=b[A][2];if(!x(v))return C("InvalidAttr","Attribute '"+v+"' is an invalid name.",k(b[A]));if(P.hasOwnProperty(v))return C("InvalidAttr","Attribute '"+v+"' is repeated.",k(b[A]));P[v]=1}return!0}function _(h,g){if(h[++g]===";")return-1;if(h[g]==="#")return(function(P,A){let v=/\d/;for(P[A]==="x"&&(A++,v=/[\da-fA-F]/);A<P.length;A++){if(P[A]===";")return A;if(!P[A].match(v))break}return-1})(h,++g);let b=0;for(;g<h.length;g++,b++)if(!(h[g].match(/\w/)&&b<20)){if(h[g]===";")break;return-1}return g}function C(h,g,b){return{err:{code:h,msg:g,line:b.line||b,col:b.col}}}function x(h){return o(h)}function D(h,g){let b=h.substring(0,g).split(/\r?\n/);return{line:b.length,col:b[b.length-1].length+1}}function k(h){return h.startIndex+h[1].length}let M={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(h,g){return g},attributeValueProcessor:function(h,g){return g},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(h,g,b){return h},captureMetaData:!1},j;j=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class ye{constructor(g){this.tagname=g,this.child=[],this[":@"]={}}add(g,b){g==="__proto__"&&(g="#__proto__"),this.child.push({[g]:b})}addChild(g,b){g.tagname==="__proto__"&&(g.tagname="#__proto__"),g[":@"]&&Object.keys(g[":@"]).length>0?this.child.push({[g.tagname]:g.child,":@":g[":@"]}):this.child.push({[g.tagname]:g.child}),b!==void 0&&(this.child[this.child.length-1][j]={startIndex:b})}static getMetaDataSymbol(){return j}}function U(h,g){let b={};if(h[g+3]!=="O"||h[g+4]!=="C"||h[g+5]!=="T"||h[g+6]!=="Y"||h[g+7]!=="P"||h[g+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{g+=9;let P=1,A=!1,v=!1,O="";for(;g<h.length;g++)if(h[g]!=="<"||v)if(h[g]===">"){if(v?h[g-1]==="-"&&h[g-2]==="-"&&(v=!1,P--):P--,P===0)break}else h[g]==="["?A=!0:O+=h[g];else{if(A&&$s(h,"!ENTITY",g)){let N,$;g+=7,[N,$,g]=X(h,g+1),$.indexOf("&")===-1&&(b[N]={regx:RegExp(`&${N};`,"g"),val:$})}else if(A&&$s(h,"!ELEMENT",g)){g+=8;let{index:N}=uW(h,g+1);g=N}else if(A&&$s(h,"!ATTLIST",g))g+=8;else if(A&&$s(h,"!NOTATION",g)){g+=9;let{index:N}=_e(h,g+1);g=N}else{if(!$s(h,"!--",g))throw new Error("Invalid DOCTYPE");v=!0}P++,O=""}if(P!==0)throw new Error("Unclosed DOCTYPE")}return{entities:b,i:g}}let G=(h,g)=>{for(;g<h.length&&/\s/.test(h[g]);)g++;return g};function X(h,g){g=G(h,g);let b="";for(;g<h.length&&!/\s/.test(h[g])&&h[g]!=='"'&&h[g]!=="'";)b+=h[g],g++;if(dy(b),g=G(h,g),h.substring(g,g+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(h[g]==="%")throw new Error("Parameter entities are not supported");let P="";return[g,P]=ot(h,g,"entity"),[b,P,--g]}function _e(h,g){g=G(h,g);let b="";for(;g<h.length&&!/\s/.test(h[g]);)b+=h[g],g++;dy(b),g=G(h,g);let P=h.substring(g,g+6).toUpperCase();if(P!=="SYSTEM"&&P!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${P}"`);g+=P.length,g=G(h,g);let A=null,v=null;if(P==="PUBLIC")[g,A]=ot(h,g,"publicIdentifier"),h[g=G(h,g)]!=='"'&&h[g]!=="'"||([g,v]=ot(h,g,"systemIdentifier"));else if(P==="SYSTEM"&&([g,v]=ot(h,g,"systemIdentifier"),!v))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:b,publicIdentifier:A,systemIdentifier:v,index:--g}}function ot(h,g,b){let P="",A=h[g];if(A!=='"'&&A!=="'")throw new Error(`Expected quoted string, found "${A}"`);for(g++;g<h.length&&h[g]!==A;)P+=h[g],g++;if(h[g]!==A)throw new Error(`Unterminated ${b} value`);return[++g,P]}function uW(h,g){g=G(h,g);let b="";for(;g<h.length&&!/\s/.test(h[g]);)b+=h[g],g++;if(!dy(b))throw new Error(`Invalid element name: "${b}"`);let P="";if(h[g=G(h,g)]==="E"&&$s(h,"MPTY",g))g+=4;else if(h[g]==="A"&&$s(h,"NY",g))g+=2;else{if(h[g]!=="(")throw new Error(`Invalid Element Expression, found "${h[g]}"`);for(g++;g<h.length&&h[g]!==")";)P+=h[g],g++;if(h[g]!==")")throw new Error("Unterminated content model")}return{elementName:b,contentModel:P.trim(),index:g}}function $s(h,g,b){for(let P=0;P<g.length;P++)if(g[P]!==h[b+P+1])return!1;return!0}function dy(h){if(o(h))return h;throw new Error(`Invalid entity name ${h}`)}let lW=/^[-+]?0x[a-fA-F0-9]+$/,dW=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,fW={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},pW=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function f0(h){return typeof h=="function"?h:Array.isArray(h)?g=>{for(let b of h)if(typeof b=="string"&&g===b||b instanceof RegExp&&b.test(g))return!0}:()=>!1}class mW{constructor(g){this.options=g,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(b,P)=>String.fromCodePoint(Number.parseInt(P,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(b,P)=>String.fromCodePoint(Number.parseInt(P,16))}},this.addExternalEntities=hW,this.parseXml=wW,this.parseTextData=gW,this.resolveNameSpace=yW,this.buildAttributesMap=EW,this.isItStopNode=TW,this.replaceEntitiesValue=_W,this.readStopNodeData=CW,this.saveTextToParentTag=bW,this.addChild=RW,this.ignoreAttributesFn=f0(this.options.ignoreAttributes)}}function hW(h){let g=Object.keys(h);for(let b=0;b<g.length;b++){let P=g[b];this.lastEntities[P]={regex:new RegExp("&"+P+";","g"),val:h[P]}}}function gW(h,g,b,P,A,v,O){if(h!==void 0&&(this.options.trimValues&&!P&&(h=h.trim()),h.length>0)){O||(h=this.replaceEntitiesValue(h));let N=this.options.tagValueProcessor(g,h,b,A,v);return N==null?h:typeof N!=typeof h||N!==h?N:this.options.trimValues||h.trim()===h?p0(h,this.options.parseTagValue,this.options.numberParseOptions):h}}function yW(h){if(this.options.removeNSPrefix){let g=h.split(":"),b=h.charAt(0)==="/"?"/":"";if(g[0]==="xmlns")return"";g.length===2&&(h=b+g[1])}return h}let SW=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function EW(h,g,b){if(this.options.ignoreAttributes!==!0&&typeof h=="string"){let P=s(h,SW),A=P.length,v={};for(let O=0;O<A;O++){let N=this.resolveNameSpace(P[O][1]);if(this.ignoreAttributesFn(N,g))continue;let $=P[O][4],L=this.options.attributeNamePrefix+N;if(N.length)if(this.options.transformAttributeName&&(L=this.options.transformAttributeName(L)),L==="__proto__"&&(L="#__proto__"),$!==void 0){this.options.trimValues&&($=$.trim()),$=this.replaceEntitiesValue($);let ee=this.options.attributeValueProcessor(N,$,g);v[L]=ee==null?$:typeof ee!=typeof $||ee!==$?ee:p0($,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(v[L]=!0)}if(!Object.keys(v).length)return;if(this.options.attributesGroupName){let O={};return O[this.options.attributesGroupName]=v,O}return v}}let wW=function(h){h=h.replace(/\r\n?/g,`
`);let g=new ye("!xml"),b=g,P="",A="";for(let v=0;v<h.length;v++)if(h[v]==="<")if(h[v+1]==="/"){let O=ks(h,">",v,"Closing Tag is not closed."),N=h.substring(v+2,O).trim();if(this.options.removeNSPrefix){let ee=N.indexOf(":");ee!==-1&&(N=N.substr(ee+1))}this.options.transformTagName&&(N=this.options.transformTagName(N)),b&&(P=this.saveTextToParentTag(P,b,A));let $=A.substring(A.lastIndexOf(".")+1);if(N&&this.options.unpairedTags.indexOf(N)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${N}>`);let L=0;$&&this.options.unpairedTags.indexOf($)!==-1?(L=A.lastIndexOf(".",A.lastIndexOf(".")-1),this.tagsNodeStack.pop()):L=A.lastIndexOf("."),A=A.substring(0,L),b=this.tagsNodeStack.pop(),P="",v=O}else if(h[v+1]==="?"){let O=fy(h,v,!1,"?>");if(!O)throw new Error("Pi Tag is not closed.");if(P=this.saveTextToParentTag(P,b,A),!(this.options.ignoreDeclaration&&O.tagName==="?xml"||this.options.ignorePiTags)){let N=new ye(O.tagName);N.add(this.options.textNodeName,""),O.tagName!==O.tagExp&&O.attrExpPresent&&(N[":@"]=this.buildAttributesMap(O.tagExp,A,O.tagName)),this.addChild(b,N,A,v)}v=O.closeIndex+1}else if(h.substr(v+1,3)==="!--"){let O=ks(h,"-->",v+4,"Comment is not closed.");if(this.options.commentPropName){let N=h.substring(v+4,O-2);P=this.saveTextToParentTag(P,b,A),b.add(this.options.commentPropName,[{[this.options.textNodeName]:N}])}v=O}else if(h.substr(v+1,2)==="!D"){let O=U(h,v);this.docTypeEntities=O.entities,v=O.i}else if(h.substr(v+1,2)==="!["){let O=ks(h,"]]>",v,"CDATA is not closed.")-2,N=h.substring(v+9,O);P=this.saveTextToParentTag(P,b,A);let $=this.parseTextData(N,b.tagname,A,!0,!1,!0,!0);$==null&&($=""),this.options.cdataPropName?b.add(this.options.cdataPropName,[{[this.options.textNodeName]:N}]):b.add(this.options.textNodeName,$),v=O+2}else{let O=fy(h,v,this.options.removeNSPrefix),N=O.tagName,$=O.rawTagName,L=O.tagExp,ee=O.attrExpPresent,Y=O.closeIndex;this.options.transformTagName&&(N=this.options.transformTagName(N)),b&&P&&b.tagname!=="!xml"&&(P=this.saveTextToParentTag(P,b,A,!1));let le=b;le&&this.options.unpairedTags.indexOf(le.tagname)!==-1&&(b=this.tagsNodeStack.pop(),A=A.substring(0,A.lastIndexOf("."))),N!==g.tagname&&(A+=A?"."+N:N);let be=v;if(this.isItStopNode(this.options.stopNodes,A,N)){let ge="";if(L.length>0&&L.lastIndexOf("/")===L.length-1)N[N.length-1]==="/"?(N=N.substr(0,N.length-1),A=A.substr(0,A.length-1),L=N):L=L.substr(0,L.length-1),v=O.closeIndex;else if(this.options.unpairedTags.indexOf(N)!==-1)v=O.closeIndex;else{let Cr=this.readStopNodeData(h,$,Y+1);if(!Cr)throw new Error(`Unexpected end of ${$}`);v=Cr.i,ge=Cr.tagContent}let Ke=new ye(N);N!==L&&ee&&(Ke[":@"]=this.buildAttributesMap(L,A,N)),ge&&(ge=this.parseTextData(ge,N,A,!0,ee,!0,!0)),A=A.substr(0,A.lastIndexOf(".")),Ke.add(this.options.textNodeName,ge),this.addChild(b,Ke,A,be)}else{if(L.length>0&&L.lastIndexOf("/")===L.length-1){N[N.length-1]==="/"?(N=N.substr(0,N.length-1),A=A.substr(0,A.length-1),L=N):L=L.substr(0,L.length-1),this.options.transformTagName&&(N=this.options.transformTagName(N));let ge=new ye(N);N!==L&&ee&&(ge[":@"]=this.buildAttributesMap(L,A,N)),this.addChild(b,ge,A,be),A=A.substr(0,A.lastIndexOf("."))}else{let ge=new ye(N);this.tagsNodeStack.push(b),N!==L&&ee&&(ge[":@"]=this.buildAttributesMap(L,A,N)),this.addChild(b,ge,A,be),b=ge}P="",v=Y}}else P+=h[v];return g.child};function RW(h,g,b,P){this.options.captureMetaData||(P=void 0);let A=this.options.updateTag(g.tagname,b,g[":@"]);A===!1||(typeof A=="string"&&(g.tagname=A),h.addChild(g,P))}let _W=function(h){if(this.options.processEntities){for(let g in this.docTypeEntities){let b=this.docTypeEntities[g];h=h.replace(b.regx,b.val)}for(let g in this.lastEntities){let b=this.lastEntities[g];h=h.replace(b.regex,b.val)}if(this.options.htmlEntities)for(let g in this.htmlEntities){let b=this.htmlEntities[g];h=h.replace(b.regex,b.val)}h=h.replace(this.ampEntity.regex,this.ampEntity.val)}return h};function bW(h,g,b,P){return h&&(P===void 0&&(P=g.child.length===0),(h=this.parseTextData(h,g.tagname,b,!1,!!g[":@"]&&Object.keys(g[":@"]).length!==0,P))!==void 0&&h!==""&&g.add(this.options.textNodeName,h),h=""),h}function TW(h,g,b){let P="*."+b;for(let A in h){let v=h[A];if(P===v||g===v)return!0}return!1}function ks(h,g,b,P){let A=h.indexOf(g,b);if(A===-1)throw new Error(P);return A+g.length-1}function fy(h,g,b,P=">"){let A=(function(Y,le,be=">"){let ge,Ke="";for(let Cr=le;Cr<Y.length;Cr++){let Cn=Y[Cr];if(ge)Cn===ge&&(ge="");else if(Cn==='"'||Cn==="'")ge=Cn;else if(Cn===be[0]){if(!be[1])return{data:Ke,index:Cr};if(Y[Cr+1]===be[1])return{data:Ke,index:Cr}}else Cn==="	"&&(Cn=" ");Ke+=Cn}})(h,g+1,P);if(!A)return;let v=A.data,O=A.index,N=v.search(/\s/),$=v,L=!0;N!==-1&&($=v.substring(0,N),v=v.substring(N+1).trimStart());let ee=$;if(b){let Y=$.indexOf(":");Y!==-1&&($=$.substr(Y+1),L=$!==A.data.substr(Y+1))}return{tagName:$,tagExp:v,closeIndex:O,attrExpPresent:L,rawTagName:ee}}function CW(h,g,b){let P=b,A=1;for(;b<h.length;b++)if(h[b]==="<")if(h[b+1]==="/"){let v=ks(h,">",b,`${g} is not closed`);if(h.substring(b+2,v).trim()===g&&(A--,A===0))return{tagContent:h.substring(P,b),i:v};b=v}else if(h[b+1]==="?")b=ks(h,"?>",b+1,"StopNode is not closed.");else if(h.substr(b+1,3)==="!--")b=ks(h,"-->",b+3,"StopNode is not closed.");else if(h.substr(b+1,2)==="![")b=ks(h,"]]>",b,"StopNode is not closed.")-2;else{let v=fy(h,b,">");v&&((v&&v.tagName)===g&&v.tagExp[v.tagExp.length-1]!=="/"&&A++,b=v.closeIndex)}}function p0(h,g,b){if(g&&typeof h=="string"){let P=h.trim();return P==="true"||P!=="false"&&(function(A,v={}){if(v=Object.assign({},fW,v),!A||typeof A!="string")return A;let O=A.trim();if(v.skipLike!==void 0&&v.skipLike.test(O))return A;if(A==="0")return 0;if(v.hex&&lW.test(O))return(function($){if(parseInt)return parseInt($,16);if(Number.parseInt)return Number.parseInt($,16);if(window&&window.parseInt)return window.parseInt($,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(O);if(O.search(/.+[eE].+/)!==-1)return(function($,L,ee){if(!ee.eNotation)return $;let Y=L.match(pW);if(Y){let le=Y[1]||"",be=Y[3].indexOf("e")===-1?"E":"e",ge=Y[2],Ke=le?$[ge.length+1]===be:$[ge.length]===be;return ge.length>1&&Ke?$:ge.length!==1||!Y[3].startsWith(`.${be}`)&&Y[3][0]!==be?ee.leadingZeros&&!Ke?(L=(Y[1]||"")+Y[3],Number(L)):$:Number(L)}return $})(A,O,v);{let $=dW.exec(O);if($){let L=$[1]||"",ee=$[2],Y=((N=$[3])&&N.indexOf(".")!==-1&&((N=N.replace(/0+$/,""))==="."?N="0":N[0]==="."?N="0"+N:N[N.length-1]==="."&&(N=N.substring(0,N.length-1))),N),le=L?A[ee.length+1]===".":A[ee.length]===".";if(!v.leadingZeros&&(ee.length>1||ee.length===1&&!le))return A;{let be=Number(O),ge=String(be);if(be===0||be===-0)return be;if(ge.search(/[eE]/)!==-1)return v.eNotation?be:A;if(O.indexOf(".")!==-1)return ge==="0"||ge===Y||ge===`${L}${Y}`?be:A;let Ke=ee?Y:O;return ee?Ke===ge||L+Ke===ge?be:A:Ke===ge||Ke===L+ge?be:A}}return A}var N})(h,b)}return h!==void 0?h:""}let py=ye.getMetaDataSymbol();function AW(h,g){return m0(h,g)}function m0(h,g,b){let P,A={};for(let v=0;v<h.length;v++){let O=h[v],N=xW(O),$="";if($=b===void 0?N:b+"."+N,N===g.textNodeName)P===void 0?P=O[N]:P+=""+O[N];else{if(N===void 0)continue;if(O[N]){let L=m0(O[N],g,$),ee=vW(L,g);O[py]!==void 0&&(L[py]=O[py]),O[":@"]?IW(L,O[":@"],$,g):Object.keys(L).length!==1||L[g.textNodeName]===void 0||g.alwaysCreateTextNode?Object.keys(L).length===0&&(g.alwaysCreateTextNode?L[g.textNodeName]="":L=""):L=L[g.textNodeName],A[N]!==void 0&&A.hasOwnProperty(N)?(Array.isArray(A[N])||(A[N]=[A[N]]),A[N].push(L)):g.isArray(N,$,ee)?A[N]=[L]:A[N]=L}}}return typeof P=="string"?P.length>0&&(A[g.textNodeName]=P):P!==void 0&&(A[g.textNodeName]=P),A}function xW(h){let g=Object.keys(h);for(let b=0;b<g.length;b++){let P=g[b];if(P!==":@")return P}}function IW(h,g,b,P){if(g){let A=Object.keys(g),v=A.length;for(let O=0;O<v;O++){let N=A[O];P.isArray(N,b+"."+N,!0,!0)?h[N]=[g[N]]:h[N]=g[N]}}}function vW(h,g){let{textNodeName:b}=g,P=Object.keys(h).length;return P===0||!(P!==1||!h[b]&&typeof h[b]!="boolean"&&h[b]!==0)}class PW{constructor(g){this.externalEntities={},this.options=(function(b){return Object.assign({},M,b)})(g)}parse(g,b){if(typeof g!="string"){if(!g.toString)throw new Error("XML data is accepted in String or Bytes[] form.");g=g.toString()}if(b){b===!0&&(b={});let v=a(g,b);if(v!==!0)throw Error(`${v.err.msg}:${v.err.line}:${v.err.col}`)}let P=new mW(this.options);P.addExternalEntities(this.externalEntities);let A=P.parseXml(g);return this.options.preserveOrder||A===void 0?A:AW(A,this.options)}addEntity(g,b){if(b.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(g.indexOf("&")!==-1||g.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(b==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[g]=b}static getMetaDataSymbol(){return ye.getMetaDataSymbol()}}function NW(h,g){let b="";return g.format&&g.indentBy.length>0&&(b=`
`),h0(h,g,"",b)}function h0(h,g,b,P){let A="",v=!1;for(let O=0;O<h.length;O++){let N=h[O],$=OW(N);if($===void 0)continue;let L="";if(L=b.length===0?$:`${b}.${$}`,$===g.textNodeName){let be=N[$];DW(L,g)||(be=g.tagValueProcessor($,be),be=y0(be,g)),v&&(A+=P),A+=be,v=!1;continue}if($===g.cdataPropName){v&&(A+=P),A+=`<![CDATA[${N[$][0][g.textNodeName]}]]>`,v=!1;continue}if($===g.commentPropName){A+=P+`<!--${N[$][0][g.textNodeName]}-->`,v=!0;continue}if($[0]==="?"){let be=g0(N[":@"],g),ge=$==="?xml"?"":P,Ke=N[$][0][g.textNodeName];Ke=Ke.length!==0?" "+Ke:"",A+=ge+`<${$}${Ke}${be}?>`,v=!0;continue}let ee=P;ee!==""&&(ee+=g.indentBy);let Y=P+`<${$}${g0(N[":@"],g)}`,le=h0(N[$],g,L,ee);g.unpairedTags.indexOf($)!==-1?g.suppressUnpairedNode?A+=Y+">":A+=Y+"/>":le&&le.length!==0||!g.suppressEmptyNode?le&&le.endsWith(">")?A+=Y+`>${le}${P}</${$}>`:(A+=Y+">",le&&P!==""&&(le.includes("/>")||le.includes("</"))?A+=P+g.indentBy+le+P:A+=le,A+=`</${$}>`):A+=Y+"/>",v=!0}return A}function OW(h){let g=Object.keys(h);for(let b=0;b<g.length;b++){let P=g[b];if(h.hasOwnProperty(P)&&P!==":@")return P}}function g0(h,g){let b="";if(h&&!g.ignoreAttributes)for(let P in h){if(!h.hasOwnProperty(P))continue;let A=g.attributeValueProcessor(P,h[P]);A=y0(A,g),A===!0&&g.suppressBooleanAttributes?b+=` ${P.substr(g.attributeNamePrefix.length)}`:b+=` ${P.substr(g.attributeNamePrefix.length)}="${A}"`}return b}function DW(h,g){let b=(h=h.substr(0,h.length-g.textNodeName.length-1)).substr(h.lastIndexOf(".")+1);for(let P in g.stopNodes)if(g.stopNodes[P]===h||g.stopNodes[P]==="*."+b)return!0;return!1}function y0(h,g){if(h&&h.length>0&&g.processEntities)for(let b=0;b<g.entities.length;b++){let P=g.entities[b];h=h.replace(P.regex,P.val)}return h}let $W={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(h,g){return g},attributeValueProcessor:function(h,g){return g},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Tn(h){this.options=Object.assign({},$W,h),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=f0(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=FW),this.processTextOrObjNode=kW,this.options.format?(this.indentate=MW,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function kW(h,g,b,P){let A=this.j2x(h,b+1,P.concat(g));return h[this.options.textNodeName]!==void 0&&Object.keys(h).length===1?this.buildTextValNode(h[this.options.textNodeName],g,A.attrStr,b):this.buildObjectNode(A.val,g,A.attrStr,b)}function MW(h){return this.options.indentBy.repeat(h)}function FW(h){return!(!h.startsWith(this.options.attributeNamePrefix)||h===this.options.textNodeName)&&h.substr(this.attrPrefixLen)}Tn.prototype.build=function(h){return this.options.preserveOrder?NW(h,this.options):(Array.isArray(h)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(h={[this.options.arrayNodeName]:h}),this.j2x(h,0,[]).val)},Tn.prototype.j2x=function(h,g,b){let P="",A="",v=b.join(".");for(let O in h)if(Object.prototype.hasOwnProperty.call(h,O))if(h[O]===void 0)this.isAttribute(O)&&(A+="");else if(h[O]===null)this.isAttribute(O)||O===this.options.cdataPropName?A+="":O[0]==="?"?A+=this.indentate(g)+"<"+O+"?"+this.tagEndChar:A+=this.indentate(g)+"<"+O+"/"+this.tagEndChar;else if(h[O]instanceof Date)A+=this.buildTextValNode(h[O],O,"",g);else if(typeof h[O]!="object"){let N=this.isAttribute(O);if(N&&!this.ignoreAttributesFn(N,v))P+=this.buildAttrPairStr(N,""+h[O]);else if(!N)if(O===this.options.textNodeName){let $=this.options.tagValueProcessor(O,""+h[O]);A+=this.replaceEntitiesValue($)}else A+=this.buildTextValNode(h[O],O,"",g)}else if(Array.isArray(h[O])){let N=h[O].length,$="",L="";for(let ee=0;ee<N;ee++){let Y=h[O][ee];if(Y!==void 0)if(Y===null)O[0]==="?"?A+=this.indentate(g)+"<"+O+"?"+this.tagEndChar:A+=this.indentate(g)+"<"+O+"/"+this.tagEndChar;else if(typeof Y=="object")if(this.options.oneListGroup){let le=this.j2x(Y,g+1,b.concat(O));$+=le.val,this.options.attributesGroupName&&Y.hasOwnProperty(this.options.attributesGroupName)&&(L+=le.attrStr)}else $+=this.processTextOrObjNode(Y,O,g,b);else if(this.options.oneListGroup){let le=this.options.tagValueProcessor(O,Y);le=this.replaceEntitiesValue(le),$+=le}else $+=this.buildTextValNode(Y,O,"",g)}this.options.oneListGroup&&($=this.buildObjectNode($,O,L,g)),A+=$}else if(this.options.attributesGroupName&&O===this.options.attributesGroupName){let N=Object.keys(h[O]),$=N.length;for(let L=0;L<$;L++)P+=this.buildAttrPairStr(N[L],""+h[O][N[L]])}else A+=this.processTextOrObjNode(h[O],O,g,b);return{attrStr:P,val:A}},Tn.prototype.buildAttrPairStr=function(h,g){return g=this.options.attributeValueProcessor(h,""+g),g=this.replaceEntitiesValue(g),this.options.suppressBooleanAttributes&&g==="true"?" "+h:" "+h+'="'+g+'"'},Tn.prototype.buildObjectNode=function(h,g,b,P){if(h==="")return g[0]==="?"?this.indentate(P)+"<"+g+b+"?"+this.tagEndChar:this.indentate(P)+"<"+g+b+this.closeTag(g)+this.tagEndChar;{let A="</"+g+this.tagEndChar,v="";return g[0]==="?"&&(v="?",A=""),!b&&b!==""||h.indexOf("<")!==-1?this.options.commentPropName!==!1&&g===this.options.commentPropName&&v.length===0?this.indentate(P)+`<!--${h}-->`+this.newLine:this.indentate(P)+"<"+g+b+v+this.tagEndChar+h+this.indentate(P)+A:this.indentate(P)+"<"+g+b+v+">"+h+A}},Tn.prototype.closeTag=function(h){let g="";return this.options.unpairedTags.indexOf(h)!==-1?this.options.suppressUnpairedNode||(g="/"):g=this.options.suppressEmptyNode?"/":`></${h}`,g},Tn.prototype.buildTextValNode=function(h,g,b,P){if(this.options.cdataPropName!==!1&&g===this.options.cdataPropName)return this.indentate(P)+`<![CDATA[${h}]]>`+this.newLine;if(this.options.commentPropName!==!1&&g===this.options.commentPropName)return this.indentate(P)+`<!--${h}-->`+this.newLine;if(g[0]==="?")return this.indentate(P)+"<"+g+b+"?"+this.tagEndChar;{let A=this.options.tagValueProcessor(g,h);return A=this.replaceEntitiesValue(A),A===""?this.indentate(P)+"<"+g+b+this.closeTag(g)+this.tagEndChar:this.indentate(P)+"<"+g+b+">"+A+"</"+g+this.tagEndChar}},Tn.prototype.replaceEntitiesValue=function(h){if(h&&h.length>0&&this.options.processEntities)for(let g=0;g<this.options.entities.length;g++){let b=this.options.entities[g];h=h.replace(b.regex,b.val)}return h};let LW={validate:a};jP.exports=t})()});var zP=I(dw=>{"use strict";u();Object.defineProperty(dw,"__esModule",{value:!0});dw.parseXML=hY;var mY=VP(),lw=new mY.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});lw.addEntity("#xD","\r");lw.addEntity("#10",`
`);function hY(e){return lw.parse(e,!0)}});var Gs=I(rd=>{"use strict";u();var gY=zP();function yY(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function SY(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var td=class{value;constructor(t){this.value=t}toString(){return SY(""+this.value)}},fw=class e{name;children;attributes={};static of(t,r,n){let s=new e(t);return r!==void 0&&s.addChildNode(new td(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=e.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,s){if(t[r]!=null){let o=s(),i=new e(n);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(r+=` ${s}="${yY(""+o)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(rd,"parseXML",{enumerable:!0,get:function(){return gY.parseXML}});rd.XmlNode=fw;rd.XmlText=td});var GP,WP,KP,Vn,nd=w(()=>{u();GP=T(Gs());Lt();$e();WP=T(ct()),KP=T(Et());qn();ow();Vn=class extends ut{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Us(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=V.of(t),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},f=Object.keys(o)[0];return o[f].isBlobSchema()?l[f]=r:l[f]=this.read(o[f],r),l}let a=(this.serdeContext?.utf8Encoder??KP.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=V.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],f=c.getMergedTraits().xmlName??"member",d=i?r:(r[0]??r)[f],m=Array.isArray(d)?d:[d];for(let p of m)(p!=null||o)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),f;i?f=Array.isArray(r)?r:[r]:f=Array.isArray(r.entry)?r.entry:[r.entry];let d=c.getMergedTraits().xmlName??"key",m=l.getMergedTraits().xmlName??"value";for(let p of f){let S=p[d],R=p[m];(R!=null||o)&&(a[S]=this.readSchema(l,R))}return a}if(n.isStructSchema()){let c=n.isUnionSchema(),l;c&&(l=new ni(r,a));for(let[f,d]of n.structIterator()){let m=d.getMergedTraits(),p=m.httpPayload?m.xmlName??d.getName():d.getMemberTraits().xmlName??f;c&&l.mark(p),r[p]!=null&&(a[f]=this.readSchema(d,r[p]))}return c&&l.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,GP.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",s=Object.keys(r)[0],o=r[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,WP.getValueFromTextNode)(o)}return{}}}});var YP,XP,sd,QP=w(()=>{u();Lt();$e();Ft();YP=T(ct()),XP=T(wt());qn();Ma();sd=class extends ut{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=V.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??XP.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Zt.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Me?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Bt(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,YP.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(s.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),i=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),f=i?`${n}${a}`:`${n}${l}.${a}`;this.write(o,c,f),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let o=s.getKeySchema(),i=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,f]of Object.entries(r)){if(f==null)continue;let d=this.getKey("key",o.getMergedTraits().xmlName),m=a?`${n}${c}.${d}`:`${n}entry.${c}.${d}`,p=this.getKey("value",i.getMergedTraits().xmlName),S=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(o,l,m),this.write(i,f,S),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object"){let o=!1;for(let[i,a]of ri(s,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(i,a.getMergedTraits().xmlName),l=`${n}${c}`;this.write(a,r[i],l),o=!0}if(!o&&s.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,c]=i,l=`${n}${a}`;this.write(15,c,l)}}}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Ar(t)}=`}writeValue(t){this.buffer+=Ar(t)}}});var ai,pw=w(()=>{u();Lt();$e();ti();nd();QP();ai=class extends en{options;serializer;deserializer;mixin=new er;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new sd(r),this.deserializer=new Vn(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(fr(t.input)==="unit"||!s.body)&&(s.body="");let o=t.name.split("#")[1]??t.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,o=V.of(t.output),i={};if(n.statusCode>=300){let d=await Jt(n.body,r);d.byteLength>0&&Object.assign(i,await s.read(15,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let d in n.headers){let m=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=m}let a=t.name.split("#")[1]??t.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Jt(n.body,r);return l.byteLength>0&&Object.assign(i,await s.read(o,l,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,s,o){let i=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),c=this.loadQueryErrorMessage(s);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:l,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,o,this.mixin.findQueryCompatibleError),d=V.of(l),m=Ye.for(l[1]).getErrorCtor(l)??Error,p=new m(c),S={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[R,_]of d.structIterator()){let C=_.getMergedTraits().xmlName??R,x=a[C]??s[C];S[R]=this.deserializer.readSchema(_,x)}throw this.mixin.decorateServiceException(Object.assign(p,f,{$fault:d.getMergedTraits().error,message:c},S),s)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var od,JP=w(()=>{u();pw();od=class extends ai{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var ZP,eN,mw,tN,id,hw=w(()=>{u();ZP=T(Gs()),eN=T(ct());iw();mw=(e,t)=>Kl(e,t).then(r=>{if(r.length){let n;try{n=(0,ZP.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,eN.getValueFromTextNode)(i)}return{}}),tN=async(e,t)=>{let r=await mw(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},id=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Ct,gw,ad,ci,yw=w(()=>{u();Ct=T(Gs());Lt();$e();Ft();gw=T(ct()),ad=T(wt());qn();Ma();ci=class extends ut{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=V.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??ad.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),o=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Ct.XmlNode.of(o),[a,c]=this.getXmlnsAttribute(t,n);for(let[f,d]of ri(t,r)){let m=r[f];if(m!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){i.addAttribute(d.getMergedTraits().xmlName??f,this.writeSimple(d,m));continue}if(d.isListSchema())this.writeList(d,m,i,c);else if(d.isMapSchema())this.writeMap(d,m,i,c);else if(d.isStructSchema())i.addChildNode(this.writeStruct(d,m,c));else{let p=Ct.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,m,p,c),i.addChildNode(p)}}}let{$unknown:l}=r;if(l&&t.isUnionSchema()&&Array.isArray(l)&&Object.keys(r).length===1){let[f,d]=l,m=Ct.XmlNode.of(f);if(typeof d!="string")if(r instanceof Ct.XmlNode||r instanceof Ct.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,d,m,c),i.addChildNode(m)}return c&&i.addAttribute(a,c),i}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!o.xmlFlattened,[f,d]=this.getXmlnsAttribute(t,s),m=(p,S)=>{if(i.isListSchema())this.writeList(i,Array.isArray(S)?S:[S],p,d);else if(i.isMapSchema())this.writeMap(i,S,p,d);else if(i.isStructSchema()){let R=this.writeStruct(i,S,d);p.addChildNode(R.withName(l?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let R=Ct.XmlNode.of(l?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,S,R,d),p.addChildNode(R)}};if(l)for(let p of r)(c||p!=null)&&m(n,p);else{let p=Ct.XmlNode.of(o.xmlName??t.getMemberName());d&&p.addAttribute(f,d);for(let S of r)(c||S!=null)&&m(p,S);n.addChildNode(p)}}writeMap(t,r,n,s,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",f=t.getValueSchema(),d=f.getMergedTraits(),m=d.xmlName??"value",p=!!d.sparse,S=!!i.xmlFlattened,[R,_]=this.getXmlnsAttribute(t,s),C=(x,D,k)=>{let M=Ct.XmlNode.of(l,D),[j,ye]=this.getXmlnsAttribute(a,_);ye&&M.addAttribute(j,ye),x.addChildNode(M);let U=Ct.XmlNode.of(m);f.isListSchema()?this.writeList(f,k,U,_):f.isMapSchema()?this.writeMap(f,k,U,_,!0):f.isStructSchema()?U=this.writeStruct(f,k,_):this.writeSimpleInto(f,k,U,_),x.addChildNode(U)};if(S){for(let[x,D]of Object.entries(r))if(p||D!=null){let k=Ct.XmlNode.of(i.xmlName??t.getMemberName());C(k,x,D),n.addChildNode(k)}}else{let x;o||(x=Ct.XmlNode.of(i.xmlName??t.getMemberName()),_&&x.addAttribute(R,_),n.addChildNode(x));for(let[D,k]of Object.entries(r))if(p||k!=null){let M=Ct.XmlNode.of("entry");C(M,D,k),(o?n:x).addChildNode(M)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=V.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??ad.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Bt(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,gw.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,gw.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Me?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,Zt.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let o=this.writeSimple(t,r),i=V.of(t),a=new Ct.XmlText(o),[c,l]=this.getXmlnsAttribute(i,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==r?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var ui,Sw=w(()=>{u();qn();nd();yw();ui=class extends ut{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ci(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Vn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var cd,rN=w(()=>{u();Lt();$e();ti();hw();Sw();cd=class extends Ls{codec;serializer;deserializer;mixin=new er;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new ui(r),this.serializer=new qs(this.codec.createSerializer(),r),this.deserializer=new Hs(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=V.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return typeof s.body=="string"&&s.headers["content-type"]===this.getDefaultContentType()&&!s.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(o)&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=id(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=V.of(a),f=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",d=Ye.for(a[1]).getErrorCtor(a)??Error,m=new d(f);await this.deserializeHttpMessage(a,r,n,s);let p={};for(let[S,R]of l.structIterator()){let _=R.getMergedTraits().xmlName??S,C=s.Error?.[_]??s[_];p[S]=this.codec.createDeserializer().readSchema(R,C)}throw this.mixin.decorateServiceException(Object.assign(m,c,{$fault:l.getMergedTraits().error,message:f},p),s)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var Ew={};ze(Ew,{AwsEc2QueryProtocol:()=>od,AwsJson1_0Protocol:()=>Jl,AwsJson1_1Protocol:()=>Zl,AwsJsonRpcProtocol:()=>jn,AwsQueryProtocol:()=>ai,AwsRestJsonProtocol:()=>ed,AwsRestXmlProtocol:()=>cd,AwsSmithyRpcV2CborProtocol:()=>Wl,JsonCodec:()=>Bn,JsonShapeDeserializer:()=>oi,JsonShapeSerializer:()=>ii,XmlCodec:()=>ui,XmlShapeDeserializer:()=>Vn,XmlShapeSerializer:()=>ci,_toBool:()=>CP,_toNum:()=>AP,_toStr:()=>TP,awsExpectUnion:()=>qP,loadRestJsonErrorCode:()=>si,loadRestXmlErrorCode:()=>id,parseJsonBody:()=>Fa,parseJsonErrorBody:()=>DP,parseXmlBody:()=>mw,parseXmlErrorBody:()=>tN});var ud=w(()=>{u();bP();xP();FP();LP();Ql();UP();Xl();aw();uw();BP();La();JP();pw();rN();Sw();nd();yw();hw()});var zn={};ze(zn,{AWSSDKSigV4Signer:()=>dE,AwsEc2QueryProtocol:()=>od,AwsJson1_0Protocol:()=>Jl,AwsJson1_1Protocol:()=>Zl,AwsJsonRpcProtocol:()=>jn,AwsQueryProtocol:()=>ai,AwsRestJsonProtocol:()=>ed,AwsRestXmlProtocol:()=>cd,AwsSdkSigV4ASigner:()=>Na,AwsSdkSigV4Signer:()=>$n,AwsSmithyRpcV2CborProtocol:()=>Wl,JsonCodec:()=>Bn,JsonShapeDeserializer:()=>oi,JsonShapeSerializer:()=>ii,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>yv,NODE_SIGV4A_CONFIG_OPTIONS:()=>wv,XmlCodec:()=>ui,XmlShapeDeserializer:()=>Vn,XmlShapeSerializer:()=>ci,_toBool:()=>CP,_toNum:()=>AP,_toStr:()=>TP,awsExpectUnion:()=>qP,emitWarningIfUnsupportedVersion:()=>ZI,getBearerTokenEnvKey:()=>vl,loadRestJsonErrorCode:()=>si,loadRestXmlErrorCode:()=>id,parseJsonBody:()=>Fa,parseJsonErrorBody:()=>DP,parseXmlBody:()=>mw,parseXmlErrorBody:()=>tN,resolveAWSSDKSigV4Config:()=>Gv,resolveAwsSdkSigV4AConfig:()=>Ev,resolveAwsSdkSigV4Config:()=>PE,setCredentialFeature:()=>Il,setFeature:()=>rv,setTokenFeature:()=>sv,state:()=>xl,validateSigningProperties:()=>Qo});var Gn=w(()=>{u();vr();NE();ud()});var dd=I(li=>{"use strict";u();var EY=(Nn(),te(Wo)),wY=Al(),RY=ke(),Nr=(Gn(),te(zn)),iN=void 0;function _Y(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function bY(e){let t=EY.normalizeProvider(e.userAgentAppId??iN),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!_Y(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var TY=/\d{12}\.ddb/;async function CY(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Nr.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?Nr.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Nr.setFeature(e,"RETRY_MODE_STANDARD","E"):Nr.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(TY)&&Nr.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":Nr.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Nr.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Nr.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&Nr.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))Nr.setFeature(e,i,a)}}var nN="user-agent",ww="x-amz-user-agent",sN=" ",Rw="/",AY=/[^!$%&'*+\-.^_`|~\w]/g,xY=/[^!$%&'*+\-.^_`|~\w#]/g,oN="-",IY=1024;function vY(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=IY){t.length?t+=","+n:t+=n;continue}break}return t}var aN=e=>(t,r)=>async n=>{let{request:s}=n;if(!RY.HttpRequest.isInstance(s))return t(n);let{headers:o}=s,i=r?.userAgent?.map(ld)||[],a=(await e.defaultUserAgentProvider()).map(ld);await CY(r,e,n);let c=r;a.push(`m/${vY(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(ld)||[],f=await e.userAgentAppId();f&&a.push(ld(["app",`${f}`]));let d=wY.getUserAgentPrefix(),m=(d?[d]:[]).concat([...a,...i,...l]).join(sN),p=[...a.filter(S=>S.startsWith("aws-sdk-")),...l].join(sN);return e.runtime!=="browser"?(p&&(o[ww]=o[ww]?`${o[nN]} ${p}`:p),o[nN]=m):o[ww]=m,t({...n,request:s})},ld=e=>{let t=e[0].split(Rw).map(i=>i.replace(AY,oN)).join(Rw),r=e[1]?.replace(xY,oN),n=t.indexOf(Rw),s=t.substring(0,n),o=t.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},cN={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},PY=e=>({applyToStack:t=>{t.add(aN(e),cN)}});li.DEFAULT_UA_APP_ID=iN;li.getUserAgentMiddlewareOptions=cN;li.getUserAgentPlugin=PY;li.resolveUserAgentConfig=bY;li.userAgentMiddleware=aN});var uN=I(di=>{"use strict";u();var NY=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},OY=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};di.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(di.SelectorType||(di.SelectorType={}));di.booleanSelector=NY;di.numberSelector=OY});var Kn=I(tt=>{"use strict";u();var Wn=uN(),fd=Qt(),DY=va(),fN="AWS_USE_DUALSTACK_ENDPOINT",pN="use_dualstack_endpoint",$Y=!1,kY={environmentVariableSelector:e=>Wn.booleanSelector(e,fN,Wn.SelectorType.ENV),configFileSelector:e=>Wn.booleanSelector(e,pN,Wn.SelectorType.CONFIG),default:!1},mN="AWS_USE_FIPS_ENDPOINT",hN="use_fips_endpoint",MY=!1,FY={environmentVariableSelector:e=>Wn.booleanSelector(e,mN,Wn.SelectorType.ENV),configFileSelector:e=>Wn.booleanSelector(e,hN,Wn.SelectorType.CONFIG),default:!1},LY=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:fd.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:fd.normalizeProvider(s??!1)})},UY=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},HY=e=>{let t=fd.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?fd.normalizeProvider(typeof r=="string"?s(r):r):()=>UY({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},gN="AWS_REGION",yN="region",qY={environmentVariableSelector:e=>e[gN],configFileSelector:e=>e[yN],default:()=>{throw new Error("Region is missing")}},BY={preferredFile:"credentials"},lN=new Set,jY=(e,t=DY.isValidHostLabel)=>{if(!lN.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else lN.add(e)},SN=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),VY=e=>SN(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,zY=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,s=VY(n);return jY(s),s},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return SN(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},dN=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,GY=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),WY=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",KY=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},YY=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{let i=WY(e,{partitionHash:o}),a=e in s?e:o[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=dN(s[a]?.variants,c),f=dN(o[i]?.variants,c),d=GY(a,{regionHostname:l,partitionHostname:f});if(d===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let m=KY(d,{signingRegion:s[a]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:d,...m&&{signingRegion:m},...s[a]?.signingService&&{signingService:s[a].signingService}}};tt.CONFIG_USE_DUALSTACK_ENDPOINT=pN;tt.CONFIG_USE_FIPS_ENDPOINT=hN;tt.DEFAULT_USE_DUALSTACK_ENDPOINT=$Y;tt.DEFAULT_USE_FIPS_ENDPOINT=MY;tt.ENV_USE_DUALSTACK_ENDPOINT=fN;tt.ENV_USE_FIPS_ENDPOINT=mN;tt.NODE_REGION_CONFIG_FILE_OPTIONS=BY;tt.NODE_REGION_CONFIG_OPTIONS=qY;tt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=kY;tt.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=FY;tt.REGION_ENV_NAME=gN;tt.REGION_INI_NAME=yN;tt.getRegionInfo=YY;tt.resolveCustomEndpointsConfig=LY;tt.resolveEndpointsConfig=HY;tt.resolveRegionConfig=zY});var _w=I(pd=>{"use strict";u();var XY=ke(),EN="content-length";function wN(e){return t=>async r=>{let n=r.request;if(XY.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(EN)===-1)try{let i=e(s);n.headers={...n.headers,[EN]:String(i)}}catch{}}return t({...r,request:n})}}var RN={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},QY=e=>({applyToStack:t=>{t.add(wN(e.bodyLengthChecker),RN)}});pd.contentLengthMiddleware=wN;pd.contentLengthMiddlewareOptions=RN;pd.getContentLengthPlugin=QY});var Tw=I(md=>{"use strict";u();Object.defineProperty(md,"__esModule",{value:!0});md.getHomeDir=void 0;var JY=q("os"),ZY=q("path"),bw={},eX=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",tX=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${ZY.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=eX();return bw[s]||(bw[s]=(0,JY.homedir)()),bw[s]};md.getHomeDir=tX});var Cw=I(hd=>{"use strict";u();Object.defineProperty(hd,"__esModule",{value:!0});hd.getSSOTokenFilepath=void 0;var rX=q("crypto"),nX=q("path"),sX=Tw(),oX=e=>{let r=(0,rX.createHash)("sha1").update(e).digest("hex");return(0,nX.join)((0,sX.getHomeDir)(),".aws","sso","cache",`${r}.json`)};hd.getSSOTokenFilepath=oX});var _N=I(Yn=>{"use strict";u();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.getSSOTokenFromFile=Yn.tokenIntercept=void 0;var iX=q("fs/promises"),aX=Cw();Yn.tokenIntercept={};var cX=async e=>{if(Yn.tokenIntercept[e])return Yn.tokenIntercept[e];let t=(0,aX.getSSOTokenFilepath)(e),r=await(0,iX.readFile)(t,"utf8");return JSON.parse(r)};Yn.getSSOTokenFromFile=cX});var bN=I(jt=>{"use strict";u();Object.defineProperty(jt,"__esModule",{value:!0});jt.readFile=jt.fileIntercept=jt.filePromises=void 0;var uX=q("node:fs/promises");jt.filePromises={};jt.fileIntercept={};var lX=(e,t)=>jt.fileIntercept[e]!==void 0?jt.fileIntercept[e]:((!jt.filePromises[e]||t?.ignoreCache)&&(jt.filePromises[e]=(0,uX.readFile)(e,"utf8")),jt.filePromises[e]);jt.readFile=lX});var an=I(At=>{"use strict";u();var Ua=Tw(),TN=Cw(),Aw=_N(),gd=q("path"),yd=An(),fi=bN(),AN="AWS_PROFILE",xN="default",dX=e=>e.profile||process.env[AN]||xN,Ws=".",fX=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ws);return r===-1?!1:Object.values(yd.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(Ws),o=r.substring(0,s)===yd.IniSectionType.PROFILE?r.substring(s+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),pX="AWS_CONFIG_FILE",IN=()=>process.env[pX]||gd.join(Ua.getHomeDir(),".aws","config"),mX="AWS_SHARED_CREDENTIALS_FILE",hX=()=>process.env[mX]||gd.join(Ua.getHomeDir(),".aws","credentials"),gX=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,yX=["__proto__","profile __proto__"],xw=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),c=gX.exec(a);if(c){let[,l,,f]=c;Object.values(yd.IniSectionType).includes(l)&&(r=[l,f].join(Ws))}else r=a;if(yX.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let f=n?[n,c].join(Ws):c;t[r][f]=l}}}}return t},CN=()=>({}),vN=async(e={})=>{let{filepath:t=hX(),configFilepath:r=IN()}=e,n=Ua.getHomeDir(),s="~/",o=t;t.startsWith(s)&&(o=gd.join(n,t.slice(2)));let i=r;r.startsWith(s)&&(i=gd.join(n,r.slice(2)));let a=await Promise.all([fi.readFile(i,{ignoreCache:e.ignoreCache}).then(xw).then(fX).catch(CN),fi.readFile(o,{ignoreCache:e.ignoreCache}).then(xw).catch(CN)]);return{configFile:a[0],credentialsFile:a[1]}},SX=e=>Object.entries(e).filter(([t])=>t.startsWith(yd.IniSectionType.SSO_SESSION+Ws)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Ws)+1)]:n}),{}),EX=()=>({}),wX=async(e={})=>fi.readFile(e.configFilepath??IN()).then(xw).then(SX).catch(EX),RX=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},_X=async e=>{let t=await vN(e);return RX(t.configFile,t.credentialsFile)},bX={getFileRecord(){return fi.fileIntercept},interceptFile(e,t){fi.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return Aw.tokenIntercept},interceptToken(e,t){Aw.tokenIntercept[e]=t}};Object.defineProperty(At,"getSSOTokenFromFile",{enumerable:!0,get:function(){return Aw.getSSOTokenFromFile}});Object.defineProperty(At,"readFile",{enumerable:!0,get:function(){return fi.readFile}});At.CONFIG_PREFIX_SEPARATOR=Ws;At.DEFAULT_PROFILE=xN;At.ENV_PROFILE=AN;At.externalDataInterceptor=bX;At.getProfileName=dX;At.loadSharedConfigFiles=vN;At.loadSsoSessionData=wX;At.parseKnownFiles=_X;Object.keys(Ua).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(At,e)&&Object.defineProperty(At,e,{enumerable:!0,get:function(){return Ua[e]}})});Object.keys(TN).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(At,e)&&Object.defineProperty(At,e,{enumerable:!0,get:function(){return TN[e]}})})});var Ks=I(ON=>{"use strict";u();var Ha=Tt(),PN=an();function NN(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var TX=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ha.CredentialsProviderError(r.message||`Not found in ENV: ${NN(e.toString())}`,{logger:t?.logger})}},CX=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=PN.getProfileName(r),{configFile:s,credentialsFile:o}=await PN.loadSharedConfigFiles(r),i=o[n]||{},a=s[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let f=e(c,t==="config"?s:o);if(f===void 0)throw new Error;return f}catch(l){throw new Ha.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${NN(e.toString())}`,{logger:r.logger})}},AX=e=>typeof e=="function",xX=e=>AX(e)?async()=>await e():Ha.fromStatic(e),IX=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:o}=n,i={signingName:s,logger:o};return Ha.memoize(Ha.chain(TX(e,i),CX(t,n),xX(r)))};ON.loadConfig=IX});var MN=I(Sd=>{"use strict";u();Object.defineProperty(Sd,"__esModule",{value:!0});Sd.getEndpointUrlConfig=void 0;var DN=an(),$N="AWS_ENDPOINT_URL",kN="endpoint_url",vX=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),n=t[[$N,...r].join("_")];if(n)return n;let s=t[$N];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(DN.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(a=>a.toLowerCase()),i=s[[o.join("_"),kN].join(DN.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[kN];if(n)return n},default:void 0});Sd.getEndpointUrlConfig=vX});var FN=I(Ed=>{"use strict";u();Object.defineProperty(Ed,"__esModule",{value:!0});Ed.getEndpointFromConfig=void 0;var PX=Ks(),NX=MN(),OX=async e=>(0,PX.loadConfig)((0,NX.getEndpointUrlConfig)(e??""))();Ed.getEndpointFromConfig=OX});var vw=I(cn=>{"use strict";u();var UN=FN(),LN=Ko(),DX=(Nn(),te(Wo)),wd=Qt(),$X=Oy(),kX=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),HX(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!UX(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},MX=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,FX=/(\d+\.){3}\d+/,LX=/\.\./,UX=e=>MX.test(e)&&!FX.test(e)&&!LX.test(e),HX=e=>{let[t,r,n,,,s]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=!!(o&&r&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},qX=(e,t,r,n=!1)=>{let s=async()=>{let o;return n?o=r.clientContextParams?.[e]??r[e]??r[t]:o=r[e]??r[t],typeof o=="function"?o():o};return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await s();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:a,port:c,path:l}=o;return`${i}//${a}${c?":"+c:""}${l}`}}return o}:s},Iw=e=>typeof e=="object"?"url"in e?LN.parseUrl(e.url):e:LN.parseUrl(e),HN=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await UN.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Iw(i)),r.isCustomEndpoint=!0)}let s=await qN(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},qN=async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":n[o]=i.value;break;case"contextParams":n[o]=e[i.name];break;case"clientContextParams":case"builtInParams":n[o]=await qX(i.name,o,r,i.type!=="builtInParams")();break;case"operationContextParams":n[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await kX(n),n},BN=({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&DX.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await HN(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=wd.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...s})},jN={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:$X.serializerMiddlewareOption.name},BX=(e,t)=>({applyToStack:r=>{r.addRelativeTo(BN({config:e,instructions:t}),jN)}}),jX=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=r!=null?async()=>Iw(await wd.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:wd.normalizeProvider(n??!1),useFipsEndpoint:wd.normalizeProvider(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=UN.getEndpointFromConfig(e.serviceId)),c),a},VX=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};cn.endpointMiddleware=BN;cn.endpointMiddlewareOptions=jN;cn.getEndpointFromInstructions=HN;cn.getEndpointPlugin=BX;cn.resolveEndpointConfig=jX;cn.resolveEndpointRequiredConfig=VX;cn.resolveParams=qN;cn.toEndpointV1=Iw});var Nw=I(Xn=>{"use strict";u();var zX=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],GX=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],WX=["TimeoutError","RequestTimeout","RequestTimeoutException"],KX=[500,502,503,504],YX=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],XX=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],VN=e=>e?.$retryable!==void 0,QX=e=>zX.includes(e.name),zN=e=>e.$metadata?.clockSkewCorrected,GN=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},JX=e=>e.$metadata?.httpStatusCode===429||GX.includes(e.name)||e.$retryable?.throttling==!0,Pw=(e,t=0)=>VN(e)||zN(e)||WX.includes(e.name)||YX.includes(e?.code||"")||XX.includes(e?.code||"")||KX.includes(e.$metadata?.httpStatusCode||0)||GN(e)||e.cause!==void 0&&t<=10&&Pw(e.cause,t+1),ZX=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Pw(e)}return!1};Xn.isBrowserNetworkError=GN;Xn.isClockSkewCorrectedError=zN;Xn.isClockSkewError=QX;Xn.isRetryableByTrait=VN;Xn.isServerError=ZX;Xn.isThrottlingError=JX;Xn.isTransientError=Pw});var _d=I(Be=>{"use strict";u();var eQ=Nw();Be.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Be.RETRY_MODES||(Be.RETRY_MODES={}));var Ow=3,tQ=Be.RETRY_MODES.STANDARD,Rd=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),eQ.isThrottlingError(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},qa=100,Mw=20*1e3,KN=500,Dw=500,YN=5,XN=10,QN=1,rQ="amz-sdk-invocation-id",nQ="amz-sdk-request",sQ=()=>{let e=qa;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Mw,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},WN=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Mw,e),getRetryCost:()=>r}),Ba=class{maxAttempts;mode=Be.RETRY_MODES.STANDARD;capacity=Dw;retryBackoffStrategy=sQ();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return WN({retryDelay:qa,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?KN:qa);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,WN({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Dw,this.capacity+(t.getRetryCost()??QN))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ow}`),Ow}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?XN:YN}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},$w=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Be.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Rd,this.standardRetryStrategy=new Ba(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},kw=class extends Ba{computeNextBackoffDelay;constructor(t,r=qa){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Be.AdaptiveRetryStrategy=$w;Be.ConfiguredRetryStrategy=kw;Be.DEFAULT_MAX_ATTEMPTS=Ow;Be.DEFAULT_RETRY_DELAY_BASE=qa;Be.DEFAULT_RETRY_MODE=tQ;Be.DefaultRateLimiter=Rd;Be.INITIAL_RETRY_TOKENS=Dw;Be.INVOCATION_ID_HEADER=rQ;Be.MAXIMUM_RETRY_DELAY=Mw;Be.NO_RETRY_INCREMENT=QN;Be.REQUEST_HEADER=nQ;Be.RETRY_COST=YN;Be.StandardRetryStrategy=Ba;Be.THROTTLING_RETRY_DELAY_BASE=KN;Be.TIMEOUT_RETRY_COST=XN});var JN=I(bd=>{"use strict";u();Object.defineProperty(bd,"__esModule",{value:!0});bd.isStreamingPayload=void 0;var oQ=q("stream"),iQ=e=>e?.body instanceof oQ.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;bd.isStreamingPayload=iQ});var ja=I(Xe=>{"use strict";u();var He=_d(),pi=ke(),Qn=Nw(),eO=Ca(),ZN=Qt(),aQ=ct(),cQ=JN(),uQ=(e,t)=>{let r=e,n=He.NO_RETRY_INCREMENT,s=He.RETRY_COST,o=He.TIMEOUT_RETRY_COST,i=e,a=d=>d.name==="TimeoutError"?o:s,c=d=>a(d)<=i;return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:d=>{if(!c(d))throw new Error("No retry token available");let m=a(d);return i-=m,m},releaseRetryTokens:d=>{i+=d??n,i=Math.min(i,r)}})},tO=(e,t)=>Math.floor(Math.min(He.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),rO=e=>e?Qn.isRetryableByTrait(e)||Qn.isClockSkewError(e)||Qn.isThrottlingError(e)||Qn.isTransientError(e):!1,nO=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Td=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=He.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??rO,this.delayDecider=r?.delayDecider??tO,this.retryQuota=r?.retryQuota??uQ(He.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=He.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,o=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(pi.HttpRequest.isInstance(c)&&(c.headers[He.INVOCATION_ID_HEADER]=eO.v4());;)try{pi.HttpRequest.isInstance(c)&&(c.headers[He.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:f}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(s),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=i,{response:l,output:f}}catch(l){let f=nO(l);if(o++,this.shouldRetry(f,o,a)){s=this.retryQuota.retrieveRetryTokens(f);let d=this.delayDecider(Qn.isThrottlingError(f)?He.THROTTLING_RETRY_DELAY_BASE:He.DEFAULT_RETRY_DELAY_BASE,o),m=lQ(f.$response),p=Math.max(m||0,d);i+=p,await new Promise(S=>setTimeout(S,p));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=i,f}}},lQ=e=>{if(!pi.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Fw=class extends Td{rateLimiter;constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new He.DefaultRateLimiter,this.mode=He.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Lw="AWS_MAX_ATTEMPTS",Uw="max_attempts",dQ={environmentVariableSelector:e=>{let t=e[Lw];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Lw} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Uw];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Uw} mast be a number, got "${t}"`);return r},default:He.DEFAULT_MAX_ATTEMPTS},fQ=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=ZN.normalizeProvider(n??He.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await ZN.normalizeProvider(r)()===He.RETRY_MODES.ADAPTIVE?new He.AdaptiveRetryStrategy(s):new He.StandardRetryStrategy(s))})},sO="AWS_RETRY_MODE",oO="retry_mode",pQ={environmentVariableSelector:e=>e[sO],configFileSelector:e=>e[oO],default:He.DEFAULT_RETRY_MODE},iO=()=>e=>async t=>{let{request:r}=t;return pi.HttpRequest.isInstance(r)&&(delete r.headers[He.INVOCATION_ID_HEADER],delete r.headers[He.REQUEST_HEADER]),e(t)},aO={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},mQ=e=>({applyToStack:t=>{t.addRelativeTo(iO(),aO)}}),cO=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(hQ(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:f}=n,d=pi.HttpRequest.isInstance(f);for(d&&(f.headers[He.INVOCATION_ID_HEADER]=eO.v4());;)try{d&&(f.headers[He.REQUEST_HEADER]=`attempt=${c+1}; max=${o}`);let{response:m,output:p}=await t(n);return s.recordSuccess(i),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=l,{response:m,output:p}}catch(m){let p=gQ(m);if(a=nO(m),d&&cQ.isStreamingPayload(f))throw(r.logger instanceof aQ.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await s.refreshRetryTokenForRetry(i,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let S=i.getRetryDelay();l+=S,await new Promise(R=>setTimeout(R,S))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},hQ=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",gQ=e=>{let t={error:e,errorType:yQ(e)},r=lO(e.$response);return r&&(t.retryAfterHint=r),t},yQ=e=>Qn.isThrottlingError(e)?"THROTTLING":Qn.isTransientError(e)?"TRANSIENT":Qn.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",uO={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},SQ=e=>({applyToStack:t=>{t.add(cO(e),uO)}}),lO=e=>{if(!pi.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Xe.AdaptiveRetryStrategy=Fw;Xe.CONFIG_MAX_ATTEMPTS=Uw;Xe.CONFIG_RETRY_MODE=oO;Xe.ENV_MAX_ATTEMPTS=Lw;Xe.ENV_RETRY_MODE=sO;Xe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=dQ;Xe.NODE_RETRY_MODE_CONFIG_OPTIONS=pQ;Xe.StandardRetryStrategy=Td;Xe.defaultDelayDecider=tO;Xe.defaultRetryDecider=rO;Xe.getOmitRetryHeadersPlugin=mQ;Xe.getRetryAfterHint=lO;Xe.getRetryPlugin=SQ;Xe.omitRetryHeadersMiddleware=iO;Xe.omitRetryHeadersMiddlewareOptions=aO;Xe.resolveRetryConfig=fQ;Xe.retryMiddleware=cO;Xe.retryMiddlewareOptions=uO});var qw=I(Jn=>{"use strict";u();Object.defineProperty(Jn,"__esModule",{value:!0});Jn.resolveHttpAuthSchemeConfig=Jn.defaultSESHttpAuthSchemeProvider=Jn.defaultSESHttpAuthSchemeParametersProvider=void 0;var EQ=(Gn(),te(zn)),Hw=Qt(),wQ=async(e,t,r)=>({operation:(0,Hw.getSmithyContext)(t).operation,region:await(0,Hw.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Jn.defaultSESHttpAuthSchemeParametersProvider=wQ;function RQ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"ses",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var _Q=e=>{let t=[];switch(e.operation){default:t.push(RQ(e))}return t};Jn.defaultSESHttpAuthSchemeProvider=_Q;var bQ=e=>{let t=(0,EQ.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Hw.normalizeProvider)(e.authSchemePreference??[])})};Jn.resolveHttpAuthSchemeConfig=bQ});var dO=I((eve,TQ)=>{TQ.exports={name:"@aws-sdk/client-ses",description:"AWS SDK for JavaScript Ses Client for Node.js, Browser and React Native",version:"3.956.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-ses","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo ses","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.956.0","@aws-sdk/credential-provider-node":"3.956.0","@aws-sdk/middleware-host-header":"3.956.0","@aws-sdk/middleware-logger":"3.956.0","@aws-sdk/middleware-recursion-detection":"3.956.0","@aws-sdk/middleware-user-agent":"3.956.0","@aws-sdk/region-config-resolver":"3.956.0","@aws-sdk/types":"3.956.0","@aws-sdk/util-endpoints":"3.956.0","@aws-sdk/util-user-agent-browser":"3.956.0","@aws-sdk/util-user-agent-node":"3.956.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-ses",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-ses"}}});var Bw=I(Zn=>{"use strict";u();var CQ=(vr(),te(Dn)),AQ=Tt(),fO="AWS_ACCESS_KEY_ID",pO="AWS_SECRET_ACCESS_KEY",mO="AWS_SESSION_TOKEN",hO="AWS_CREDENTIAL_EXPIRATION",gO="AWS_CREDENTIAL_SCOPE",yO="AWS_ACCOUNT_ID",xQ=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[fO],r=process.env[pO],n=process.env[mO],s=process.env[hO],o=process.env[gO],i=process.env[yO];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return CQ.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new AQ.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};Zn.ENV_ACCOUNT_ID=yO;Zn.ENV_CREDENTIAL_SCOPE=gO;Zn.ENV_EXPIRATION=hO;Zn.ENV_KEY=fO;Zn.ENV_SECRET=pO;Zn.ENV_SESSION=mO;Zn.fromEnv=xQ});var za=I(lt=>{"use strict";u();var Or=Tt(),IQ=q("url"),vQ=q("buffer"),PQ=q("http"),Ww=Ks(),NQ=Ko();function Va(e){return new Promise((t,r)=>{let n=PQ.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Or.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Or.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(r(Object.assign(new Or.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let i=[];s.on("data",a=>{i.push(a)}),s.on("end",()=>{t(vQ.Buffer.concat(i)),n.destroy()})}),n.end()})}var RO=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",_O=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),bO=1e3,TO=0,Kw=({maxRetries:e=TO,timeout:t=bO})=>({maxRetries:e,timeout:t}),Vw=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},Cd="AWS_CONTAINER_CREDENTIALS_FULL_URI",Ad="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",zw="AWS_CONTAINER_AUTHORIZATION_TOKEN",OQ=(e={})=>{let{timeout:t,maxRetries:r}=Kw(e);return()=>Vw(async()=>{let n=await FQ({logger:e.logger}),s=JSON.parse(await DQ(t,n));if(!RO(s))throw new Or.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return _O(s)},r)},DQ=async(e,t)=>(process.env[zw]&&(t.headers={...t.headers,Authorization:process.env[zw]}),(await Va({...t,timeout:e})).toString()),$Q="169.254.170.2",kQ={localhost:!0,"127.0.0.1":!0},MQ={"http:":!0,"https:":!0},FQ=async({logger:e})=>{if(process.env[Ad])return{hostname:$Q,path:process.env[Ad]};if(process.env[Cd]){let t=IQ.parse(process.env[Cd]);if(!t.hostname||!(t.hostname in kQ))throw new Or.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in MQ))throw new Or.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Or.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Ad} or ${Cd} environment variable is set`,{tryNextLink:!1,logger:e})},Gw=class e extends Or.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};lt.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(lt.Endpoint||(lt.Endpoint={}));var LQ="AWS_EC2_METADATA_SERVICE_ENDPOINT",UQ="ec2_metadata_service_endpoint",HQ={environmentVariableSelector:e=>e[LQ],configFileSelector:e=>e[UQ],default:void 0},mi;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(mi||(mi={}));var qQ="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",BQ="ec2_metadata_service_endpoint_mode",jQ={environmentVariableSelector:e=>e[qQ],configFileSelector:e=>e[BQ],default:mi.IPv4},CO=async()=>NQ.parseUrl(await VQ()||await zQ()),VQ=async()=>Ww.loadConfig(HQ)(),zQ=async()=>{let e=await Ww.loadConfig(jQ)();switch(e){case mi.IPv4:return lt.Endpoint.IPv4;case mi.IPv6:return lt.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(mi)}`)}},GQ=300,WQ=300,KQ="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",SO=(e,t)=>{let r=GQ+Math.floor(Math.random()*WQ),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+KQ);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},YQ=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=SO(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=SO(n,r);else throw o}return n=s,s}},AO="/latest/meta-data/iam/security-credentials/",XQ="/latest/api/token",jw="AWS_EC2_METADATA_V1_DISABLED",EO="ec2_metadata_v1_disabled",wO="x-aws-ec2-metadata-token",QQ=(e={})=>YQ(JQ(e),{logger:e.logger}),JQ=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:o}=Kw(e),i=async(a,c)=>{if(t||c.headers?.[wO]==null){let d=!1,m=!1,p=await Ww.loadConfig({environmentVariableSelector:S=>{let R=S[jw];if(m=!!R&&R!=="false",R===void 0)throw new Or.CredentialsProviderError(`${jw} not set in env, checking config file next.`,{logger:e.logger});return m},configFileSelector:S=>{let R=S[EO];return d=!!R&&R!=="false",d},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||p){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),d&&S.push(`config file profile (${EO})`),m&&S.push(`process environment variable (${jw})`),new Gw(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let f=(await Vw(async()=>{let d;try{d=await eJ(c)}catch(m){throw m.statusCode===401&&(t=!1),m}return d},a)).trim();return Vw(async()=>{let d;try{d=await tJ(f,c,e)}catch(m){throw m.statusCode===401&&(t=!1),m}return d},a)};return async()=>{let a=await CO();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:s});{let c;try{c=(await ZQ({...a,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:s})}return i(o,{...a,headers:{[wO]:c},timeout:s})}}},ZQ=async e=>Va({...e,path:XQ,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),eJ=async e=>(await Va({...e,path:AO})).toString(),tJ=async(e,t,r)=>{let n=JSON.parse((await Va({...t,path:AO+e})).toString());if(!RO(n))throw new Or.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return _O(n)};lt.DEFAULT_MAX_RETRIES=TO;lt.DEFAULT_TIMEOUT=bO;lt.ENV_CMDS_AUTH_TOKEN=zw;lt.ENV_CMDS_FULL_URI=Cd;lt.ENV_CMDS_RELATIVE_URI=Ad;lt.fromContainerMetadata=OQ;lt.fromInstanceMetadata=QQ;lt.getInstanceMetadataEndpoint=CO;lt.httpRequest=Va;lt.providerConfigFromInit=Kw});var xO=I(xd=>{"use strict";u();Object.defineProperty(xd,"__esModule",{value:!0});xd.checkUrl=void 0;var rJ=Tt(),nJ="169.254.170.2",sJ="169.254.170.23",oJ="[fd00:ec2::23]",iJ=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===nJ||e.hostname===sJ||e.hostname===oJ)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new rJ.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};xd.checkUrl=iJ});var IO=I(Id=>{"use strict";u();Object.defineProperty(Id,"__esModule",{value:!0});Id.createGetRequest=lJ;Id.getCredentials=dJ;var Yw=Tt(),aJ=ke(),cJ=ct(),uJ=tl();function lJ(e){return new aJ.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function dJ(e,t){let n=await(0,uJ.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Yw.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,cJ.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Yw.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Yw.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var vO=I(vd=>{"use strict";u();Object.defineProperty(vd,"__esModule",{value:!0});vd.retryWrapper=void 0;var fJ=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};vd.retryWrapper=fJ});var OO=I(Pd=>{"use strict";u();Object.defineProperty(Pd,"__esModule",{value:!0});Pd.fromHttp=void 0;var pJ=(Ta(),te(ba)),mJ=(vr(),te(Dn)),hJ=ma(),PO=Tt(),gJ=pJ.__importDefault(q("fs/promises")),yJ=xO(),NO=IO(),SJ=vO(),EJ="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",wJ="http://169.254.170.2",RJ="AWS_CONTAINER_CREDENTIALS_FULL_URI",_J="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",bJ="AWS_CONTAINER_AUTHORIZATION_TOKEN",TJ=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[EJ],n=e.awsContainerCredentialsFullUri??process.env[RJ],s=e.awsContainerAuthorizationToken??process.env[bJ],o=e.awsContainerAuthorizationTokenFile??process.env[_J],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${wJ}${r}`;else throw new PO.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,yJ.checkUrl)(a,e.logger);let c=hJ.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,SJ.retryWrapper)(async()=>{let l=(0,NO.createGetRequest)(a);s?l.headers.Authorization=s:o&&(l.headers.Authorization=(await gJ.default.readFile(o)).toString());try{let f=await c.handle(l);return(0,NO.getCredentials)(f.response).then(d=>(0,mJ.setCredentialFeature)(d,"CREDENTIALS_HTTP","z"))}catch(f){throw new PO.CredentialsProviderError(String(f),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Pd.fromHttp=TJ});var Xw=I(Nd=>{"use strict";u();Object.defineProperty(Nd,"__esModule",{value:!0});Nd.fromHttp=void 0;var CJ=OO();Object.defineProperty(Nd,"fromHttp",{enumerable:!0,get:function(){return CJ.fromHttp}})});var es=I(Pe=>{"use strict";u();Pe.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Pe.HttpAuthLocation||(Pe.HttpAuthLocation={}));Pe.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Pe.HttpApiKeyAuthLocation||(Pe.HttpApiKeyAuthLocation={}));Pe.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Pe.EndpointURLScheme||(Pe.EndpointURLScheme={}));Pe.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Pe.AlgorithmId||(Pe.AlgorithmId={}));var AJ=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>Pe.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>Pe.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},xJ=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},IJ=e=>AJ(e),vJ=e=>xJ(e);Pe.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Pe.FieldPosition||(Pe.FieldPosition={}));var PJ="__smithy_context";Pe.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Pe.IniSectionType||(Pe.IniSectionType={}));Pe.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Pe.RequestHandlerProtocol||(Pe.RequestHandlerProtocol={}));Pe.SMITHY_CONTEXT_KEY=PJ;Pe.getDefaultClientConfiguration=IJ;Pe.resolveDefaultRuntimeConfig=vJ});var Fe=I(ts=>{"use strict";u();var NJ=es(),OJ=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),DJ=e=>({httpHandler:e.httpHandler()}),Qw=class{name;kind;values;constructor({name:t,kind:r=NJ.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Jw=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},Zw=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=$J(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function $J(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var eR=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function kJ(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}ts.Field=Qw;ts.Fields=Jw;ts.HttpRequest=Zw;ts.HttpResponse=eR;ts.getHttpHandlerExtensionConfiguration=OJ;ts.isValidHostname=kJ;ts.resolveHttpHandlerRuntimeConfig=DJ});var Od=I(Ga=>{"use strict";u();var MJ=Fe();function FJ(e){return e}var DO=e=>t=>async r=>{if(!MJ.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},$O={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},LJ=e=>({applyToStack:t=>{t.add(DO(e),$O)}});Ga.getHostHeaderPlugin=LJ;Ga.hostHeaderMiddleware=DO;Ga.hostHeaderMiddlewareOptions=$O;Ga.resolveHostHeaderConfig=FJ});var $d=I(Dd=>{"use strict";u();var kO=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,f=c??t.inputFilterSensitiveLog,d=l??t.outputFilterSensitiveLog,{$metadata:m,...p}=n.output;return i?.info?.({clientName:s,commandName:o,input:f(r.input),output:d(p),metadata:m}),n}catch(n){let{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:s,commandName:o,input:l(r.input),error:n,metadata:n.$metadata}),n}},MO={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},UJ=e=>({applyToStack:t=>{t.add(kO(),MO)}});Dd.getLoggerPlugin=UJ;Dd.loggerMiddleware=kO;Dd.loggerMiddlewareOptions=MO});var FO=I(kd=>{"use strict";u();Object.defineProperty(kd,"__esModule",{value:!0});kd.recursionDetectionMiddleware=void 0;var HJ=(Cy(),te(Ty)),qJ=Fe(),tR="X-Amzn-Trace-Id",BJ="AWS_LAMBDA_FUNCTION_NAME",jJ="_X_AMZN_TRACE_ID",VJ=()=>e=>async t=>{let{request:r}=t;if(!qJ.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(f=>f.toLowerCase()===tR.toLowerCase())??tR;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[BJ],o=process.env[jJ],c=(await HJ.InvokeStore.getInstanceAsync())?.getXRayTraceId()??o,l=f=>typeof f=="string"&&f.length>0;return l(s)&&l(c)&&(r.headers[tR]=c),e({...t,request:r})};kd.recursionDetectionMiddleware=VJ});var Fd=I(Md=>{"use strict";u();var rR=FO(),zJ={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},GJ=e=>({applyToStack:t=>{t.add(rR.recursionDetectionMiddleware(),zJ)}});Md.getRecursionDetectionPlugin=GJ;Object.keys(rR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Md,e)&&Object.defineProperty(Md,e,{enumerable:!0,get:function(){return rR[e]}})})});var nR,WJ,LO=w(()=>{u();nR=T(es()),WJ=e=>e[nR.SMITHY_CONTEXT_KEY]||(e[nR.SMITHY_CONTEXT_KEY]={})});var Vt=I(sR=>{"use strict";u();var UO=es(),KJ=e=>e[UO.SMITHY_CONTEXT_KEY]||(e[UO.SMITHY_CONTEXT_KEY]={}),YJ=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};sR.getSmithyContext=KJ;sR.normalizeProvider=YJ});var HO,qO=w(()=>{u();HO=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function XJ(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var BO,Wa,Ld=w(()=>{u();BO=T(Vt());qO();Wa=(e,t)=>(r,n)=>async s=>{let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=HO(o,i),c=XJ(e.httpAuthSchemes),l=(0,BO.getSmithyContext)(n),f=[];for(let d of a){let m=c.get(d.schemeId);if(!m){f.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let p=m.identityProvider(await t.identityProviderConfigProvider(e));if(!p){f.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:S={},signingProperties:R={}}=d.propertiesExtractor?.(e,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},S),d.signingProperties=Object.assign(d.signingProperties||{},R),l.selectedHttpAuthScheme={httpAuthOption:d,identity:await p(d.identityProperties),signer:m.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(f.join(`
`));return r(s)}});var jO,Ys,VO=w(()=>{u();Ld();jO={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Ys=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Wa(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),jO)}})});var iR=I(hi=>{"use strict";u();var QJ=Fe(),zO=(e,t)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(QJ.HttpResponse.isInstance(o)){let{headers:c={}}=o,l=Object.entries(c);i.$metadata={httpStatusCode:o.statusCode,requestId:oR(/^x-[\w-]+-request-?id$/,l),extendedRequestId:oR(/^x-[\w-]+-id-2$/,l),cfId:oR(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},oR=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],GO=(e,t)=>(r,n)=>async s=>{let o=e,i=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:i});return r({...s,request:a})},WO={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},KO={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function JJ(e,t,r){return{applyToStack:n=>{n.add(zO(e,r),WO),n.add(GO(e,t),KO)}}}hi.deserializerMiddleware=zO;hi.deserializerMiddlewareOption=WO;hi.getSerdePlugin=JJ;hi.serializerMiddleware=GO;hi.serializerMiddlewareOption=KO});var YO,XO,ZJ,QO=w(()=>{u();YO=T(iR());Ld();XO={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:YO.serializerMiddlewareOption.name},ZJ=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Wa(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),XO)}})});var JO=w(()=>{u();Ld();VO();QO()});var ZO,eD,e7,t7,aR,cR=w(()=>{u();ZO=T(Fe()),eD=T(Vt()),e7=e=>t=>{throw t},t7=(e,t)=>{},aR=e=>(t,r)=>async n=>{if(!ZO.HttpRequest.isInstance(n.request))return t(n);let o=(0,eD.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=o,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||e7)(i));return(c.successHandler||t7)(l.response,i),l}});var tD,Xs,rD=w(()=>{u();cR();tD={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Xs=e=>({applyToStack:t=>{t.addRelativeTo(aR(e),tD)}})});var nD=w(()=>{u();cR();rD()});var rs,sD=w(()=>{u();rs=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function oD(e,t,r,n,s){return async function*(i,a,...c){let l=a,f=i.startingToken??l[r],d=!0,m;for(;d;){if(l[r]=f,s&&(l[s]=l[s]??i.pageSize),i.client instanceof e)m=await r7(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let p=f;f=n7(m,n),d=!!(f&&(!i.stopOnSameToken||f!==p))}return void 0}}var r7,n7,iD=w(()=>{u();r7=async(e,t,r,n=o=>o,...s)=>{let o=new e(r);return o=n(o)??o,await t.send(o,...s)};n7=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var uR=I(aD=>{"use strict";u();var s7=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";aD.isArrayBuffer=s7});var gi=I(dR=>{"use strict";u();var o7=uR(),lR=q("buffer"),i7=(e,t=0,r=e.byteLength-t)=>{if(!o7.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return lR.Buffer.from(e,t,r)},a7=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?lR.Buffer.from(e,t):lR.Buffer.from(e)};dR.fromArrayBuffer=i7;dR.fromString=a7});var cD=I(Ud=>{"use strict";u();Object.defineProperty(Ud,"__esModule",{value:!0});Ud.fromBase64=void 0;var c7=gi(),u7=/^[A-Za-z0-9+/]*={0,2}$/,l7=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!u7.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,c7.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ud.fromBase64=l7});var dt=I(Hd=>{"use strict";u();var uD=gi(),lD=e=>{let t=uD.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},d7=e=>typeof e=="string"?lD(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),f7=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return uD.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Hd.fromUtf8=lD;Hd.toUint8Array=d7;Hd.toUtf8=f7});var dD=I(qd=>{"use strict";u();Object.defineProperty(qd,"__esModule",{value:!0});qd.toBase64=void 0;var p7=gi(),m7=dt(),h7=e=>{let t;if(typeof e=="string"?t=(0,m7.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,p7.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};qd.toBase64=h7});var ft=I(Ka=>{"use strict";u();var fD=cD(),pD=dD();Object.keys(fD).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ka,e)&&Object.defineProperty(Ka,e,{enumerable:!0,get:function(){return fD[e]}})});Object.keys(pD).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ka,e)&&Object.defineProperty(Ka,e,{enumerable:!0,get:function(){return pD[e]}})})});var pR=I(Bd=>{"use strict";u();Object.defineProperty(Bd,"__esModule",{value:!0});Bd.ChecksumStream=void 0;var g7=ft(),y7=q("stream"),fR=class extends y7.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=o??g7.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Bd.ChecksumStream=fR});var ns=I(yi=>{"use strict";u();Object.defineProperty(yi,"__esModule",{value:!0});yi.isBlob=yi.isReadableStream=void 0;var S7=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);yi.isReadableStream=S7;var E7=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);yi.isBlob=E7});var mD=I(jd=>{"use strict";u();Object.defineProperty(jd,"__esModule",{value:!0});jd.ChecksumStream=void 0;var w7=typeof ReadableStream=="function"?ReadableStream:function(){},mR=class extends w7{};jd.ChecksumStream=mR});var hD=I(Vd=>{"use strict";u();Object.defineProperty(Vd,"__esModule",{value:!0});Vd.createChecksumStream=void 0;var R7=ft(),_7=ns(),b7=mD(),T7=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,_7.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let o=s??R7.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,l){t.update(c),l.enqueue(c)},async flush(c){let l=await t.digest(),f=o(l);if(e!==f){let d=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);c.error(d)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,b7.ChecksumStream.prototype),a};Vd.createChecksumStream=T7});var gD=I(hR=>{"use strict";u();Object.defineProperty(hR,"__esModule",{value:!0});hR.createChecksumStream=I7;var C7=ns(),A7=pR(),x7=hD();function I7(e){return typeof ReadableStream=="function"&&(0,C7.isReadableStream)(e.source)?(0,x7.createChecksumStream)(e):new A7.ChecksumStream(e)}});var yR=I(zd=>{"use strict";u();Object.defineProperty(zd,"__esModule",{value:!0});zd.ByteArrayCollector=void 0;var gR=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};zd.ByteArrayCollector=gR});var wD=I(un=>{"use strict";u();Object.defineProperty(un,"__esModule",{value:!0});un.createBufferedReadable=void 0;un.createBufferedReadableStream=yD;un.merge=SD;un.flush=Gd;un.sizeOf=Si;un.modeOf=ED;var v7=yR();function yD(e,t,r){let n=e.getReader(),s=!1,o=0,i=["",new v7.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:f,done:d}=await n.read(),m=f;if(d){if(a!==-1){let p=Gd(i,a);Si(p)>0&&l.enqueue(p)}l.close()}else{let p=ED(m,!1);if(a!==p&&(a>=0&&l.enqueue(Gd(i,a)),a=p),a===-1){l.enqueue(m);return}let S=Si(m);o+=S;let R=Si(i[a]);if(S>=t&&R===0)l.enqueue(m);else{let _=SD(i,a,m);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${t}, automatically buffering.`)),_>=t?l.enqueue(Gd(i,a)):await c(l)}}};return new ReadableStream({pull:c})}un.createBufferedReadable=yD;function SD(e,t,r){switch(t){case 0:return e[0]+=r,Si(e[0]);case 1:case 2:return e[t].push(r),Si(e[t])}}function Gd(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Si(e){return e?.byteLength??e?.length??0}function ED(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var _D=I(SR=>{"use strict";u();Object.defineProperty(SR,"__esModule",{value:!0});SR.createBufferedReadable=O7;var P7=q("node:stream"),RD=yR(),ln=wD(),N7=ns();function O7(e,t,r){if((0,N7.isReadableStream)(e))return(0,ln.createBufferedReadableStream)(e,t,r);let n=new P7.Readable({read(){}}),s=!1,o=0,i=["",new RD.ByteArrayCollector(c=>new Uint8Array(c)),new RD.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,ln.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,ln.flush)(i,a)),a=l),a===-1){n.push(c);return}let f=(0,ln.sizeOf)(c);o+=f;let d=(0,ln.sizeOf)(i[a]);if(f>=t&&d===0)n.push(c);else{let m=(0,ln.merge)(i,a,c);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${t}, automatically buffering.`)),m>=t&&n.push((0,ln.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,ln.flush)(i,a);(0,ln.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var bD=I(Wd=>{"use strict";u();Object.defineProperty(Wd,"__esModule",{value:!0});Wd.getAwsChunkedEncodingStream=void 0;var D7=q("stream"),$7=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=t,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,e):void 0,l=new D7.Readable({read:()=>{}});return e.on("data",f=>{let d=n(f)||0;l.push(`${d.toString(16)}\r
`),l.push(f),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let f=r(await c);l.push(`${o}:${f}\r
`),l.push(`\r
`)}l.push(null)}),l};Wd.getAwsChunkedEncodingStream=$7});var TD=I(ER=>{"use strict";u();Object.defineProperty(ER,"__esModule",{value:!0});ER.headStream=k7;async function k7(e,t){let r=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:c,value:l}=await s.read();if(l&&(n.push(l),r+=l?.byteLength??0),r>=t)break;o=c}s.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var CD=I(Kd=>{"use strict";u();Object.defineProperty(Kd,"__esModule",{value:!0});Kd.headStream=void 0;var M7=q("stream"),F7=TD(),L7=ns(),U7=(e,t)=>(0,L7.isReadableStream)(e)?(0,F7.headStream)(e,t):new Promise((r,n)=>{let s=new wR;s.limit=t,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});Kd.headStream=U7;var wR=class extends M7.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var _R=I(RR=>{"use strict";u();var AD=e=>encodeURIComponent(e).replace(/[!'()*]/g,H7),H7=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,q7=e=>e.split("/").map(AD).join("/");RR.escapeUri=AD;RR.escapeUriPath=q7});var TR=I(xD=>{"use strict";u();var bR=_R();function B7(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=bR.escapeUri(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)t.push(`${r}=${bR.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${bR.escapeUri(n)}`),t.push(s)}}return t.join("&")}xD.buildQueryString=B7});var Xa=I(Ya=>{"use strict";u();var ND=Fe(),OD=TR(),Yd=q("http"),Xd=q("https"),DD=q("stream"),CR=q("http2"),j7=["ECONNRESET","EPIPE","ETIMEDOUT"],$D=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},xt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},ID=1e3,V7=(e,t,r=0)=>{if(!r)return-1;let n=s=>{let o=xt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),i=a=>{a?.connecting?a.on("connect",()=>{xt.clearTimeout(o)}):xt.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):xt.setTimeout(n.bind(null,ID),ID)},z7=(e,t,r=0,n,s)=>r?xt.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},r):-1,G7=3e3,W7=(e,{keepAlive:t,keepAliveMsecs:r},n=G7)=>{if(t!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})};return n===0?(s(),0):xt.setTimeout(s,n)},vD=3e3,K7=(e,t,r=0)=>{let n=s=>{let o=r-s,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<r&&r<6e3?(n(0),0):xt.setTimeout(n.bind(null,r===0?0:vD),vD)},PD=6e3;async function kD(e,t,r=PD,n=!1){let s=t.headers??{},o=s.Expect||s.expect,i=-1,a=!0;!n&&o==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(xt.setTimeout(()=>c(!0),Math.max(PD,r)))}),new Promise(c=>{e.on("continue",()=>{xt.clearTimeout(i),c(!0)}),e.on("response",()=>{xt.clearTimeout(i),c(!1)}),e.on("error",()=>{xt.clearTimeout(i),c(!1)})})])),a&&Y7(e,t.body)}function Y7(e,t){if(t instanceof DD.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var X7=0,AR=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:o,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let c in s){let l=s[c]?.length??0,f=o[c]?.length??0;if(l>=i&&f>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=t||{},l=!0,f=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:c,httpAgent:i instanceof Yd.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Yd.Agent({keepAlive:l,maxSockets:f,...i}),httpsAgent:a instanceof Xd.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Xd.Agent({keepAlive:l,maxSockets:f,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i=this.config,a,c=[],l=async U=>{await a,c.forEach(xt.clearTimeout),s(U)},f=async U=>{await a,c.forEach(xt.clearTimeout),o(U)};if(r?.aborted){let U=new Error("Request aborted");U.name="AbortError",f(U);return}let d=t.protocol==="https:",m=t.headers??{},p=(m.Expect??m.expect)==="100-continue",S=d?i.httpsAgent:i.httpAgent;p&&!this.externalAgent&&(S=new(d?Xd.Agent:Yd.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(xt.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(S,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let R=OD.buildQueryString(t.query||{}),_;if(t.username!=null||t.password!=null){let U=t.username??"",G=t.password??"";_=`${U}:${G}`}let C=t.path;R&&(C+=`?${R}`),t.fragment&&(C+=`#${t.fragment}`);let x=t.hostname??"";x[0]==="["&&x.endsWith("]")?x=t.hostname.slice(1,-1):x=t.hostname;let D={headers:t.headers,host:x,method:t.method,path:C,port:t.port,agent:S,auth:_},M=(d?Xd.request:Yd.request)(D,U=>{let G=new ND.HttpResponse({statusCode:U.statusCode||-1,reason:U.statusMessage,headers:$D(U.headers),body:U});l({response:G})});if(M.on("error",U=>{j7.includes(U.code)?f(Object.assign(U,{name:"TimeoutError"})):f(U)}),r){let U=()=>{M.destroy();let G=new Error("Request aborted");G.name="AbortError",f(G)};if(typeof r.addEventListener=="function"){let G=r;G.addEventListener("abort",U,{once:!0}),M.once("close",()=>G.removeEventListener("abort",U))}else r.onabort=U}let j=n??i.requestTimeout;c.push(V7(M,f,i.connectionTimeout)),c.push(z7(M,f,j,i.throwOnRequestTimeout,i.logger??console)),c.push(K7(M,f,i.socketTimeout));let ye=D.agent;typeof ye=="object"&&"keepAlive"in ye&&c.push(W7(M,{keepAlive:ye.keepAlive,keepAliveMsecs:ye.keepAliveMsecs})),a=kD(M,t,j,this.externalAgent).catch(U=>(c.forEach(xt.clearTimeout),o(U)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},xR=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},IR=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let c=s.poll();if(c&&!this.config.disableConcurrency)return c}let o=CR.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new xR;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},vR=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new IR({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((a,c)=>{let l=!1,f,d=async X=>{await f,a(X)},m=async X=>{await f,c(X)};if(r?.aborted){l=!0;let X=new Error("Request aborted");X.name="AbortError",m(X);return}let{hostname:p,method:S,port:R,protocol:_,query:C}=t,x="";if(t.username!=null||t.password!=null){let X=t.username??"",_e=t.password??"";x=`${X}:${_e}@`}let D=`${_}//${x}${p}${R?`:${R}`:""}`,k={destination:new URL(D)},M=this.connectionManager.lease(k,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),j=X=>{o&&this.destroySession(M),l=!0,m(X)},ye=OD.buildQueryString(C||{}),U=t.path;ye&&(U+=`?${ye}`),t.fragment&&(U+=`#${t.fragment}`);let G=M.request({...t.headers,[CR.constants.HTTP2_HEADER_PATH]:U,[CR.constants.HTTP2_HEADER_METHOD]:S});if(M.ref(),G.on("response",X=>{let _e=new ND.HttpResponse({statusCode:X[":status"]||-1,headers:$D(X),body:G});l=!0,d({response:_e}),o&&(M.close(),this.connectionManager.deleteSession(D,M))}),i&&G.setTimeout(i,()=>{G.close();let X=new Error(`Stream timed out because of no activity for ${i} ms`);X.name="TimeoutError",j(X)}),r){let X=()=>{G.close();let _e=new Error("Request aborted");_e.name="AbortError",j(_e)};if(typeof r.addEventListener=="function"){let _e=r;_e.addEventListener("abort",X,{once:!0}),G.once("close",()=>_e.removeEventListener("abort",X))}else r.onabort=X}G.on("frameError",(X,_e,ot)=>{j(new Error(`Frame type id ${X} in stream id ${ot} has failed with code ${_e}.`))}),G.on("error",j),G.on("aborted",()=>{j(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${G.rstCode}.`))}),G.on("close",()=>{M.unref(),o&&M.destroy(),l||j(new Error("Unexpected error: http2 request did not get a response"))}),f=kD(G,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},PR=class extends DD.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},Q7=e=>J7(e)?Z7(e):new Promise((t,r)=>{let n=new PR;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),J7=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function Z7(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}Ya.DEFAULT_REQUEST_TIMEOUT=X7;Ya.NodeHttp2Handler=vR;Ya.NodeHttpHandler=AR;Ya.streamCollector=Q7});var LD=I(Jd=>{"use strict";u();var MD=Fe(),eZ=TR(),tZ=ft();function FD(e,t){return new Request(e,t)}function rZ(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var Qd={supported:void 0},NR=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Qd.supported===void 0&&(Qd.supported=typeof Request<"u"&&"keepalive"in FD("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let x=new Error("Request aborted");return x.name="AbortError",Promise.reject(x)}let a=t.path,c=eZ.buildQueryString(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let x=t.username??"",D=t.password??"";l=`${x}:${D}@`}let{port:f,method:d}=t,m=`${t.protocol}//${l}${t.hostname}${f?`:${f}`:""}${a}`,p=d==="GET"||d==="HEAD"?void 0:t.body,S={body:p,headers:new Headers(t.headers),method:d,credentials:i};this.config?.cache&&(S.cache=this.config.cache),p&&(S.duplex="half"),typeof AbortController<"u"&&(S.signal=r),Qd.supported&&(S.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(S,this.config.requestInit(t));let R=()=>{},_=FD(m,S),C=[fetch(_).then(x=>{let D=x.headers,k={};for(let j of D.entries())k[j[0]]=j[1];return x.body!=null?{response:new MD.HttpResponse({headers:k,reason:x.statusText,statusCode:x.status,body:x.body})}:x.blob().then(j=>({response:new MD.HttpResponse({headers:k,reason:x.statusText,statusCode:x.status,body:j})}))}),rZ(s)];return r&&C.push(new Promise((x,D)=>{let k=()=>{let M=new Error("Request aborted");M.name="AbortError",D(M)};if(typeof r.addEventListener=="function"){let M=r;M.addEventListener("abort",k,{once:!0}),R=()=>M.removeEventListener("abort",k)}else r.onabort=k})),Promise.race(C).finally(R)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},nZ=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):sZ(e):oZ(e);async function sZ(e){let t=await iZ(e),r=tZ.fromBase64(t);return new Uint8Array(r)}async function oZ(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}function iZ(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;t(s.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Jd.FetchHttpHandler=NR;Jd.keepAliveSupport=Qd;Jd.streamCollector=nZ});var $R=I(DR=>{"use strict";u();var UD={},OR={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),UD[e]=t,OR[t]=e}function aZ(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in OR)t[r/2]=OR[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function cZ(e){let t="";for(let r=0;r<e.byteLength;r++)t+=UD[e[r]];return t}DR.fromHex=aZ;DR.toHex=cZ});var jD=I(Zd=>{"use strict";u();Object.defineProperty(Zd,"__esModule",{value:!0});Zd.sdkStreamMixin=void 0;var uZ=LD(),lZ=ft(),dZ=$R(),fZ=dt(),HD=ns(),qD="The stream has already been transformed.",pZ=e=>{if(!BD(e)&&!(0,HD.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(qD);return t=!0,await(0,uZ.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let o=await r();if(s==="base64")return(0,lZ.toBase64)(o);if(s==="hex")return(0,dZ.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,fZ.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(qD);if(t=!0,BD(e))return n(e);if((0,HD.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Zd.sdkStreamMixin=pZ;var BD=e=>typeof Blob=="function"&&e instanceof Blob});var zD=I(ef=>{"use strict";u();Object.defineProperty(ef,"__esModule",{value:!0});ef.sdkStreamMixin=void 0;var mZ=Xa(),hZ=gi(),kR=q("stream"),gZ=jD(),VD="The stream has already been transformed.",yZ=e=>{if(!(e instanceof kR.Readable))try{return(0,gZ.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(VD);return t=!0,await(0,mZ.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let s=await r();return n===void 0||Buffer.isEncoding(n)?(0,hZ.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(t)throw new Error(VD);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof kR.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,kR.Readable.toWeb(e)}})};ef.sdkStreamMixin=yZ});var GD=I(MR=>{"use strict";u();Object.defineProperty(MR,"__esModule",{value:!0});MR.splitStream=SZ;async function SZ(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var YD=I(FR=>{"use strict";u();Object.defineProperty(FR,"__esModule",{value:!0});FR.splitStream=wZ;var WD=q("stream"),EZ=GD(),KD=ns();async function wZ(e){if((0,KD.isReadableStream)(e)||(0,KD.isBlob)(e))return(0,EZ.splitStream)(e);let t=new WD.PassThrough,r=new WD.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var UR=I(Ze=>{"use strict";u();var XD=ft(),QD=dt(),JD=pR(),ZD=gD(),e$=_D(),t$=bD(),r$=CD(),n$=zD(),s$=YD(),o$=ns(),LR=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(XD.fromBase64(t)):e.mutate(QD.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?XD.toBase64(this):QD.toUtf8(this)}};Ze.Uint8ArrayBlobAdapter=LR;Object.keys(JD).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return JD[e]}})});Object.keys(ZD).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return ZD[e]}})});Object.keys(e$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return e$[e]}})});Object.keys(t$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return t$[e]}})});Object.keys(r$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return r$[e]}})});Object.keys(n$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return n$[e]}})});Object.keys(s$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return s$[e]}})});Object.keys(o$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return o$[e]}})})});var tf,tr,rf=w(()=>{u();tf=T(UR()),tr=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return tf.Uint8ArrayBlobAdapter.mutate(e);if(!e)return tf.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return tf.Uint8ArrayBlobAdapter.mutate(await r)}});function Dr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var nf=w(()=>{u()});var mr,HR=w(()=>{u();mr=e=>typeof e=="function"?e():e});var Qa,sf=w(()=>{u();Qa=(e,t,r,n,s)=>({name:t,namespace:e,traits:r,input:n,output:s})});var i$,a$,c$,qR,u$=w(()=>{u();i$=T(Fe()),a$=T(Vt());sf();c$=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:o}=(0,a$.getSmithyContext)(r),[,i,a,c,l,f]=o??[];try{let d=await e.protocol.deserializeResponse(Qa(i,a,c,l,f),{...e,...r},s);return{response:s,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){let m="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+m}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(m):r.logger?.warn?.(m)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(i$.HttpResponse.isInstance(s)){let{headers:p={}}=s,S=Object.entries(p);d.$metadata={httpStatusCode:s.statusCode,requestId:qR(/^x-[\w-]+-request-?id$/,S),extendedRequestId:qR(/^x-[\w-]+-id-2$/,S),cfId:qR(/^x-[\w-]+-cf-id$/,S)}}}catch{}}throw d}},qR=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var l$,d$,f$=w(()=>{u();l$=T(Vt());sf();d$=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,l$.getSmithyContext)(r),[,o,i,a,c,l]=s??[],f=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,d=await e.protocol.serializeRequest(Qa(o,i,a,c,l),n.input,{...e,...r,endpoint:f});return t({...n,request:d})}});function Qs(e){return{applyToStack:t=>{t.add(d$(e),m$),t.add(c$(e),p$),e.protocol.setSerdeContext(e)}}}var p$,m$,h$=w(()=>{u();u$();f$();p$={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},m$={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var We,ss=w(()=>{u();We=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var of,RZ,g$=w(()=>{u();ss();of=class e extends We{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},RZ=(e,t,r,n)=>We.assign(new of,{name:t,namespace:e,traits:r,valueSchema:n})});var af,_Z,y$=w(()=>{u();ss();af=class e extends We{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},_Z=(e,t,r,n,s)=>We.assign(new af,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var cf,bZ,S$=w(()=>{u();ss();cf=class e extends We{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},bZ=(e,t,r,n,s)=>We.assign(new cf,{name:t,namespace:e,traits:r,input:n,output:s})});var Ei,TZ,BR=w(()=>{u();ss();Ei=class e extends We{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},TZ=(e,t,r,n,s)=>We.assign(new Ei,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var uf,CZ,E$=w(()=>{u();ss();BR();uf=class e extends Ei{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},CZ=(e,t,r,n,s,o)=>We.assign(new uf,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:null})});function $r(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var jR=w(()=>{u()});function Ja(e,t){if(e instanceof z)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=z;return new r(e,t)}var z,VR,w$,R$=w(()=>{u();HR();jR();z=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],s=t,o=t;for(this._isMemberSchema=!1;VR(s);)n.push(s[1]),s=s[0],o=mr(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,$r(a))}}else this.memberTraits=0;if(o instanceof e){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=mr(o),w$(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=mr(t);if(r instanceof e)return r;if(VR(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),$r(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:s}=this;return t(r)||t(n)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return $r(this.memberTraits)}getOwnTraits(){return $r(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:n[4]??0;return Ja([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t[3+t[0]]:r?15:void 0;if(o!=null)return Ja([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),s=r[5][n];return Ja(VR(s)?s:[s,0],t)}if(this.isDocumentSchema())return Ja([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],Ja([t[5][r],0],t[4][r])]}};VR=e=>Array.isArray(e)&&e.length===2,w$=e=>Array.isArray(e)&&e.length>=5});var Za,AZ,xZ,_$=w(()=>{u();ss();Za=class e extends We{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},AZ=(e,t,r,n)=>We.assign(new Za,{name:t,namespace:e,traits:n,schemaRef:r}),xZ=(e,t,r,n)=>We.assign(new Za,{name:t,namespace:e,traits:r,schemaRef:n})});var IZ,b$=w(()=>{u();IZ={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Q,T$=w(()=>{u();Q=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var C$={};ze(C$,{ErrorSchema:()=>uf,ListSchema:()=>of,MapSchema:()=>af,NormalizedSchema:()=>z,OperationSchema:()=>cf,SCHEMA:()=>IZ,Schema:()=>We,SimpleSchema:()=>Za,StructureSchema:()=>Ei,TypeRegistry:()=>Q,deref:()=>mr,deserializerMiddlewareOption:()=>p$,error:()=>CZ,getSchemaSerdePlugin:()=>Qs,isStaticSchema:()=>w$,list:()=>RZ,map:()=>_Z,op:()=>bZ,operation:()=>Qa,serializerMiddlewareOption:()=>m$,sim:()=>AZ,simAdapter:()=>xZ,struct:()=>TZ,translateTraits:()=>$r});var Ce=w(()=>{u();HR();h$();g$();y$();S$();sf();E$();R$();ss();_$();BR();b$();jR();T$()});var vZ,A$=w(()=>{u();vZ=(e,t,r=n=>n)=>e});var PZ,NZ,ec,OZ,lf,tc,DZ,zR,GR,WR,KR,$Z,kZ,x$,MZ,FZ,ff,LZ,YR,UZ,wi,XR,HZ,qZ,BZ,I$,v$,jZ,VZ,Js,QR,df,rc,JR=w(()=>{u();PZ=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},NZ=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&rc.warn(df(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&rc.warn(df(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ec=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&rc.warn(df(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},OZ=Math.ceil(34028234663852886e22),lf=e=>{let t=ec(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>OZ)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},tc=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},DZ=tc,zR=e=>KR(e,32),GR=e=>KR(e,16),WR=e=>KR(e,8),KR=(e,t)=>{let r=tc(e);if(r!==void 0&&$Z(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},$Z=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},kZ=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},x$=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},MZ=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return rc.warn(df(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},FZ=e=>{if(e==null)return;let t=x$(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},ff=e=>ec(typeof e=="string"?wi(e):e),LZ=ff,YR=e=>lf(typeof e=="string"?wi(e):e),UZ=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,wi=e=>{let t=e.match(UZ);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},XR=e=>typeof e=="string"?I$(e):ec(e),HZ=XR,qZ=XR,BZ=e=>typeof e=="string"?I$(e):lf(e),I$=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},v$=e=>tc(typeof e=="string"?wi(e):e),jZ=v$,VZ=e=>zR(typeof e=="string"?wi(e):e),Js=e=>GR(typeof e=="string"?wi(e):e),QR=e=>WR(typeof e=="string"?wi(e):e),df=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),rc={warn:console.warn}});function sc(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,f=i<10?`0${i}`:`${i}`,d=a<10?`0${a}`:`${a}`;return`${zZ[n]}, ${c} ${e_[r]} ${t} ${l}:${f}:${d} GMT`}var zZ,e_,GZ,WZ,KZ,t_,YZ,XZ,QZ,r_,n_,nc,JZ,ZZ,eee,ZR,tee,ree,nee,kr,see,oee,Ri,P$=w(()=>{u();JR();zZ=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];GZ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),WZ=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=GZ.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,l]=t,f=Js(Ri(n)),d=kr(s,"month",1,12),m=kr(o,"day",1,31);return nc(f,d,m,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},KZ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),t_=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=KZ.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,l,f]=t,d=Js(Ri(n)),m=kr(s,"month",1,12),p=kr(o,"day",1,31),S=nc(d,m,p,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return f.toUpperCase()!="Z"&&S.setTime(S.getTime()-oee(f)),S},YZ=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),XZ=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),QZ=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),r_=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=YZ.exec(e);if(t){let[r,n,s,o,i,a,c,l]=t;return nc(Js(Ri(o)),ZR(s),kr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=XZ.exec(e),t){let[r,n,s,o,i,a,c,l]=t;return eee(nc(JZ(o),ZR(s),kr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=QZ.exec(e),t){let[r,n,s,o,i,a,c,l]=t;return nc(Js(Ri(l)),ZR(n),kr(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},n_=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ff(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},nc=(e,t,r,n)=>{let s=t-1;return ree(e,s,r),new Date(Date.UTC(e,s,r,kr(n.hours,"hour",0,23),kr(n.minutes,"minute",0,59),kr(n.seconds,"seconds",0,60),see(n.fractionalMilliseconds)))},JZ=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Js(Ri(e));return r<t?r+100:r},ZZ=50*365*24*60*60*1e3,eee=e=>e.getTime()-new Date().getTime()>ZZ?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,ZR=e=>{let t=e_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},tee=[31,28,31,30,31,30,31,31,30,31,30,31],ree=(e,t,r)=>{let n=tee[t];if(t===1&&nee(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${e_[t]} in ${e}: ${r}`)},nee=e=>e%4===0&&(e%100!==0||e%400===0),kr=(e,t,r,n)=>{let s=QR(Ri(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},see=e=>e==null?0:YR("0."+e)*1e3,oee=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},Ri=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var rr,N$=w(()=>{u();rr=T(Ca())});var It,O$=w(()=>{u();It=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};It.from=e=>e&&typeof e=="object"&&(e instanceof It||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?It(String(e)):It(JSON.stringify(e));It.fromObject=It.from});function s_(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var D$=w(()=>{u()});function dn(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var o_,i_,a_,$$,k$,iee,aee,cee,uee,lee,_i,c_,u_,M$=w(()=>{u();o_="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",i_="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",a_="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",$$="(\\d?\\d)",k$="(\\d{4})",iee=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),aee=new RegExp(`^${o_}, ${$$} ${i_} ${k$} ${a_} GMT$`),cee=new RegExp(`^${o_}, ${$$}-${i_}-(\\d\\d) ${a_} GMT$`),uee=new RegExp(`^${o_} ${i_} ( [1-9]|\\d\\d) ${a_} ${k$}$`),lee=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_i=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},c_=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=iee.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,s,o,i,a,,c,l]=t;dn(n,1,12),dn(s,1,31),dn(o,0,23),dn(i,0,59),dn(a,0,60);let f=new Date(Date.UTC(Number(r),Number(n)-1,Number(s),Number(o),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(f.setUTCFullYear(Number(r)),l.toUpperCase()!="Z"){let[,d,m,p]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],S=d==="-"?1:-1;f.setTime(f.getTime()+S*(Number(m)*60*60*1e3+Number(p)*60*1e3))}return f},u_=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,s,o,i,a,c;if((c=aee.exec(e))?[,t,r,n,s,o,i,a]=c:(c=cee.exec(e))?([,t,r,n,s,o,i,a]=c,n=(Number(n)+1900).toString()):(c=uee.exec(e))&&([,r,t,s,o,i,a,n]=c),n&&i){let l=Date.UTC(Number(n),lee.indexOf(r),Number(t),Number(s),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);dn(t,1,31),dn(s,0,23),dn(o,0,59),dn(i,0,60);let f=new Date(l);return f.setUTCFullYear(Number(n)),f}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function l_(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=t+n[i],(i+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var F$=w(()=>{u()});var oc,L$=w(()=>{u();oc=e=>{let t=e.length,r=[],n=!1,s,o=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(o,i)),o=i+1);break;default:}s=a}return r.push(e.slice(o)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function d_(e){return new Le(String(e),"bigDecimal")}var U$,Le,H$=w(()=>{u();U$=/^-?\d*(\.\d+)?$/,Le=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!U$.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&U$.test(r.string)}}});var q$={};ze(q$,{LazyJsonString:()=>It,NumericValue:()=>Le,_parseEpochTimestamp:()=>_i,_parseRfc3339DateTimeWithOffset:()=>c_,_parseRfc7231DateTime:()=>u_,copyDocumentWithTransform:()=>vZ,dateToUtcString:()=>sc,expectBoolean:()=>NZ,expectByte:()=>WR,expectFloat32:()=>lf,expectInt:()=>DZ,expectInt32:()=>zR,expectLong:()=>tc,expectNonNull:()=>kZ,expectNumber:()=>ec,expectObject:()=>x$,expectShort:()=>GR,expectString:()=>MZ,expectUnion:()=>FZ,generateIdempotencyToken:()=>rr.v4,handleFloat:()=>HZ,limitedParseDouble:()=>XR,limitedParseFloat:()=>qZ,limitedParseFloat32:()=>BZ,logger:()=>rc,nv:()=>d_,parseBoolean:()=>PZ,parseEpochTimestamp:()=>n_,parseRfc3339DateTime:()=>WZ,parseRfc3339DateTimeWithOffset:()=>t_,parseRfc7231DateTime:()=>r_,quoteHeader:()=>s_,splitEvery:()=>l_,splitHeader:()=>oc,strictParseByte:()=>QR,strictParseDouble:()=>ff,strictParseFloat:()=>LZ,strictParseFloat32:()=>YR,strictParseInt:()=>jZ,strictParseInt32:()=>VZ,strictParseLong:()=>v$,strictParseShort:()=>Js});var Ut=w(()=>{u();A$();P$();N$();O$();JR();D$();M$();F$();L$();H$()});var vt,bi=w(()=>{u();vt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var pf,f_,B$=w(()=>{u();pf=T(dt()),f_=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,o=r.getEventStreamMember(),i=r.getMemberSchema(o),a=this.serializer,c=this.defaultContentType,l=Symbol("initialRequestMarker"),f={async*[Symbol.asyncIterator](){if(n){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let m=a.flush();yield{[l]:!0,headers:d,body:m}}for await(let d of t)yield d}};return s.serialize(f,d=>{if(d[l])return{headers:d.headers,body:d.body};let m=Object.keys(d).find(x=>x!=="__type")??"",{additionalHeaders:p,body:S,eventType:R,explicitPayloadContentType:_}=this.writeEventBody(m,i,d);return{headers:{":event-type":{type:"string",value:R},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:_??c},...p},body:S}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async m=>{let p=Object.keys(m).find(R=>R!=="__type")??"",S=m[p].body;if(p==="initial-response"){let R=await this.deserializer.read(r,S);return delete R[o],{[c]:!0,...R}}else if(p in a){let R=a[p];if(R.isStructSchema()){let _={},C=!1;for(let[x,D]of R.structIterator()){let{eventHeader:k,eventPayload:M}=D.getMergedTraits();if(C=C||!!(k||M),M)D.isBlobSchema()?_[x]=S:D.isStringSchema()?_[x]=(this.serdeContext?.utf8Encoder??pf.toUtf8)(S):D.isStructSchema()&&(_[x]=await this.deserializer.read(D,S));else if(k){let j=m[p].headers[x]?.value;j!=null&&(D.isNumericSchema()?j&&typeof j=="object"&&"bytes"in j?_[x]=BigInt(j.toString()):_[x]=Number(j):_[x]=j)}}if(C)return{[p]:_}}return{[p]:await this.deserializer.read(R,S)}}else return{$unknown:m}}),f=l[Symbol.asyncIterator](),d=await f.next();if(d.done)return l;if(d.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[m,p]of Object.entries(d.value))n[m]=p}return{async*[Symbol.asyncIterator](){for(d?.value?.[c]||(yield d.value);;){let{done:m,value:p}=await f.next();if(m)break;yield p}}}}writeEventBody(t,r,n){let s=this.serializer,o=t,i=null,a,c=r.getSchema()[4].includes(t),l={};if(c){let m=r.getMemberSchema(t);if(m.isStructSchema()){for(let[p,S]of m.structIterator()){let{eventHeader:R,eventPayload:_}=S.getMergedTraits();if(_)i=p;else if(R){let C=n[t][p],x="binary";S.isNumericSchema()?(-2)**31<=C&&C<=2**31-1?x="integer":x="long":S.isTimestampSchema()?x="timestamp":S.isStringSchema()?x="string":S.isBooleanSchema()&&(x="boolean"),C!=null&&(l[p]={type:x,value:C},delete n[t][p])}}if(i!==null){let p=m.getMemberSchema(i);p.isBlobSchema()?a="application/octet-stream":p.isStringSchema()&&(a="text/plain"),s.write(p,n[t][i])}else s.write(m,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[m,p]=n[t];o=m,s.write(15,p)}let f=s.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??pf.fromUtf8)(f):f,eventType:o,explicitPayloadContentType:a,additionalHeaders:l}}}});var j$={};ze(j$,{EventStreamSerde:()=>f_});var V$=w(()=>{u();B$()});var mf,Zs,hf=w(()=>{u();Ce();mf=T(Fe());bi();Zs=class extends vt{options;constructor(t){super(),this.options=t}getRequestType(){return mf.HttpRequest}getResponseType(){return mf.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,s]of r.url.searchParams.entries())t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=z.of(r.input),o=$r(r.traits??{});if(o.endpoint){let i=o.endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(V$(),j$));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,o){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var z$,G$,eo,W$=w(()=>{u();Ce();Ut();z$=T(Fe()),G$=T(UR());rf();nf();hf();eo=class extends Zs{async serializeRequest(t,r,n){let s={...r??{}},o=this.serializer,i={},a={},c=await n.endpoint(),l=z.of(t?.input),f=l.getSchema(),d=!1,m,p=new z$.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(p,c),this.setHostPrefix(p,t,s);let S=$r(t.traits);if(S.http){p.method=S.http[0];let[R,_]=S.http[1].split("?");p.path=="/"?p.path=R:p.path+=R;let C=new URLSearchParams(_??"");Object.assign(i,Object.fromEntries(C))}}for(let[S,R]of l.structIterator()){let _=R.getMergedTraits()??{},C=s[S];if(!(C==null&&!R.isIdempotencyToken()))if(_.httpPayload)R.isStreaming()?R.isStructSchema()?s[S]&&(m=await this.serializeEventStream({eventStream:s[S],requestSchema:l})):m=C:(o.write(R,C),m=o.flush()),delete s[S];else if(_.httpLabel){o.write(R,C);let x=o.flush();p.path.includes(`{${S}+}`)?p.path=p.path.replace(`{${S}+}`,x.split("/").map(Dr).join("/")):p.path.includes(`{${S}}`)&&(p.path=p.path.replace(`{${S}}`,Dr(x))),delete s[S]}else if(_.httpHeader)o.write(R,C),a[_.httpHeader.toLowerCase()]=String(o.flush()),delete s[S];else if(typeof _.httpPrefixHeaders=="string"){for(let[x,D]of Object.entries(C)){let k=_.httpPrefixHeaders+x;o.write([R.getValueSchema(),{httpHeader:k}],D),a[k.toLowerCase()]=o.flush()}delete s[S]}else _.httpQuery||_.httpQueryParams?(this.serializeQuery(R,C,i),delete s[S]):d=!0}return d&&s&&(o.write(f,s),m=o.flush()),p.headers=a,p.query=i,p.body=m,p}serializeQuery(t,r,n){let s=this.serializer,o=t.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),o],c);let l=s.flush();(i||l!==void 0)&&a.push(l)}n[o.httpQuery]=a}else s.write([t,o],r),n[o.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,o=z.of(t.output),i={};if(n.statusCode>=300){let c=await tr(n.body,r);throw c.byteLength>0&&Object.assign(i,await s.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(o,r,n,i);if(a.length){let c=await tr(n.body,r);if(c.byteLength>0){let l=await s.read(o,c);for(let f of a)i[f]=l[f]}}else a.discardResponseBody&&await tr(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,s,o){let i;s instanceof Set?i=o:i=s;let a=!0,c=this.deserializer,l=z.of(t),f=[];for(let[d,m]of l.structIterator()){let p=m.getMemberTraits();if(p.httpPayload){if(a=!1,m.isStreaming())m.isStructSchema()?i[d]=await this.deserializeEventStream({response:n,responseSchema:l}):i[d]=(0,G$.sdkStreamMixin)(n.body);else if(n.body){let R=await tr(n.body,r);R.byteLength>0&&(i[d]=await c.read(m,R))}}else if(p.httpHeader){let S=String(p.httpHeader).toLowerCase(),R=n.headers[S];if(R!=null)if(m.isListSchema()){let _=m.getValueSchema();_.getMergedTraits().httpHeader=S;let C;_.isTimestampSchema()&&_.getSchema()===4?C=l_(R,",",2):C=oc(R);let x=[];for(let D of C)x.push(await c.read(_,D.trim()));i[d]=x}else i[d]=await c.read(m,R)}else if(p.httpPrefixHeaders!==void 0){i[d]={};for(let[S,R]of Object.entries(n.headers))if(S.startsWith(p.httpPrefixHeaders)){let _=m.getValueSchema();_.getMergedTraits().httpHeader=S,i[d][S.slice(p.httpPrefixHeaders.length)]=await c.read(_,R)}}else p.httpResponseCode?i[d]=n.statusCode:f.push(d)}return f.discardResponseBody=a,f}}});var K$,fn,Y$=w(()=>{u();Ce();K$=T(Fe());rf();hf();fn=class extends Zs{async serializeRequest(t,r,n){let s=this.serializer,o={},i={},a=await n.endpoint(),c=z.of(t?.input),l=c.getSchema(),f,d=new K$.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,t,r));let m={...r};if(r){let p=c.getEventStreamMember();if(p){if(m[p]){let S={};for(let[R,_]of c.structIterator())R!==p&&m[R]&&(s.write(_,m[R]),S[R]=s.flush());f=await this.serializeEventStream({eventStream:m[p],requestSchema:c,initialRequest:S})}}else s.write(l,m),f=s.flush()}return d.headers=i,d.query=o,d.body=f,d.method="POST",d}async deserializeResponse(t,r,n){let s=this.deserializer,o=z.of(t.output),i={};if(n.statusCode>=300){let c=await tr(n.body,r);throw c.byteLength>0&&Object.assign(i,await s.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:i});else{let c=await tr(n.body,r);c.byteLength>0&&Object.assign(i,await s.read(o,c))}return i.$metadata=this.deserializeMetadata(n),i}}});var p_,m_=w(()=>{u();nf();p_=(e,t,r,n,s,o)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?i.split("/").map(a=>Dr(a)).join("/"):Dr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function h_(e,t){return new gf(e,t)}var X$,gf,Q$=w(()=>{u();X$=T(Fe());m_();gf=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new X$.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(o=>{this.path=p_(o,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function zt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?6:o||r?5:void 0:void 0)??t.timestampFormat.default}var yf=w(()=>{u()});var g_,J$,to,y_=w(()=>{u();Ce();Ut();g_=T(ft()),J$=T(dt());bi();yf();to=class extends vt{settings;constructor(t){super(),this.settings=t}read(t,r){let n=z.of(t);if(n.isListSchema())return oc(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??g_.fromBase64)(r);if(n.isTimestampSchema())switch(zt(n,this.settings)){case 5:return c_(r);case 6:return u_(r);case 7:return _i(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=r;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=It.from(o)),o}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Le(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??J$.toUtf8)((this.serdeContext?.base64Decoder??g_.fromBase64)(t))}}});var Sf,ro,Z$=w(()=>{u();Ce();Sf=T(dt());bi();y_();ro=class extends vt{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new to(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=z.of(t),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Sf.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(s.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Sf.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var S_,ic,E_=w(()=>{u();Ce();Ut();S_=T(ft());bi();yf();ic=class extends vt{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=z.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(zt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=sc(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??S_.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:s_(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=It.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??S_.toBase64)(o.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,rr.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var no,ek=w(()=>{u();Ce();E_();no=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new ic(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=z.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var tk={};ze(tk,{FromStringShapeDeserializer:()=>to,HttpBindingProtocol:()=>eo,HttpInterceptingShapeDeserializer:()=>ro,HttpInterceptingShapeSerializer:()=>no,HttpProtocol:()=>Zs,RequestBuilder:()=>gf,RpcProtocol:()=>fn,SerdeContext:()=>vt,ToStringShapeSerializer:()=>ic,collectBody:()=>tr,determineTimestampFormat:()=>zt,extendedEncodeURIComponent:()=>Dr,requestBuilder:()=>h_,resolvedPath:()=>p_});var Ht=w(()=>{u();rf();nf();W$();hf();Y$();Q$();m_();y_();Z$();ek();E_();yf();bi()});var rk=w(()=>{u();Ht()});function dee(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var nk=w(()=>{u()});var pn,sk=w(()=>{u();pn=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var ok,w_,R_,ik=w(()=>{u();ok=T(Fe()),w_=T(es()),R_=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=ok.HttpRequest.clone(t);if(n.in===w_.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===w_.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var ak,__,ck=w(()=>{u();ak=T(Fe()),__=class{async sign(t,r,n){let s=ak.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var hr,uk=w(()=>{u();hr=class{async sign(t,r,n){return t}}});var lk=w(()=>{u();ik();ck();uk()});var dk,fee,b_,Ef,T_,fk=w(()=>{u();dk=e=>function(r){return Ef(r)&&r.expiration.getTime()-Date.now()<e},fee=3e5,b_=dk(3e5),Ef=e=>e.expiration!==void 0,T_=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,i,a=!1,c=async l=>{o||(o=n(l));try{s=await o,i=!0,a=!1}finally{o=void 0}return s};return t===void 0?async l=>((!i||l?.forceRefresh)&&(s=await c(l)),s):async l=>((!i||l?.forceRefresh)&&(s=await c(l)),a?s:r(s)?(t(s)&&await c(l),s):(a=!0,s))}});var pk=w(()=>{u();sk();lk();fk()});var C_={};ze(C_,{DefaultIdentityProviderConfig:()=>pn,EXPIRATION_MS:()=>fee,HttpApiKeyAuthSigner:()=>R_,HttpBearerAuthSigner:()=>__,NoAuthSigner:()=>hr,createIsIdentityExpiredFunction:()=>dk,createPaginator:()=>oD,doesIdentityRequireRefresh:()=>Ef,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Ys,getHttpAuthSchemePlugin:()=>ZJ,getHttpSigningPlugin:()=>Xs,getSmithyContext:()=>WJ,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>jO,httpAuthSchemeMiddleware:()=>Wa,httpAuthSchemeMiddlewareOptions:()=>XO,httpSigningMiddleware:()=>aR,httpSigningMiddlewareOptions:()=>tD,isIdentityExpired:()=>b_,memoizeIdentityProvider:()=>T_,normalizeProvider:()=>rs,requestBuilder:()=>h_,setFeature:()=>dee});var nr=w(()=>{u();LO();JO();nD();sD();iD();rk();nk();pk()});var Ti=I(so=>{"use strict";u();var x_=es(),I_=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:i,done:a}=s.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(t[s]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}},pee=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),mk=e=>pee.test(e)||e.startsWith("[")&&e.endsWith("]"),mee=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),P_=(e,t=!1)=>{if(!t)return mee.test(e);let r=e.split(".");for(let n of r)if(!P_(n))return!1;return!0},v_={},ac="endpoints";function os(e){return typeof e!="object"||e==null?e:"ref"in e?`$${os(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(os).join(", ")})`:JSON.stringify(e,null,2)}var pt=class extends Error{constructor(t){super(t),this.name="EndpointError"}},hee=(e,t)=>e===t,gee=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new pt(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new pt(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r},hk=(e,t)=>gee(t).reduce((r,n)=>{if(typeof r!="object")throw new pt(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),yee=e=>e!=null,See=e=>!e,A_={[x_.EndpointURLScheme.HTTP]:80,[x_.EndpointURLScheme.HTTPS]:443},Eee=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:p,protocol:S="",path:R="",query:_={}}=e,C=new URL(`${S}//${m}${p?`:${p}`:""}${R}`);return C.search=Object.entries(_).map(([x,D])=>`${x}=${D}`).join("&"),C}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(x_.EndpointURLScheme).includes(c))return null;let l=mk(s),f=r.includes(`${n}:${A_[c]}`)||typeof e=="string"&&e.includes(`${n}:${A_[c]}`),d=`${n}${f?`:${A_[c]}`:""}`;return{scheme:c,authority:d,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},wee=(e,t)=>e===t,Ree=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),_ee=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),bee={booleanEquals:hee,getAttr:hk,isSet:yee,isValidHostLabel:P_,not:See,parseURL:Eee,stringEquals:wee,substring:Ree,uriEncode:_ee},gk=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){r.push(e.slice(s));break}r.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(hk(n[c],l))}else r.push(n[a]);s=i+1}return r.join("")},Tee=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],wf=(e,t,r)=>{if(typeof e=="string")return gk(e,r);if(e.fn)return Sk.callFunction(e,r);if(e.ref)return Tee(e,r);throw new pt(`'${t}': ${String(e)} is not a string, function or reference.`)},yk=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:Sk.evaluateExpression(o,"arg",r)),s=e.split(".");return s[0]in v_&&s[1]!=null?v_[s[0]][s[1]](...n):bee[e](...n)},Sk={evaluateExpression:wf,callFunction:yk},Cee=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new pt(`'${e}' is already defined in Reference Record.`);let n=yk(t,r);return r.logger?.debug?.(`${ac} evaluateCondition: ${os(t)} = ${os(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},N_=(e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:o}=Cee(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};o&&(r[o.name]=o.value,t.logger?.debug?.(`${ac} assign: ${o.name} := ${os(o.value)}`))}return{result:!0,referenceRecord:r}},Aee=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=wf(o,"Header value entry",t);if(typeof i!="string")throw new pt(`Header '${n}' value '${i}' is not a string`);return i})}),{}),Ek=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:Rk.getEndpointProperty(s,t)}),{}),wk=(e,t)=>{if(Array.isArray(e))return e.map(r=>wk(r,t));switch(typeof e){case"string":return gk(e,t);case"object":if(e===null)throw new pt(`Unexpected endpoint property: ${e}`);return Rk.getEndpointProperties(e,t);case"boolean":return e;default:throw new pt(`Unexpected endpoint property type: ${typeof e}`)}},Rk={getEndpointProperty:wk,getEndpointProperties:Ek},xee=(e,t)=>{let r=wf(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new pt(`Endpoint URL must be a string, got ${typeof r}`)},Iee=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:o}=N_(r,t);if(!s)return;let i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${ac} Resolving endpoint from template: ${os(n)}`),{...l!=null&&{headers:Aee(l,i)},...c!=null&&{properties:Ek(c,i)},url:xee(a,i)}},vee=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:o}=N_(r,t);if(s)throw new pt(wf(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},_k=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Iee(r,t);if(n)return n}else if(r.type==="error")vee(r,t);else if(r.type==="tree"){let n=bk.evaluateTreeRule(r,t);if(n)return n}else throw new pt(`Unknown endpoint rule: ${r}`);throw new pt("Rules evaluation failed")},Pee=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=N_(r,t);if(s)return bk.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},bk={evaluateRules:_k,evaluateTreeRule:Pee},Nee=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${ac} Initial EndpointParams: ${os(r)}`);let i=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,f])=>[l,f.default]);if(i.length>0)for(let[l,f]of i)r[l]=r[l]??f;let a=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new pt(`Missing required parameter: '${l}'`);let c=_k(o,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${ac} Resolved endpoint: ${os(c)}`),c};so.EndpointCache=I_;so.EndpointError=pt;so.customEndpointFunctions=v_;so.isIpAddress=mk;so.isValidHostLabel=P_;so.resolveEndpoint=Nee});var Ck=I(Tk=>{"use strict";u();function Oee(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}Tk.parseQueryString=Oee});var oo=I(xk=>{"use strict";u();var Dee=Ck(),Ak=e=>{if(typeof e=="string")return Ak(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:o}=e,i;return o&&(i=Dee.parseQueryString(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};xk.parseUrl=Ak});var cc=I(gr=>{"use strict";u();var Ci=Ti(),$ee=oo(),vk=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!vk(r))return!1;return!0}return!(!Ci.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Ci.isIpAddress(e))},Ik=":",kee="/",Mee=e=>{let t=e.split(Ik);if(t.length<6)return null;let[r,n,s,o,i,...a]=t;if(r!=="arn"||n===""||s===""||a.join(Ik)==="")return null;let c=a.map(l=>l.split(kee)).flat();return{partition:n,service:s,region:o,accountId:i,resourceId:c}},Fee=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],Lee="1.1",Pk={partitions:Fee,version:Lee},Nk=Pk,Ok="",Dk=e=>{let{partitions:t}=Nk;for(let n of t){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let n of t){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},$k=(e,t="")=>{Nk=e,Ok=t},Uee=()=>{$k(Pk,"")},Hee=()=>Ok,kk={isVirtualHostableS3Bucket:vk,parseArn:Mee,partition:Dk};Ci.customEndpointFunctions.aws=kk;var qee=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>Mk(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},Mk=e=>$ee.parseUrl(e.url);Object.defineProperty(gr,"EndpointError",{enumerable:!0,get:function(){return Ci.EndpointError}});Object.defineProperty(gr,"isIpAddress",{enumerable:!0,get:function(){return Ci.isIpAddress}});Object.defineProperty(gr,"resolveEndpoint",{enumerable:!0,get:function(){return Ci.resolveEndpoint}});gr.awsEndpointFunctions=kk;gr.getUserAgentPrefix=Hee;gr.partition=Dk;gr.resolveDefaultAwsRegionalEndpointsConfig=qee;gr.setPartitionInfo=$k;gr.toEndpointV1=Mk;gr.useDefaultPartitionInfo=Uee});var O_,io,Fk=w(()=>{u();O_={warningEmitted:!1},io=e=>{e&&!O_.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(O_.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function ao(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Lk=w(()=>{u()});function Bee(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Uk=w(()=>{u()});function jee(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Hk=w(()=>{u()});var Rf=w(()=>{u();Fk();Lk();Uk();Hk()});var qk,D_,Bk=w(()=>{u();qk=T(Fe()),D_=e=>qk.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Ai,$_=w(()=>{u();Ai=e=>new Date(Date.now()+e)});var jk,Vk=w(()=>{u();$_();jk=(e,t)=>Math.abs(Ai(t).getTime()-e)>=3e5});var k_,zk=w(()=>{u();Vk();k_=(e,t)=>{let r=Date.parse(e);return jk(r,t)?r-Date.now():t}});var M_=w(()=>{u();Bk();$_();zk()});var Gk,uc,lc,Pt,Wk,F_=w(()=>{u();Gk=T(Fe());M_();uc=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},lc=async e=>{let t=uc("context",e.context),r=uc("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],o=await uc("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}},Pt=class{async sign(t,r,n){if(!Gk.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await lc(n),{config:o,signer:i}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[d,m]=l.authSchemes;d?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await i.sign(t,{signingDate:Ai(o.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??D_(r.$response);if(n){let s=uc("config",t.config),o=s.systemClockOffset;s.systemClockOffset=k_(n,s.systemClockOffset),s.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=D_(t);if(n){let s=uc("config",r.config);s.systemClockOffset=k_(n,s.systemClockOffset)}}},Wk=Pt});var Kk,_f,Yk=w(()=>{u();Kk=T(Fe());M_();F_();_f=class extends Pt{async sign(t,r,n){if(!Kk.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}=await lc(n),f=(await s.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(t,{signingDate:Ai(s.systemClockOffset),signingRegion:f,signingService:c})}}});var L_,Xk=w(()=>{u();L_=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var U_,H_=w(()=>{u();U_=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var Qk,Jk,co,Zk=w(()=>{u();Xk();H_();Qk="AWS_AUTH_SCHEME_PREFERENCE",Jk="auth_scheme_preference",co={environmentVariableSelector:(e,t)=>{if(t?.signingName&&U_(t.signingName)in e)return["httpBearerAuth"];if(Qk in e)return L_(e[Qk])},configFileSelector:e=>{if(Jk in e)return L_(e[Jk])},default:[]}});var dc=I(uo=>{"use strict";u();var xi=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},q_=class e extends xi{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},B_=class e extends xi{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Vee=(...e)=>async()=>{if(e.length===0)throw new xi("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},zee=e=>()=>Promise.resolve(e),Gee=(e,t,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return t===void 0?async c=>((!o||c?.forceRefresh)&&(n=await a()),n):async c=>((!o||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};uo.CredentialsProviderError=q_;uo.ProviderError=xi;uo.TokenProviderError=B_;uo.chain=Vee;uo.fromStatic=zee;uo.memoize=Gee});var j_,Wee,Kee,eM=w(()=>{u();nr();j_=T(dc()),Wee=e=>(e.sigv4aSigningRegionSet=rs(e.sigv4aSigningRegionSet),e),Kee={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new j_.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new j_.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var TM=I(se=>{"use strict";u();var is=$R(),lo=dt(),Yee=uR(),sM=Fe(),tM=Vt(),bf=_R(),oM="X-Amz-Algorithm",iM="X-Amz-Credential",Y_="X-Amz-Date",aM="X-Amz-SignedHeaders",cM="X-Amz-Expires",X_="X-Amz-Signature",Q_="X-Amz-Security-Token",Xee="X-Amz-Region-Set",J_="authorization",Z_=Y_.toLowerCase(),uM="date",lM=[J_,Z_,uM],dM=X_.toLowerCase(),If="x-amz-content-sha256",fM=Q_.toLowerCase(),Qee="host",pM={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},mM=/^proxy-/,hM=/^sec-/,Jee=[/^proxy-/i,/^sec-/i],Tf="AWS4-HMAC-SHA256",Zee="AWS4-ECDSA-P256-SHA256",gM="AWS4-HMAC-SHA256-PAYLOAD",yM="UNSIGNED-PAYLOAD",SM=50,eb="aws4_request",EM=3600*24*7,Ii={},Cf=[],Af=(e,t,r)=>`${e}/${t}/${r}/${eb}`,wM=async(e,t,r,n,s)=>{let o=await rM(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${s}:${is.toHex(o)}:${t.sessionToken}`;if(i in Ii)return Ii[i];for(Cf.push(i);Cf.length>SM;)delete Ii[Cf.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,eb])a=await rM(e,a,c);return Ii[i]=a},ete=()=>{Cf.length=0,Object.keys(Ii).forEach(e=>{delete Ii[e]})},rM=(e,t,r)=>{let n=new e(t);return n.update(lo.toUint8Array(r)),n.digest()},V_=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in pM||t?.has(o)||mM.test(o)||hM.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},xf=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===If)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Yee.isArrayBuffer(t)){let n=new r;return n.update(lo.toUint8Array(t)),is.toHex(await n.digest())}return yM},z_=class{format(t){let r=[];for(let o of Object.keys(t)){let i=lo.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":let a=lo.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(G_.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!tte.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(is.fromHex(t.value.replace(/\-/g,"")),1),d}}},tte=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,G_=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&nM(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&nM(t),parseInt(is.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function nM(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var RM=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},_M=(e,t={})=>{let{headers:r,query:n={}}=sM.HttpRequest.clone(e);for(let s of Object.keys(r)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},W_=e=>{e=sM.HttpRequest.clone(e);for(let t of Object.keys(e.headers))lM.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},bM=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===dM)continue;let s=bf.escapeUri(n);t.push(s);let o=e[n];typeof o=="string"?r[s]=`${s}=${bf.escapeUri(o)}`:Array.isArray(o)&&(r[s]=o.slice(0).reduce((i,a)=>i.concat([`${s}=${bf.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},rte=e=>nte(e).toISOString().replace(/\.\d{3}Z$/,"Z"),nte=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,vf=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=tM.normalizeProvider(n),this.credentialProvider=tM.normalizeProvider(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${bM(t)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let o=new this.sha256;o.update(lo.toUint8Array(n));let i=await o.digest();return`${s}
${t}
${r}
${is.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return bf.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=rte(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},K_=class extends vf{headerFormatter=new z_;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:f}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let m=l??await this.regionProvider(),{longDate:p,shortDate:S}=this.formatDate(n);if(s>EM)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let R=Af(S,m,f??this.service),_=_M(W_(t),{unhoistableHeaders:i,hoistableHeaders:c});d.sessionToken&&(_.query[Q_]=d.sessionToken),_.query[oM]=Tf,_.query[iM]=`${d.accessKeyId}/${R}`,_.query[Y_]=p,_.query[cM]=s.toString(10);let C=V_(_,o,a);return _.query[aM]=this.getCanonicalHeaderList(C),_.query[X_]=await this.getSignature(p,R,this.getSigningKey(d,m,S,f),this.createCanonicalRequest(_,C,await xf(t,this.sha256))),_}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(n),f=Af(c,a,i??this.service),d=await xf({headers:{},body:r},this.sha256),m=new this.sha256;m.update(t);let p=is.toHex(await m.digest()),S=[gM,l,f,s,p,d].join(`
`);return this.signString(S,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(o,i,a,s));return c.update(lo.toUint8Array(t)),is.toHex(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),l=W_(t),{longDate:f,shortDate:d}=this.formatDate(r),m=Af(d,c,i??this.service);l.headers[Z_]=f,a.sessionToken&&(l.headers[fM]=a.sessionToken);let p=await xf(l,this.sha256);!RM(If,l.headers)&&this.applyChecksum&&(l.headers[If]=p);let S=V_(l,s,n),R=await this.getSignature(f,m,this.getSigningKey(a,c,d,i),this.createCanonicalRequest(l,S,p));return l.headers[J_]=`${Tf} Credential=${a.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(S)}, Signature=${R}`,l}async getSignature(t,r,n,s){let o=await this.createStringToSign(t,r,s,Tf),i=new this.sha256(await n);return i.update(lo.toUint8Array(o)),is.toHex(await i.digest())}getSigningKey(t,r,n,s){return wM(this.sha256,t,n,r,s||this.service)}},ste={SignatureV4a:null};se.ALGORITHM_IDENTIFIER=Tf;se.ALGORITHM_IDENTIFIER_V4A=Zee;se.ALGORITHM_QUERY_PARAM=oM;se.ALWAYS_UNSIGNABLE_HEADERS=pM;se.AMZ_DATE_HEADER=Z_;se.AMZ_DATE_QUERY_PARAM=Y_;se.AUTH_HEADER=J_;se.CREDENTIAL_QUERY_PARAM=iM;se.DATE_HEADER=uM;se.EVENT_ALGORITHM_IDENTIFIER=gM;se.EXPIRES_QUERY_PARAM=cM;se.GENERATED_HEADERS=lM;se.HOST_HEADER=Qee;se.KEY_TYPE_IDENTIFIER=eb;se.MAX_CACHE_SIZE=SM;se.MAX_PRESIGNED_TTL=EM;se.PROXY_HEADER_PATTERN=mM;se.REGION_SET_PARAM=Xee;se.SEC_HEADER_PATTERN=hM;se.SHA256_HEADER=If;se.SIGNATURE_HEADER=dM;se.SIGNATURE_QUERY_PARAM=X_;se.SIGNED_HEADERS_QUERY_PARAM=aM;se.SignatureV4=K_;se.SignatureV4Base=vf;se.TOKEN_HEADER=fM;se.TOKEN_QUERY_PARAM=Q_;se.UNSIGNABLE_PATTERNS=Jee;se.UNSIGNED_PAYLOAD=yM;se.clearCredentialCache=ete;se.createScope=Af;se.getCanonicalHeaders=V_;se.getCanonicalQuery=bM;se.getPayloadHash=xf;se.getSigningKey=wM;se.hasHeader=RM;se.moveHeadersToQuery=_M;se.prepareRequest=W_;se.signatureV4aContainer=ste});function ite(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=T_(t,b_,Ef):r?n=rs(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function ate(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var tb,as,ote,CM=w(()=>{u();Rf();nr();tb=T(TM()),as=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let f=ite(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),d=ate(e,f);r&&!d.attributed?(n=async m=>d(m).then(p=>ao(p,"CREDENTIALS_CODE","e")),n.memoized=d.memoized,n.configBound=d.configBound,n.attributed=!0):n=d},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=rs(e.signer):e.regionInfoProvider?a=()=>rs(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,f])=>{let{signingRegion:d,signingService:m}=l;e.signingRegion=e.signingRegion||d||f,e.signingName=e.signingName||m||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},S=e.signerConstructor||tb.SignatureV4;return new S(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await rs(e.region)(),properties:{}},l);let f=l.signingRegion,d=l.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||d||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},p=e.signerConstructor||tb.SignatureV4;return new p(m)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:a})},ote=as});var AM=w(()=>{u();F_();Yk();Zk();eM();CM()});var xM=w(()=>{u();AM();H_()});function cs(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Pf(e){return e[rb]=!0,e}var rb,Nf=w(()=>{u();rb=Symbol("@smithy/core/cbor::tagSymbol")});function PM(e){Ie=e,hn=new DataView(Ie.buffer,Ie.byteOffset,Ie.byteLength)}function Mr(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(Ie[e]&224)>>5,n=Ie[e]&31;switch(r){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let i=OM[n],a=i+1;if(o=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let c=e+1;i===1?s=Ie[c]:i===2?s=hn.getUint16(c):i===4?s=hn.getUint32(c):s=hn.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return ie=o,nb(s);if(r===1){let i;return typeof s=="bigint"?i=BigInt(-1)-s:i=-1-s,ie=o,nb(i)}else if(n===2||n===3){let i=hc(e+o,t),a=BigInt(0),c=e+o+ie;for(let l=c;l<c+i;++l)a=a<<BigInt(8)|BigInt(Ie[l]);return ie=o+ie+i,n===3?-a-BigInt(1):a}else if(n===4){let i=Mr(e+o,t),[a,c]=i,l=c<0?-1:1,f="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(c)),d,m=c<0?"-":"";return d=a===0?f:f.slice(0,f.length+a)+"."+f.slice(a),d=d.replace(/^0+/g,""),d===""&&(d="0"),d[0]==="."&&(d="0"+d),d=m+d,ie=o+ie,d_(d)}else{let i=Mr(e+o,t);return ie=o+ie,Pf({tag:nb(s),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return mte(e,t);case 5:return Ete(e,t);case 4:return yte(e,t);case 2:return hte(e,t)}else switch(r){case 3:return pte(e,t);case 5:return Ste(e,t);case 4:return gte(e,t);case 2:return ub(e,t)}default:return wte(e,t)}}function NM(e,t,r){return lte&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):IM?IM.decode(e.subarray(t,r)):(0,vM.toUtf8)(e.subarray(t,r))}function dte(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function fte(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,o=r===0?1:-1,i,a;if(n===0){if(s===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return s===0?o*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=s/1024,o*(i*a)}function hc(e,t){let r=Ie[e]&31;if(r<24)return ie=1,r;if(r===24||r===25||r===26||r===27){let n=OM[r];if(ie=n+1,t-e<ie)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?Ie[s]:n===2?hn.getUint16(s):n===4?hn.getUint32(s):dte(hn.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function pte(e,t){let r=hc(e,t),n=ie;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=NM(Ie,e,e+r);return ie=n+r,s}function mte(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ie[e]===255){let c=cs(r.length);return c.set(r,0),ie=e-n+2,NM(c,0,c.length)}let s=(Ie[e]&224)>>5,o=Ie[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=ub(e,t);e+=ie;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function ub(e,t){let r=hc(e,t),n=ie;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=Ie.subarray(e,e+r);return ie=n+r,s}function hte(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ie[e]===255){let c=cs(r.length);return c.set(r,0),ie=e-n+2,c}let s=(Ie[e]&224)>>5,o=Ie[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=ub(e,t);e+=ie;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function gte(e,t){let r=hc(e,t),n=ie;e+=n;let s=e,o=Array(r);for(let i=0;i<r;++i){let a=Mr(e,t),c=ie;o[i]=a,e+=c}return ie=n+(e-s),o}function yte(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ie[e]===255)return ie=e-n+2,r;let s=Mr(e,t);e+=ie,r.push(s)}throw new Error("expected break marker.")}function Ste(e,t){let r=hc(e,t),n=ie;e+=n;let s=e,o={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(Ie[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=Mr(e,t);e+=ie;let l=Mr(e,t);e+=ie,o[c]=l}return ie=n+(e-s),o}function Ete(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(Ie[e]===255)return ie=e-r+2,n;let s=(Ie[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Mr(e,t);e+=ie;let i=Mr(e,t);e+=ie,n[o]=i}throw new Error("expected break marker.")}function wte(e,t){let r=Ie[e]&31;switch(r){case 21:case 20:return ie=1,r===21;case 22:return ie=1,null;case 23:return ie=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return ie=3,fte(Ie[e+1],Ie[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return ie=5,hn.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return ie=9,hn.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function nb(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var vM,ute,lte,Ie,hn,IM,ie,OM,DM=w(()=>{u();Ut();vM=T(dt());Nf();ute=typeof TextDecoder<"u",lte=typeof Buffer<"u",Ie=cs(0),hn=new DataView(Ie.buffer,Ie.byteOffset,Ie.byteLength),IM=ute?new TextDecoder:null,ie=0;OM={24:1,25:2,26:4,27:8}});function db(e){Z.byteLength-K<e&&(K<16e6?Df(Math.max(Z.byteLength*4,Z.byteLength+e)):Df(Z.byteLength+e+16e6))}function fb(){let e=cs(K);return e.set(Z.subarray(0,K),0),K=0,e}function Df(e){let t=Z;Z=cs(e),t&&(t.copy?t.copy(Z,0,0,t.byteLength):Z.set(t,0)),Sn=new DataView(Z.buffer,Z.byteOffset,Z.byteLength)}function yn(e,t){t<24?Z[K++]=e<<5|t:t<256?(Z[K++]=e<<5|24,Z[K++]=t):t<65536?(Z[K++]=e<<5|25,Sn.setUint16(K,t),K+=2):t<2**32?(Z[K++]=e<<5|26,Sn.setUint32(K,t),K+=4):(Z[K++]=e<<5|27,Sn.setBigUint64(K,typeof t=="bigint"?t:BigInt(t)),K+=8)}function MM(e){let t=[e];for(;t.length;){let r=t.pop();if(db(typeof r=="string"?r.length*4:64),typeof r=="string"){if($M)yn(3,Buffer.byteLength(r)),K+=Z.write(r,K);else{let n=(0,kM.fromUtf8)(r);yn(3,n.byteLength),Z.set(n,K),K+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,o=n?r:-r-1;o<24?Z[K++]=s<<5|o:o<256?(Z[K++]=s<<5|24,Z[K++]=o):o<65536?(Z[K++]=s<<5|25,Z[K++]=o>>8,Z[K++]=o):o<4294967296?(Z[K++]=s<<5|26,Sn.setUint32(K,o),K+=4):(Z[K++]=s<<5|27,Sn.setBigUint64(K,BigInt(o)),K+=8);continue}Z[K++]=251,Sn.setFloat64(K,r),K+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,o=n?r:-r-BigInt(1),i=Number(o);if(i<24)Z[K++]=s<<5|i;else if(i<256)Z[K++]=s<<5|24,Z[K++]=i;else if(i<65536)Z[K++]=s<<5|25,Z[K++]=i>>8,Z[K++]=i&255;else if(i<4294967296)Z[K++]=s<<5|26,Sn.setUint32(K,i),K+=4;else if(o<BigInt("18446744073709551616"))Z[K++]=s<<5|27,Sn.setBigUint64(K,o),K+=8;else{let a=o.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),l=o,f=0;for(;c.byteLength-++f>=0;)c[c.byteLength-f]=Number(l&BigInt(255)),l>>=BigInt(8);db(c.byteLength*2),Z[K++]=n?194:195,$M?yn(2,Buffer.byteLength(c)):yn(2,c.byteLength),Z.set(c,K),K+=c.byteLength}continue}else if(r===null){Z[K++]=246;continue}else if(typeof r=="boolean"){Z[K++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);yn(4,r.length);continue}else if(typeof r.byteLength=="number"){db(r.length*2),yn(2,r.length),Z.set(r,K),K+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Le){let s=r.string.indexOf("."),o=s===-1?0:s-r.string.length+1,i=BigInt(r.string.replace(".",""));Z[K++]=196,t.push(i),t.push(o),yn(4,2);continue}if(r[rb])if("tag"in r&&"value"in r){t.push(r.value),yn(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let o=n[s];t.push(r[o]),t.push(o)}yn(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var kM,$M,Rte,Z,Sn,K,FM=w(()=>{u();Ut();kM=T(dt());Nf();$M=typeof Buffer<"u",Rte=2048,Z=cs(Rte),Sn=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),K=0});var pb,LM=w(()=>{u();DM();FM();pb={deserialize(e){return PM(e),Mr(0,e.length)},serialize(e){try{return MM(e),fb()}catch(t){throw fb(),t}},resizeEncodingBuffer(e){Df(e)}}});var $f,kf,Mf=w(()=>{u();Nf();$f=e=>Pf({tag:1,value:e.getTime()/1e3}),kf=(e,t)=>{let r=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var gb,Ff,mb,hb,yb=w(()=>{u();Ht();Ce();Ut();gb=T(ft());LM();Mf();Ff=class extends vt{createSerializer(){let t=new mb;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new hb;return t.setSerdeContext(this.serdeContext),t}},mb=class extends vt{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=z.of(t);if(r==null)return n.isIdempotencyToken()?(0,rr.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??gb.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?$f(new Date(Number(r)/1e3|0)):$f(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let i=!!n.getMergedTraits().sparse,a=[],c=0;for(let l of s){let f=this.serialize(n.getValueSchema(),l);(f!=null||i)&&(a[c++]=f)}return a}if(s instanceof Date)return $f(s);let o={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let c=this.serialize(n.getValueSchema(),s[a]);(c!=null||i)&&(o[a]=c)}}else if(n.isStructSchema()){for(let[a,c]of n.structIterator()){let l=this.serialize(c,s[a]);l!=null&&(o[a]=l)}if(n.isUnionSchema()&&Array.isArray(s.$unknown)){let[a,c]=s.$unknown;o[a]=c}}else if(n.isDocumentSchema())for(let i of Object.keys(s))o[i]=this.serialize(n.getValueSchema(),s[i]);return o}return r}flush(){let t=pb.serialize(this.value);return this.value=void 0,t}},hb=class extends vt{read(t,r){let n=pb.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=z.of(t);if(n.isTimestampSchema()){if(typeof r=="number")return _i(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return _i(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??gb.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let o=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let l=this.readValue(i,c);(l!=null||a)&&o.push(l)}return o}let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(i,r[a]);(c!=null||o)&&(s[a]=c)}}else if(n.isStructSchema()){let o=n.isUnionSchema(),i;o&&(i=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,c]of n.structIterator())o&&i.delete(a),r[a]!=null&&(s[a]=this.readValue(c,r[a]));if(o&&i?.size===1&&Object.keys(s).length===0){let a=i.values().next().value;s.$unknown=[a,r[a]]}}return s}else return r}}});var UM,Lf,HM=w(()=>{u();Ht();Ce();UM=T(Vt());yb();Mf();Lf=class extends fn{codec=new Ff;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),mr(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:i}=(0,UM.getSmithyContext)(n),a=`/service/${o}/operation/${i}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=kf(n,s)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let c={$metadata:o,$fault:n.statusCode<=500?"client":"server"},l=Q.for(a),f;try{f=l.getSchema(i)}catch{s.Message&&(s.message=s.Message);let C=Q.for("smithy.ts.sdk.synthetic."+a),x=C.getBaseException();if(x){let D=C.getErrorCtor(x);throw Object.assign(new D({name:i}),c,s)}throw Object.assign(new Error(i),c,s)}let d=z.of(f),m=l.getErrorCtor(f),p=s.message??s.Message??"Unknown",S=new m(p),R={};for(let[_,C]of d.structIterator())R[_]=this.deserializer.readValue(C,s[_]);throw Object.assign(S,c,{$fault:d.getMergedTraits().error,message:p},R)}getDefaultContentType(){return"application/cbor"}}});var qM=w(()=>{u();Mf();HM();yb()});var zM=I(VM=>{"use strict";u();var fo=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},fs=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Sb=()=>{let e=[],t=[],r=!1,n=new Set,s=d=>d.sort((m,p)=>BM[p.step]-BM[m.step]||jM[p.priority||"normal"]-jM[m.priority||"normal"]),o=d=>{let m=!1,p=S=>{let R=fo(S.name,S.aliases);if(R.includes(d)){m=!0;for(let _ of R)n.delete(_);return!1}return!0};return e=e.filter(p),t=t.filter(p),m},i=d=>{let m=!1,p=S=>{if(S.middleware===d){m=!0;for(let R of fo(S.name,S.aliases))n.delete(R);return!1}return!0};return e=e.filter(p),t=t.filter(p),m},a=d=>(e.forEach(m=>{d.add(m.middleware,{...m})}),t.forEach(m=>{d.addRelativeTo(m.middleware,{...m})}),d.identifyOnResolve?.(f.identifyOnResolve()),d),c=d=>{let m=[];return d.before.forEach(p=>{p.before.length===0&&p.after.length===0?m.push(p):m.push(...c(p))}),m.push(d),d.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?m.push(p):m.push(...c(p))}),m},l=(d=!1)=>{let m=[],p=[],S={};return e.forEach(_=>{let C={..._,before:[],after:[]};for(let x of fo(C.name,C.aliases))S[x]=C;m.push(C)}),t.forEach(_=>{let C={..._,before:[],after:[]};for(let x of fo(C.name,C.aliases))S[x]=C;p.push(C)}),p.forEach(_=>{if(_.toMiddleware){let C=S[_.toMiddleware];if(C===void 0){if(d)return;throw new Error(`${_.toMiddleware} is not found when adding ${fs(_.name,_.aliases)} middleware ${_.relation} ${_.toMiddleware}`)}_.relation==="after"&&C.after.push(_),_.relation==="before"&&C.before.push(_)}}),s(m).map(c).reduce((_,C)=>(_.push(...C),_),[])},f={add:(d,m={})=>{let{name:p,override:S,aliases:R}=m,_={step:"initialize",priority:"normal",middleware:d,...m},C=fo(p,R);if(C.length>0){if(C.some(x=>n.has(x))){if(!S)throw new Error(`Duplicate middleware name '${fs(p,R)}'`);for(let x of C){let D=e.findIndex(M=>M.name===x||M.aliases?.some(j=>j===x));if(D===-1)continue;let k=e[D];if(k.step!==_.step||_.priority!==k.priority)throw new Error(`"${fs(k.name,k.aliases)}" middleware with ${k.priority} priority in ${k.step} step cannot be overridden by "${fs(p,R)}" middleware with ${_.priority} priority in ${_.step} step.`);e.splice(D,1)}}for(let x of C)n.add(x)}e.push(_)},addRelativeTo:(d,m)=>{let{name:p,override:S,aliases:R}=m,_={middleware:d,...m},C=fo(p,R);if(C.length>0){if(C.some(x=>n.has(x))){if(!S)throw new Error(`Duplicate middleware name '${fs(p,R)}'`);for(let x of C){let D=t.findIndex(M=>M.name===x||M.aliases?.some(j=>j===x));if(D===-1)continue;let k=t[D];if(k.toMiddleware!==_.toMiddleware||k.relation!==_.relation)throw new Error(`"${fs(k.name,k.aliases)}" middleware ${k.relation} "${k.toMiddleware}" middleware cannot be overridden by "${fs(p,R)}" middleware ${_.relation} "${_.toMiddleware}" middleware.`);t.splice(D,1)}}for(let x of C)n.add(x)}t.push(_)},clone:()=>a(Sb()),use:d=>{d.applyToStack(f)},remove:d=>typeof d=="string"?o(d):i(d),removeByTag:d=>{let m=!1,p=S=>{let{tags:R,name:_,aliases:C}=S;if(R&&R.includes(d)){let x=fo(_,C);for(let D of x)n.delete(D);return m=!0,!1}return!0};return e=e.filter(p),t=t.filter(p),m},concat:d=>{let m=a(Sb());return m.use(d),m.identifyOnResolve(r||m.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),m},applyToStack:a,identify:()=>l(!0).map(d=>{let m=d.step??d.relation+" "+d.toMiddleware;return fs(d.name,d.aliases)+" - "+m}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,m)=>{for(let p of l().map(S=>S.middleware).reverse())d=p(d,m);return r&&console.log(f.identify()),d}};return f},BM={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},jM={high:3,normal:2,low:1};VM.constructStack=Sb});var Ee=I(Ae=>{"use strict";u();var KM=zM(),xb=(Ht(),te(tk)),wb=es(),_te=(Ce(),te(C$)),GM=(Ut(),te(q$)),Rb=class{config;middlewareStack=KM.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=s===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(t).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Eb="***SensitiveInformation***";function _b(e,t){if(t==null)return t;let r=_te.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Eb;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Eb}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Eb}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[o,i]of r.structIterator())n[o]!=null&&(s[o]=_b(i,n[o]));return s}return t}var Uf=class{middlewareStack=KM.constructStack();schema;static classBuilder(){return new bb}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:f,CommandCtor:d}){for(let _ of s.bind(this)(d,t,r,n))this.middlewareStack.use(_);let m=t.concat(this.middlewareStack),{logger:p}=r,S={logger:p,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[wb.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...f},{requestHandler:R}=r;return m.resolve(_=>R.handle(_.request,n||{}),S)}},bb=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Uf{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,o){let i=t._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?_b.bind(null,a):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?_b.bind(null,c):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},bte="***SensitiveInformation***",Tte=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=s}},Tb=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},YM=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},XM=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=Ate(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw YM(i,t)},Cte=e=>({output:t,parsedBody:r,errorCode:n})=>{XM({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},Ate=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xte=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},WM=!1,Ite=e=>{e&&!WM&&parseInt(e.substring(1,e.indexOf(".")))<16&&(WM=!0)},vte=e=>{let t=[];for(let r in wb.AlgorithmId){let n=wb.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},Pte=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Nte=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),Ote=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},QM=e=>Object.assign(vte(e),Nte(e)),Dte=QM,$te=e=>Object.assign(Pte(e),Ote(e)),kte=e=>Array.isArray(e)?e:[e],JM=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=JM(e[r]));return e},Mte=e=>e!=null,Cb=class{trace(){}debug(){}info(){}warn(){}error(){}};function ZM(e,t,r){let n,s,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return s=t,o=r,Ute(n,s,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}e1(n,null,o,i)}return n}var Fte=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},Lte=(e,t)=>{let r={};for(let n in t)e1(r,e,t,n);return r},Ute=(e,t,r)=>ZM(e,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[t,o()]:n[s]=[t,o],n),{})),e1=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=Hte,c=qte,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=i:c&&(e[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[n]=o)}},Hte=e=>e!=null,qte=e=>e,Bte=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},jte=e=>e.toISOString().replace(".000Z","Z"),Ab=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Ab);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Ab(e[r]));return t}return e};Object.defineProperty(Ae,"collectBody",{enumerable:!0,get:function(){return xb.collectBody}});Object.defineProperty(Ae,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return xb.extendedEncodeURIComponent}});Object.defineProperty(Ae,"resolvedPath",{enumerable:!0,get:function(){return xb.resolvedPath}});Ae.Client=Rb;Ae.Command=Uf;Ae.NoOpLogger=Cb;Ae.SENSITIVE_STRING=bte;Ae.ServiceException=Tb;Ae._json=Ab;Ae.convertMap=Fte;Ae.createAggregatedClient=Tte;Ae.decorateServiceException=YM;Ae.emitWarningIfUnsupportedVersion=Ite;Ae.getArrayIfSingleItem=kte;Ae.getDefaultClientConfiguration=Dte;Ae.getDefaultExtensionConfiguration=QM;Ae.getValueFromTextNode=JM;Ae.isSerializableHeaderValue=Mte;Ae.loadConfigsForDefaultMode=xte;Ae.map=ZM;Ae.resolveDefaultRuntimeConfig=$te;Ae.serializeDateTime=jte;Ae.serializeFloat=Bte;Ae.take=Lte;Ae.throwDefaultError=XM;Ae.withBaseException=Cte;Object.keys(GM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ae,e)&&Object.defineProperty(Ae,e,{enumerable:!0,get:function(){return GM[e]}})})});var Ib,sr,Pi=w(()=>{u();Ce();Ib=T(Ee()),sr=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:f,httpPrefixHeaders:d}=i.getMergedTraits();return!a&&!c&&!l&&!f&&d===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,o,i){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:o,$fault:n.statusCode<500?"client":"server"},f=Q.for(a);try{return{errorSchema:i?.(f,c)??f.getSchema(t),errorMetadata:l}}catch{s.message=s.message??s.Message??"UnknownError";let m=Q.for("smithy.ts.sdk.synthetic."+a),p=m.getBaseException();if(p){let S=m.getErrorCtor(p)??Error;throw this.decorateServiceException(Object.assign(new S({name:c}),l),s)}throw this.decorateServiceException(Object.assign(new Error(c),l),s)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,s=(0,Ib.decorateServiceException)(t,r);n&&(s.message=n),s.Error={...s.Error,Type:s.Error.Type,Code:s.Error.Code,Message:s.Error.message??s.Error.Message??n};let o=s.$metadata.requestId;return o&&(s.RequestId=o),s}return(0,Ib.decorateServiceException)(t,r)}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,o]=n.split(";"),i=Object.entries(t),a={Code:s,Type:o};Object.assign(t,a);for(let[c,l]of i)a[c==="message"?"Message":c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(s=>z.of(s).getMergedTraits().awsQueryError?.[0]===r)}}}});var vb,t1=w(()=>{u();qM();Ce();Pi();vb=class extends Lf{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new sr(this.awsQueryCompatible)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=(()=>{let S=n.headers["x-amzn-query-error"];return S&&this.awsQueryCompatible?S.split(";")[0]:kf(n,s)??"Unknown"})(),{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=z.of(a),f=s.message??s.Message??"Unknown",d=Q.for(a[1]).getErrorCtor(a)??Error,m=new d(f),p={};for(let[S,R]of l.structIterator())s[S]!=null&&(p[S]=this.deserializer.readValue(R,s[S]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,p),this.mixin.decorateServiceException(Object.assign(m,c,{$fault:l.getMergedTraits().error,message:f},p),s)}}});var Vte,zte,Gte,r1=w(()=>{u();Vte=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},zte=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},Gte=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var mt,ps=w(()=>{u();mt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function*Ni(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let n=0;n<r[4].length;++n){let s=r[4][n],o=r[5][n],i=new z([o,0],s);!(s in t)&&!i.isIdempotencyToken()||(yield[s,i])}}function*n1(e,t,r){if(e.isUnitSchema())return;let n=e.getSchema(),s=Object.keys(t).filter(o=>o!=="__type").length;for(let o=0;o<n[4].length&&s!==0;++o){let i=n[4][o],a=n[5][o],c=new z([a,0],i),l=i;r&&(l=c.getMergedTraits()[r]??i),l in t&&(yield[i,c],s-=1)}}var gc=w(()=>{u();Ce()});var Oi,Pb=w(()=>{u();Oi=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function s1(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Le(n,"bigDecimal"):BigInt(n)}return t}var o1=w(()=>{u();Ut()});var i1,a1,Hf,Nb=w(()=>{u();i1=T(Ee()),a1=T(dt()),Hf=(e,t)=>(0,i1.collectBody)(e,t).then(r=>(t?.utf8Encoder??a1.toUtf8)(r))});var qf,Wte,yc,Sc=w(()=>{u();Nb();qf=(e,t)=>Hf(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Wte=async(e,t)=>{let r=await qf(e,t);return r.message=r.message??r.Message,r},yc=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return n(t[o]);if(t.__type!==void 0)return n(t.__type)}}});var c1,Ec,Ob=w(()=>{u();Ht();Ce();Ut();c1=T(ft());ps();gc();Pb();o1();Sc();Ec=class extends mt{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,s1):await qf(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=z.of(t);if(n){if(s.isStructSchema()){let i=s.isUnionSchema(),a={},c;i&&(c=new Oi(r,a));for(let[l,f]of n1(s,r,this.settings.jsonName?"jsonName":!1)){let d=this.settings.jsonName?f.getMergedTraits().jsonName??l:l;i&&c.mark(d),r[d]!=null&&(a[l]=this._read(f,r[d]))}return i&&c.writeUnknown(),a}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(c||f!=null)&&(a[l]=this._read(i,f));return a}}if(s.isBlobSchema()&&typeof r=="string")return(0,c1.fromBase64)(r);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?It.from(r):r;if(s.isTimestampSchema()&&r!=null)switch(zt(s,this.settings)){case 5:return t_(r);case 6:return r_(r);case 7:return n_(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof Le)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new Le(i.string,i.type):new Le(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Le?i[a]=c:i[a]=this._read(s,c);return i}else return structuredClone(r);return r}}});var u1,Bf,l1=w(()=>{u();Ut();u1="\u039D",Bf=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Le){let n=`${u1+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${u1+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Db,wc,$b=w(()=>{u();Ht();Ce();Ut();Db=T(ft());ps();gc();l1();wc=class extends mt{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=z.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=z.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new Bf;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",o=z.of(t);if(s){if(o.isStructSchema()){let i={};for(let[a,c]of Ni(o,r)){let l=this._write(c,r[a],o);if(l!==void 0){let f=c.getMergedTraits().jsonName,d=this.settings.jsonName?f??a:a;i[d]=l}}if(o.isUnionSchema()&&Object.keys(i).length===0){let{$unknown:a}=r;if(Array.isArray(a)){let[c,l]=a;i[c]=this._write(15,l)}}return i}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(i,l));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(c||f!=null)&&(a[l]=this._write(i,f));return a}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??Db.toBase64)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch(zt(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return sc(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Le&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,rr.v4)();let i=o.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?It.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??Db.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(s){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Le?(this.useReplacer=!0,i[a]=c):i[a]=this._write(o,c);return i}else return structuredClone(r);return r}}}});var po,jf=w(()=>{u();ps();Ob();$b();po=class extends mt{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new wc(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ec(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var mo,Vf=w(()=>{u();Ht();Ce();Pi();jf();Sc();mo=class extends fn{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=s??new po({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new sr(this.awsQueryCompatible)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(mr(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=yc(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=z.of(a),f=s.message??s.Message??"Unknown",d=Q.for(a[1]).getErrorCtor(a)??Error,m=new d(f),p={};for(let[S,R]of l.structIterator())s[S]!=null&&(p[S]=this.codec.createDeserializer().readObject(R,s[S]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,p),this.mixin.decorateServiceException(Object.assign(m,c,{$fault:l.getMergedTraits().error,message:f},p),s)}}});var kb,d1=w(()=>{u();Vf();kb=class extends mo{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Mb,f1=w(()=>{u();Vf();Mb=class extends mo{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var ho,p1=w(()=>{u();Ht();Ce();Pi();jf();Sc();ho=class extends eo{serializer;deserializer;codec;mixin=new sr;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new po(r),this.serializer=new no(this.codec.createSerializer(),r),this.deserializer=new ro(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=z.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.body==null&&s.headers["content-type"]===this.getDefaultContentType()&&(s.body="{}"),s}async deserializeResponse(t,r,n){let s=await super.deserializeResponse(t,r,n),o=z.of(t.output);for(let[i,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(i in s)&&(s[i]=null);return s}async handleError(t,r,n,s,o){let i=yc(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=z.of(a),f=s.message??s.Message??"Unknown",d=Q.for(a[1]).getErrorCtor(a)??Error,m=new d(f);await this.deserializeHttpMessage(a,r,n,s);let p={};for(let[S,R]of l.structIterator()){let _=R.getMergedTraits().jsonName??S;p[S]=this.codec.createDeserializer().readObject(R,s[_])}throw this.mixin.decorateServiceException(Object.assign(m,c,{$fault:l.getMergedTraits().error,message:f},p),s)}getDefaultContentType(){return"application/json"}}});var m1,Kte,h1=w(()=>{u();m1=T(Ee()),Kte=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,m1.expectUnion)(e)}});var g1,y1,S1,go,zf=w(()=>{u();g1=T(Gs());Ht();Ce();y1=T(Ee()),S1=T(dt());ps();Pb();go=class extends mt{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new to(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=z.of(t),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},f=Object.keys(o)[0];return o[f].isBlobSchema()?l[f]=r:l[f]=this.read(o[f],r),l}let a=(this.serdeContext?.utf8Encoder??S1.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=z.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],f=c.getMergedTraits().xmlName??"member",d=i?r:(r[0]??r)[f],m=Array.isArray(d)?d:[d];for(let p of m)(p!=null||o)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),f;i?f=Array.isArray(r)?r:[r]:f=Array.isArray(r.entry)?r.entry:[r.entry];let d=c.getMergedTraits().xmlName??"key",m=l.getMergedTraits().xmlName??"value";for(let p of f){let S=p[d],R=p[m];(R!=null||o)&&(a[S]=this.readSchema(l,R))}return a}if(n.isStructSchema()){let c=n.isUnionSchema(),l;c&&(l=new Oi(r,a));for(let[f,d]of n.structIterator()){let m=d.getMergedTraits(),p=m.httpPayload?m.xmlName??d.getName():d.getMemberTraits().xmlName??f;c&&l.mark(p),r[p]!=null&&(a[f]=this.readSchema(d,r[p]))}return c&&l.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,g1.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",s=Object.keys(r)[0],o=r[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,y1.getValueFromTextNode)(o)}return{}}}});var E1,w1,Gf,R1=w(()=>{u();Ht();Ce();Ut();E1=T(Ee()),w1=T(ft());ps();gc();Gf=class extends mt{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=z.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??w1.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,rr.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Le?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),zt(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,E1.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(s.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),i=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),f=i?`${n}${a}`:`${n}${l}.${a}`;this.write(o,c,f),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let o=s.getKeySchema(),i=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,f]of Object.entries(r)){if(f==null)continue;let d=this.getKey("key",o.getMergedTraits().xmlName),m=a?`${n}${c}.${d}`:`${n}entry.${c}.${d}`,p=this.getKey("value",i.getMergedTraits().xmlName),S=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(o,l,m),this.write(i,f,S),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object"){let o=!1;for(let[i,a]of Ni(s,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(i,a.getMergedTraits().xmlName),l=`${n}${c}`;this.write(a,r[i],l),o=!0}if(!o&&s.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,c]=i,l=`${n}${a}`;this.write(15,c,l)}}}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Dr(t)}=`}writeValue(t){this.buffer+=Dr(t)}}});var yo,Fb=w(()=>{u();Ht();Ce();Pi();zf();R1();yo=class extends fn{options;serializer;deserializer;mixin=new sr;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Gf(r),this.deserializer=new go(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(mr(t.input)==="unit"||!s.body)&&(s.body="");let o=t.name.split("#")[1]??t.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,o=z.of(t.output),i={};if(n.statusCode>=300){let d=await tr(n.body,r);d.byteLength>0&&Object.assign(i,await s.read(15,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let d in n.headers){let m=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=m}let a=t.name.split("#")[1]??t.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await tr(n.body,r);return l.byteLength>0&&Object.assign(i,await s.read(o,l,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,s,o){let i=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),c=this.loadQueryErrorMessage(s);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:l,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,o,this.mixin.findQueryCompatibleError),d=z.of(l),m=Q.for(l[1]).getErrorCtor(l)??Error,p=new m(c),S={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[R,_]of d.structIterator()){let C=_.getMergedTraits().xmlName??R,x=a[C]??s[C];S[R]=this.deserializer.readSchema(_,x)}throw this.mixin.decorateServiceException(Object.assign(p,f,{$fault:d.getMergedTraits().error,message:c},S),s)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Lb,_1=w(()=>{u();Fb();Lb=class extends yo{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var b1,T1,C1,Yte,Ub,Hb=w(()=>{u();b1=T(Gs()),T1=T(Ee());Nb();C1=(e,t)=>Hf(e,t).then(r=>{if(r.length){let n;try{n=(0,b1.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,T1.getValueFromTextNode)(i)}return{}}),Yte=async(e,t)=>{let r=await C1(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Ub=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Nt,qb,Wf,Rc,Bb=w(()=>{u();Nt=T(Gs());Ht();Ce();Ut();qb=T(Ee()),Wf=T(ft());ps();gc();Rc=class extends mt{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=z.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Wf.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),o=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Nt.XmlNode.of(o),[a,c]=this.getXmlnsAttribute(t,n);for(let[f,d]of Ni(t,r)){let m=r[f];if(m!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){i.addAttribute(d.getMergedTraits().xmlName??f,this.writeSimple(d,m));continue}if(d.isListSchema())this.writeList(d,m,i,c);else if(d.isMapSchema())this.writeMap(d,m,i,c);else if(d.isStructSchema())i.addChildNode(this.writeStruct(d,m,c));else{let p=Nt.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,m,p,c),i.addChildNode(p)}}}let{$unknown:l}=r;if(l&&t.isUnionSchema()&&Array.isArray(l)&&Object.keys(r).length===1){let[f,d]=l,m=Nt.XmlNode.of(f);if(typeof d!="string")if(r instanceof Nt.XmlNode||r instanceof Nt.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,d,m,c),i.addChildNode(m)}return c&&i.addAttribute(a,c),i}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!o.xmlFlattened,[f,d]=this.getXmlnsAttribute(t,s),m=(p,S)=>{if(i.isListSchema())this.writeList(i,Array.isArray(S)?S:[S],p,d);else if(i.isMapSchema())this.writeMap(i,S,p,d);else if(i.isStructSchema()){let R=this.writeStruct(i,S,d);p.addChildNode(R.withName(l?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let R=Nt.XmlNode.of(l?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,S,R,d),p.addChildNode(R)}};if(l)for(let p of r)(c||p!=null)&&m(n,p);else{let p=Nt.XmlNode.of(o.xmlName??t.getMemberName());d&&p.addAttribute(f,d);for(let S of r)(c||S!=null)&&m(p,S);n.addChildNode(p)}}writeMap(t,r,n,s,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",f=t.getValueSchema(),d=f.getMergedTraits(),m=d.xmlName??"value",p=!!d.sparse,S=!!i.xmlFlattened,[R,_]=this.getXmlnsAttribute(t,s),C=(x,D,k)=>{let M=Nt.XmlNode.of(l,D),[j,ye]=this.getXmlnsAttribute(a,_);ye&&M.addAttribute(j,ye),x.addChildNode(M);let U=Nt.XmlNode.of(m);f.isListSchema()?this.writeList(f,k,U,_):f.isMapSchema()?this.writeMap(f,k,U,_,!0):f.isStructSchema()?U=this.writeStruct(f,k,_):this.writeSimpleInto(f,k,U,_),x.addChildNode(U)};if(S){for(let[x,D]of Object.entries(r))if(p||D!=null){let k=Nt.XmlNode.of(i.xmlName??t.getMemberName());C(k,x,D),n.addChildNode(k)}}else{let x;o||(x=Nt.XmlNode.of(i.xmlName??t.getMemberName()),_&&x.addAttribute(R,_),n.addChildNode(x));for(let[D,k]of Object.entries(r))if(p||k!=null){let M=Nt.XmlNode.of("entry");C(M,D,k),(o?n:x).addChildNode(M)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=z.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??Wf.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(zt(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,qb.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,qb.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Le?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,rr.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let o=this.writeSimple(t,r),i=z.of(t),a=new Nt.XmlText(o),[c,l]=this.getXmlnsAttribute(i,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==r?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var _c,jb=w(()=>{u();ps();zf();Bb();_c=class extends mt{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Rc(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new go(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Vb,A1=w(()=>{u();Ht();Ce();Pi();Hb();jb();Vb=class extends eo{codec;serializer;deserializer;mixin=new sr;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new _c(r),this.serializer=new no(this.codec.createSerializer(),r),this.deserializer=new ro(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=z.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return typeof s.body=="string"&&s.headers["content-type"]===this.getDefaultContentType()&&!s.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(o)&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=Ub(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=z.of(a),f=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",d=Q.for(a[1]).getErrorCtor(a)??Error,m=new d(f);await this.deserializeHttpMessage(a,r,n,s);let p={};for(let[S,R]of l.structIterator()){let _=R.getMergedTraits().xmlName??S,C=s.Error?.[_]??s[_];p[S]=this.codec.createDeserializer().readSchema(R,C)}throw this.mixin.decorateServiceException(Object.assign(m,c,{$fault:l.getMergedTraits().error,message:f},p),s)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var bc=w(()=>{u();t1();r1();d1();f1();Vf();p1();jf();Ob();$b();h1();Sc();_1();Fb();A1();jb();zf();Bb();Hb()});var x1={};ze(x1,{AWSSDKSigV4Signer:()=>Wk,AwsEc2QueryProtocol:()=>Lb,AwsJson1_0Protocol:()=>kb,AwsJson1_1Protocol:()=>Mb,AwsJsonRpcProtocol:()=>mo,AwsQueryProtocol:()=>yo,AwsRestJsonProtocol:()=>ho,AwsRestXmlProtocol:()=>Vb,AwsSdkSigV4ASigner:()=>_f,AwsSdkSigV4Signer:()=>Pt,AwsSmithyRpcV2CborProtocol:()=>vb,JsonCodec:()=>po,JsonShapeDeserializer:()=>Ec,JsonShapeSerializer:()=>wc,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>co,NODE_SIGV4A_CONFIG_OPTIONS:()=>Kee,XmlCodec:()=>_c,XmlShapeDeserializer:()=>go,XmlShapeSerializer:()=>Rc,_toBool:()=>zte,_toNum:()=>Gte,_toStr:()=>Vte,awsExpectUnion:()=>Kte,emitWarningIfUnsupportedVersion:()=>io,getBearerTokenEnvKey:()=>U_,loadRestJsonErrorCode:()=>yc,loadRestXmlErrorCode:()=>Ub,parseJsonBody:()=>qf,parseJsonErrorBody:()=>Wte,parseXmlBody:()=>C1,parseXmlErrorBody:()=>Yte,resolveAWSSDKSigV4Config:()=>ote,resolveAwsSdkSigV4AConfig:()=>Wee,resolveAwsSdkSigV4Config:()=>as,setCredentialFeature:()=>ao,setFeature:()=>Bee,setTokenFeature:()=>jee,state:()=>O_,validateSigningProperties:()=>lc});var yr=w(()=>{u();Rf();xM();bc()});var Tc=I(Di=>{"use strict";u();var Xte=(nr(),te(C_)),Qte=cc(),Jte=Fe(),Fr=(yr(),te(x1)),N1=void 0;function Zte(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function ere(e){let t=Xte.normalizeProvider(e.userAgentAppId??N1),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!Zte(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var tre=/\d{12}\.ddb/;async function rre(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Fr.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?Fr.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Fr.setFeature(e,"RETRY_MODE_STANDARD","E"):Fr.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(tre)&&Fr.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":Fr.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Fr.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Fr.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&Fr.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))Fr.setFeature(e,i,a)}}var I1="user-agent",zb="x-amz-user-agent",v1=" ",Gb="/",nre=/[^!$%&'*+\-.^_`|~\w]/g,sre=/[^!$%&'*+\-.^_`|~\w#]/g,P1="-",ore=1024;function ire(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=ore){t.length?t+=","+n:t+=n;continue}break}return t}var O1=e=>(t,r)=>async n=>{let{request:s}=n;if(!Jte.HttpRequest.isInstance(s))return t(n);let{headers:o}=s,i=r?.userAgent?.map(Kf)||[],a=(await e.defaultUserAgentProvider()).map(Kf);await rre(r,e,n);let c=r;a.push(`m/${ire(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Kf)||[],f=await e.userAgentAppId();f&&a.push(Kf(["app",`${f}`]));let d=Qte.getUserAgentPrefix(),m=(d?[d]:[]).concat([...a,...i,...l]).join(v1),p=[...a.filter(S=>S.startsWith("aws-sdk-")),...l].join(v1);return e.runtime!=="browser"?(p&&(o[zb]=o[zb]?`${o[I1]} ${p}`:p),o[I1]=m):o[zb]=m,t({...n,request:s})},Kf=e=>{let t=e[0].split(Gb).map(i=>i.replace(nre,P1)).join(Gb),r=e[1]?.replace(sre,P1),n=t.indexOf(Gb),s=t.substring(0,n),o=t.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},D1={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},are=e=>({applyToStack:t=>{t.add(O1(e),D1)}});Di.DEFAULT_UA_APP_ID=N1;Di.getUserAgentMiddlewareOptions=D1;Di.getUserAgentPlugin=are;Di.resolveUserAgentConfig=ere;Di.userAgentMiddleware=O1});var $1=I($i=>{"use strict";u();var cre=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},ure=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};$i.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})($i.SelectorType||($i.SelectorType={}));$i.booleanSelector=cre;$i.numberSelector=ure});var Lr=I(rt=>{"use strict";u();var ms=$1(),Yf=Vt(),lre=Ti(),F1="AWS_USE_DUALSTACK_ENDPOINT",L1="use_dualstack_endpoint",dre=!1,fre={environmentVariableSelector:e=>ms.booleanSelector(e,F1,ms.SelectorType.ENV),configFileSelector:e=>ms.booleanSelector(e,L1,ms.SelectorType.CONFIG),default:!1},U1="AWS_USE_FIPS_ENDPOINT",H1="use_fips_endpoint",pre=!1,mre={environmentVariableSelector:e=>ms.booleanSelector(e,U1,ms.SelectorType.ENV),configFileSelector:e=>ms.booleanSelector(e,H1,ms.SelectorType.CONFIG),default:!1},hre=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:Yf.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:Yf.normalizeProvider(s??!1)})},gre=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},yre=e=>{let t=Yf.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?Yf.normalizeProvider(typeof r=="string"?s(r):r):()=>gre({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},q1="AWS_REGION",B1="region",Sre={environmentVariableSelector:e=>e[q1],configFileSelector:e=>e[B1],default:()=>{throw new Error("Region is missing")}},Ere={preferredFile:"credentials"},k1=new Set,wre=(e,t=lre.isValidHostLabel)=>{if(!k1.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else k1.add(e)},j1=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),Rre=e=>j1(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,_re=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,s=Rre(n);return wre(s),s},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return j1(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},M1=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,bre=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),Tre=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",Cre=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},Are=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{let i=Tre(e,{partitionHash:o}),a=e in s?e:o[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=M1(s[a]?.variants,c),f=M1(o[i]?.variants,c),d=bre(a,{regionHostname:l,partitionHostname:f});if(d===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let m=Cre(d,{signingRegion:s[a]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:d,...m&&{signingRegion:m},...s[a]?.signingService&&{signingService:s[a].signingService}}};rt.CONFIG_USE_DUALSTACK_ENDPOINT=L1;rt.CONFIG_USE_FIPS_ENDPOINT=H1;rt.DEFAULT_USE_DUALSTACK_ENDPOINT=dre;rt.DEFAULT_USE_FIPS_ENDPOINT=pre;rt.ENV_USE_DUALSTACK_ENDPOINT=F1;rt.ENV_USE_FIPS_ENDPOINT=U1;rt.NODE_REGION_CONFIG_FILE_OPTIONS=Ere;rt.NODE_REGION_CONFIG_OPTIONS=Sre;rt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=fre;rt.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=mre;rt.REGION_ENV_NAME=q1;rt.REGION_INI_NAME=B1;rt.getRegionInfo=Are;rt.resolveCustomEndpointsConfig=hre;rt.resolveEndpointsConfig=yre;rt.resolveRegionConfig=_re});var Qf=I(Xf=>{"use strict";u();var xre=Fe(),V1="content-length";function z1(e){return t=>async r=>{let n=r.request;if(xre.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(V1)===-1)try{let i=e(s);n.headers={...n.headers,[V1]:String(i)}}catch{}}return t({...r,request:n})}}var G1={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Ire=e=>({applyToStack:t=>{t.add(z1(e.bodyLengthChecker),G1)}});Xf.contentLengthMiddleware=z1;Xf.contentLengthMiddlewareOptions=G1;Xf.getContentLengthPlugin=Ire});var Kb=I(Jf=>{"use strict";u();Object.defineProperty(Jf,"__esModule",{value:!0});Jf.getHomeDir=void 0;var vre=q("os"),Pre=q("path"),Wb={},Nre=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Ore=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Pre.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=Nre();return Wb[s]||(Wb[s]=(0,vre.homedir)()),Wb[s]};Jf.getHomeDir=Ore});var Yb=I(Zf=>{"use strict";u();Object.defineProperty(Zf,"__esModule",{value:!0});Zf.getSSOTokenFilepath=void 0;var Dre=q("crypto"),$re=q("path"),kre=Kb(),Mre=e=>{let r=(0,Dre.createHash)("sha1").update(e).digest("hex");return(0,$re.join)((0,kre.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Zf.getSSOTokenFilepath=Mre});var W1=I(hs=>{"use strict";u();Object.defineProperty(hs,"__esModule",{value:!0});hs.getSSOTokenFromFile=hs.tokenIntercept=void 0;var Fre=q("fs/promises"),Lre=Yb();hs.tokenIntercept={};var Ure=async e=>{if(hs.tokenIntercept[e])return hs.tokenIntercept[e];let t=(0,Lre.getSSOTokenFilepath)(e),r=await(0,Fre.readFile)(t,"utf8");return JSON.parse(r)};hs.getSSOTokenFromFile=Ure});var K1=I(Gt=>{"use strict";u();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.readFile=Gt.fileIntercept=Gt.filePromises=void 0;var Hre=q("node:fs/promises");Gt.filePromises={};Gt.fileIntercept={};var qre=(e,t)=>Gt.fileIntercept[e]!==void 0?Gt.fileIntercept[e]:((!Gt.filePromises[e]||t?.ignoreCache)&&(Gt.filePromises[e]=(0,Hre.readFile)(e,"utf8")),Gt.filePromises[e]);Gt.readFile=qre});var Jb=I(Ot=>{"use strict";u();var Cc=Kb(),Y1=Yb(),Xb=W1(),ep=q("path"),tp=es(),ki=K1(),Q1="AWS_PROFILE",J1="default",Bre=e=>e.profile||process.env[Q1]||J1,So=".",jre=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(So);return r===-1?!1:Object.values(tp.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(So),o=r.substring(0,s)===tp.IniSectionType.PROFILE?r.substring(s+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),Vre="AWS_CONFIG_FILE",Z1=()=>process.env[Vre]||ep.join(Cc.getHomeDir(),".aws","config"),zre="AWS_SHARED_CREDENTIALS_FILE",Gre=()=>process.env[zre]||ep.join(Cc.getHomeDir(),".aws","credentials"),Wre=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Kre=["__proto__","profile __proto__"],Qb=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),c=Wre.exec(a);if(c){let[,l,,f]=c;Object.values(tp.IniSectionType).includes(l)&&(r=[l,f].join(So))}else r=a;if(Kre.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let f=n?[n,c].join(So):c;t[r][f]=l}}}}return t},X1=()=>({}),eF=async(e={})=>{let{filepath:t=Gre(),configFilepath:r=Z1()}=e,n=Cc.getHomeDir(),s="~/",o=t;t.startsWith(s)&&(o=ep.join(n,t.slice(2)));let i=r;r.startsWith(s)&&(i=ep.join(n,r.slice(2)));let a=await Promise.all([ki.readFile(i,{ignoreCache:e.ignoreCache}).then(Qb).then(jre).catch(X1),ki.readFile(o,{ignoreCache:e.ignoreCache}).then(Qb).catch(X1)]);return{configFile:a[0],credentialsFile:a[1]}},Yre=e=>Object.entries(e).filter(([t])=>t.startsWith(tp.IniSectionType.SSO_SESSION+So)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(So)+1)]:n}),{}),Xre=()=>({}),Qre=async(e={})=>ki.readFile(e.configFilepath??Z1()).then(Qb).then(Yre).catch(Xre),Jre=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},Zre=async e=>{let t=await eF(e);return Jre(t.configFile,t.credentialsFile)},ene={getFileRecord(){return ki.fileIntercept},interceptFile(e,t){ki.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return Xb.tokenIntercept},interceptToken(e,t){Xb.tokenIntercept[e]=t}};Object.defineProperty(Ot,"getSSOTokenFromFile",{enumerable:!0,get:function(){return Xb.getSSOTokenFromFile}});Object.defineProperty(Ot,"readFile",{enumerable:!0,get:function(){return ki.readFile}});Ot.CONFIG_PREFIX_SEPARATOR=So;Ot.DEFAULT_PROFILE=J1;Ot.ENV_PROFILE=Q1;Ot.externalDataInterceptor=ene;Ot.getProfileName=Bre;Ot.loadSharedConfigFiles=eF;Ot.loadSsoSessionData=Qre;Ot.parseKnownFiles=Zre;Object.keys(Cc).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ot,e)&&Object.defineProperty(Ot,e,{enumerable:!0,get:function(){return Cc[e]}})});Object.keys(Y1).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ot,e)&&Object.defineProperty(Ot,e,{enumerable:!0,get:function(){return Y1[e]}})})});var gs=I(nF=>{"use strict";u();var Ac=dc(),tF=Jb();function rF(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var tne=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ac.CredentialsProviderError(r.message||`Not found in ENV: ${rF(e.toString())}`,{logger:t?.logger})}},rne=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=tF.getProfileName(r),{configFile:s,credentialsFile:o}=await tF.loadSharedConfigFiles(r),i=o[n]||{},a=s[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let f=e(c,t==="config"?s:o);if(f===void 0)throw new Error;return f}catch(l){throw new Ac.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${rF(e.toString())}`,{logger:r.logger})}},nne=e=>typeof e=="function",sne=e=>nne(e)?async()=>await e():Ac.fromStatic(e),one=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:o}=n,i={signingName:s,logger:o};return Ac.memoize(Ac.chain(tne(e,i),rne(t,n),sne(r)))};nF.loadConfig=one});var aF=I(rp=>{"use strict";u();Object.defineProperty(rp,"__esModule",{value:!0});rp.getEndpointUrlConfig=void 0;var sF=Jb(),oF="AWS_ENDPOINT_URL",iF="endpoint_url",ine=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),n=t[[oF,...r].join("_")];if(n)return n;let s=t[oF];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(sF.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(a=>a.toLowerCase()),i=s[[o.join("_"),iF].join(sF.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[iF];if(n)return n},default:void 0});rp.getEndpointUrlConfig=ine});var cF=I(np=>{"use strict";u();Object.defineProperty(np,"__esModule",{value:!0});np.getEndpointFromConfig=void 0;var ane=gs(),cne=aF(),une=async e=>(0,ane.loadConfig)((0,cne.getEndpointUrlConfig)(e??""))();np.getEndpointFromConfig=une});var ys=I(En=>{"use strict";u();var lF=cF(),uF=oo(),lne=(nr(),te(C_)),sp=Vt(),dne=iR(),fne=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),yne(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!gne(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},pne=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,mne=/(\d+\.){3}\d+/,hne=/\.\./,gne=e=>pne.test(e)&&!mne.test(e)&&!hne.test(e),yne=e=>{let[t,r,n,,,s]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=!!(o&&r&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},Sne=(e,t,r,n=!1)=>{let s=async()=>{let o;return n?o=r.clientContextParams?.[e]??r[e]??r[t]:o=r[e]??r[t],typeof o=="function"?o():o};return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await s();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:a,port:c,path:l}=o;return`${i}//${a}${c?":"+c:""}${l}`}}return o}:s},Zb=e=>typeof e=="object"?"url"in e?uF.parseUrl(e.url):e:uF.parseUrl(e),dF=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await lF.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Zb(i)),r.isCustomEndpoint=!0)}let s=await fF(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},fF=async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":n[o]=i.value;break;case"contextParams":n[o]=e[i.name];break;case"clientContextParams":case"builtInParams":n[o]=await Sne(i.name,o,r,i.type!=="builtInParams")();break;case"operationContextParams":n[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await fne(n),n},pF=({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&lne.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await dF(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=sp.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...s})},mF={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:dne.serializerMiddlewareOption.name},Ene=(e,t)=>({applyToStack:r=>{r.addRelativeTo(pF({config:e,instructions:t}),mF)}}),wne=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=r!=null?async()=>Zb(await sp.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:sp.normalizeProvider(n??!1),useFipsEndpoint:sp.normalizeProvider(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=lF.getEndpointFromConfig(e.serviceId)),c),a},Rne=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};En.endpointMiddleware=pF;En.endpointMiddlewareOptions=mF;En.getEndpointFromInstructions=dF;En.getEndpointPlugin=Ene;En.resolveEndpointConfig=wne;En.resolveEndpointRequiredConfig=Rne;En.resolveParams=fF;En.toEndpointV1=Zb});var tT=I(Ss=>{"use strict";u();var _ne=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],bne=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Tne=["TimeoutError","RequestTimeout","RequestTimeoutException"],Cne=[500,502,503,504],Ane=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],xne=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],hF=e=>e?.$retryable!==void 0,Ine=e=>_ne.includes(e.name),gF=e=>e.$metadata?.clockSkewCorrected,yF=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},vne=e=>e.$metadata?.httpStatusCode===429||bne.includes(e.name)||e.$retryable?.throttling==!0,eT=(e,t=0)=>hF(e)||gF(e)||Tne.includes(e.name)||Ane.includes(e?.code||"")||xne.includes(e?.code||"")||Cne.includes(e.$metadata?.httpStatusCode||0)||yF(e)||e.cause!==void 0&&t<=10&&eT(e.cause,t+1),Pne=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!eT(e)}return!1};Ss.isBrowserNetworkError=yF;Ss.isClockSkewCorrectedError=gF;Ss.isClockSkewError=Ine;Ss.isRetryableByTrait=hF;Ss.isServerError=Pne;Ss.isThrottlingError=vne;Ss.isTransientError=eT});var vc=I(je=>{"use strict";u();var Nne=tT();je.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(je.RETRY_MODES||(je.RETRY_MODES={}));var rT=3,One=je.RETRY_MODES.STANDARD,op=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Nne.isThrottlingError(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},xc=100,iT=20*1e3,EF=500,nT=500,wF=5,RF=10,_F=1,Dne="amz-sdk-invocation-id",$ne="amz-sdk-request",kne=()=>{let e=xc;return{computeNextBackoffDelay:n=>Math.floor(Math.min(iT,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},SF=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(iT,e),getRetryCost:()=>r}),Ic=class{maxAttempts;mode=je.RETRY_MODES.STANDARD;capacity=nT;retryBackoffStrategy=kne();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return SF({retryDelay:xc,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?EF:xc);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,SF({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(nT,this.capacity+(t.getRetryCost()??_F))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${rT}`),rT}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?RF:wF}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},sT=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=je.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new op,this.standardRetryStrategy=new Ic(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},oT=class extends Ic{computeNextBackoffDelay;constructor(t,r=xc){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};je.AdaptiveRetryStrategy=sT;je.ConfiguredRetryStrategy=oT;je.DEFAULT_MAX_ATTEMPTS=rT;je.DEFAULT_RETRY_DELAY_BASE=xc;je.DEFAULT_RETRY_MODE=One;je.DefaultRateLimiter=op;je.INITIAL_RETRY_TOKENS=nT;je.INVOCATION_ID_HEADER=Dne;je.MAXIMUM_RETRY_DELAY=iT;je.NO_RETRY_INCREMENT=_F;je.REQUEST_HEADER=$ne;je.RETRY_COST=wF;je.StandardRetryStrategy=Ic;je.THROTTLING_RETRY_DELAY_BASE=EF;je.TIMEOUT_RETRY_COST=RF});var bF=I(ip=>{"use strict";u();Object.defineProperty(ip,"__esModule",{value:!0});ip.isStreamingPayload=void 0;var Mne=q("stream"),Fne=e=>e?.body instanceof Mne.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;ip.isStreamingPayload=Fne});var Eo=I(Qe=>{"use strict";u();var qe=vc(),Mi=Fe(),Es=tT(),CF=Ca(),TF=Vt(),Lne=Ee(),Une=bF(),Hne=(e,t)=>{let r=e,n=qe.NO_RETRY_INCREMENT,s=qe.RETRY_COST,o=qe.TIMEOUT_RETRY_COST,i=e,a=d=>d.name==="TimeoutError"?o:s,c=d=>a(d)<=i;return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:d=>{if(!c(d))throw new Error("No retry token available");let m=a(d);return i-=m,m},releaseRetryTokens:d=>{i+=d??n,i=Math.min(i,r)}})},AF=(e,t)=>Math.floor(Math.min(qe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),xF=e=>e?Es.isRetryableByTrait(e)||Es.isClockSkewError(e)||Es.isThrottlingError(e)||Es.isTransientError(e):!1,IF=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),ap=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=qe.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??xF,this.delayDecider=r?.delayDecider??AF,this.retryQuota=r?.retryQuota??Hne(qe.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=qe.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,o=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(Mi.HttpRequest.isInstance(c)&&(c.headers[qe.INVOCATION_ID_HEADER]=CF.v4());;)try{Mi.HttpRequest.isInstance(c)&&(c.headers[qe.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:f}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(s),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=i,{response:l,output:f}}catch(l){let f=IF(l);if(o++,this.shouldRetry(f,o,a)){s=this.retryQuota.retrieveRetryTokens(f);let d=this.delayDecider(Es.isThrottlingError(f)?qe.THROTTLING_RETRY_DELAY_BASE:qe.DEFAULT_RETRY_DELAY_BASE,o),m=qne(f.$response),p=Math.max(m||0,d);i+=p,await new Promise(S=>setTimeout(S,p));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=i,f}}},qne=e=>{if(!Mi.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},aT=class extends ap{rateLimiter;constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new qe.DefaultRateLimiter,this.mode=qe.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},cT="AWS_MAX_ATTEMPTS",uT="max_attempts",Bne={environmentVariableSelector:e=>{let t=e[cT];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${cT} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[uT];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${uT} mast be a number, got "${t}"`);return r},default:qe.DEFAULT_MAX_ATTEMPTS},jne=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=TF.normalizeProvider(n??qe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await TF.normalizeProvider(r)()===qe.RETRY_MODES.ADAPTIVE?new qe.AdaptiveRetryStrategy(s):new qe.StandardRetryStrategy(s))})},vF="AWS_RETRY_MODE",PF="retry_mode",Vne={environmentVariableSelector:e=>e[vF],configFileSelector:e=>e[PF],default:qe.DEFAULT_RETRY_MODE},NF=()=>e=>async t=>{let{request:r}=t;return Mi.HttpRequest.isInstance(r)&&(delete r.headers[qe.INVOCATION_ID_HEADER],delete r.headers[qe.REQUEST_HEADER]),e(t)},OF={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},zne=e=>({applyToStack:t=>{t.addRelativeTo(NF(),OF)}}),DF=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(Gne(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:f}=n,d=Mi.HttpRequest.isInstance(f);for(d&&(f.headers[qe.INVOCATION_ID_HEADER]=CF.v4());;)try{d&&(f.headers[qe.REQUEST_HEADER]=`attempt=${c+1}; max=${o}`);let{response:m,output:p}=await t(n);return s.recordSuccess(i),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=l,{response:m,output:p}}catch(m){let p=Wne(m);if(a=IF(m),d&&Une.isStreamingPayload(f))throw(r.logger instanceof Lne.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await s.refreshRetryTokenForRetry(i,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let S=i.getRetryDelay();l+=S,await new Promise(R=>setTimeout(R,S))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},Gne=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Wne=e=>{let t={error:e,errorType:Kne(e)},r=kF(e.$response);return r&&(t.retryAfterHint=r),t},Kne=e=>Es.isThrottlingError(e)?"THROTTLING":Es.isTransientError(e)?"TRANSIENT":Es.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",$F={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Yne=e=>({applyToStack:t=>{t.add(DF(e),$F)}}),kF=e=>{if(!Mi.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Qe.AdaptiveRetryStrategy=aT;Qe.CONFIG_MAX_ATTEMPTS=uT;Qe.CONFIG_RETRY_MODE=PF;Qe.ENV_MAX_ATTEMPTS=cT;Qe.ENV_RETRY_MODE=vF;Qe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=Bne;Qe.NODE_RETRY_MODE_CONFIG_OPTIONS=Vne;Qe.StandardRetryStrategy=ap;Qe.defaultDelayDecider=AF;Qe.defaultRetryDecider=xF;Qe.getOmitRetryHeadersPlugin=zne;Qe.getRetryAfterHint=kF;Qe.getRetryPlugin=Yne;Qe.omitRetryHeadersMiddleware=NF;Qe.omitRetryHeadersMiddlewareOptions=OF;Qe.resolveRetryConfig=jne;Qe.retryMiddleware=DF;Qe.retryMiddlewareOptions=$F});function Xne(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Qne(e){return{schemeId:"smithy.api#noAuth"}}var Pc,MF,FF,LF,lT=w(()=>{u();yr();Pc=T(Vt()),MF=async(e,t,r)=>({operation:(0,Pc.getSmithyContext)(t).operation,region:await(0,Pc.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});FF=e=>{let t=[];return e.operation==="CreateToken"?t.push(Qne(e)):t.push(Xne(e)),t},LF=e=>{let t=as(e);return Object.assign(t,{authSchemePreference:(0,Pc.normalizeProvider)(e.authSchemePreference??[])})}});var UF,HF,dT=w(()=>{u();UF=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),HF={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Fi,cp=w(()=>{Fi={name:"@aws-sdk/nested-clients",version:"3.956.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.956.0","@aws-sdk/middleware-host-header":"3.956.0","@aws-sdk/middleware-logger":"3.956.0","@aws-sdk/middleware-recursion-detection":"3.956.0","@aws-sdk/middleware-user-agent":"3.956.0","@aws-sdk/region-config-resolver":"3.956.0","@aws-sdk/types":"3.956.0","@aws-sdk/util-endpoints":"3.956.0","@aws-sdk/util-user-agent-browser":"3.956.0","@aws-sdk/util-user-agent-node":"3.956.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var up=I(wo=>{"use strict";u();var qF=q("os"),fT=q("process"),Zne=Tc(),BF={isCrtAvailable:!1},ese=()=>BF.isCrtAvailable?["md/crt-avail"]:null,jF=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${qF.platform()}`,qF.release()],["lang/js"],["md/nodejs",`${fT.versions.node}`]],s=ese();s&&n.push(s),e&&n.push([`api/${e}`,t]),fT.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${fT.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},tse=jF,VF="AWS_SDK_UA_APP_ID",zF="sdk_ua_app_id",rse="sdk-ua-app-id",nse={environmentVariableSelector:e=>e[VF],configFileSelector:e=>e[zF]??e[rse],default:Zne.DEFAULT_UA_APP_ID};wo.NODE_APP_ID_CONFIG_OPTIONS=nse;wo.UA_APP_ID_ENV_NAME=VF;wo.UA_APP_ID_INI_NAME=zF;wo.createDefaultUserAgentProvider=jF;wo.crtAvailability=BF;wo.defaultUserAgent=tse});var lp=I(KF=>{"use strict";u();var pT=gi(),sse=dt(),ose=q("buffer"),GF=q("crypto"),mT=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(sse.toUint8Array(WF(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?GF.createHmac(this.algorithmIdentifier,WF(this.secret)):GF.createHash(this.algorithmIdentifier)}};function WF(e,t){return ose.Buffer.isBuffer(e)?e:typeof e=="string"?pT.fromString(e,t):ArrayBuffer.isView(e)?pT.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):pT.fromArrayBuffer(e)}KF.Hash=mT});var dp=I(YF=>{"use strict";u();var hT=q("node:fs"),ise=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof hT.ReadStream){if(e.path!=null)return hT.lstatSync(e.path).size;if(typeof e.fd=="number")return hT.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};YF.calculateBodyLength=ise});var oL=I(ht=>{"use strict";u();var Ur=dc(),ase=q("url"),cse=q("buffer"),use=q("http"),wT=gs(),lse=oo();function Nc(e){return new Promise((t,r)=>{let n=use.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Ur.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Ur.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(r(Object.assign(new Ur.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let i=[];s.on("data",a=>{i.push(a)}),s.on("end",()=>{t(cse.Buffer.concat(i)),n.destroy()})}),n.end()})}var ZF=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",eL=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),tL=1e3,rL=0,RT=({maxRetries:e=rL,timeout:t=tL})=>({maxRetries:e,timeout:t}),yT=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},fp="AWS_CONTAINER_CREDENTIALS_FULL_URI",pp="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",ST="AWS_CONTAINER_AUTHORIZATION_TOKEN",dse=(e={})=>{let{timeout:t,maxRetries:r}=RT(e);return()=>yT(async()=>{let n=await gse({logger:e.logger}),s=JSON.parse(await fse(t,n));if(!ZF(s))throw new Ur.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return eL(s)},r)},fse=async(e,t)=>(process.env[ST]&&(t.headers={...t.headers,Authorization:process.env[ST]}),(await Nc({...t,timeout:e})).toString()),pse="169.254.170.2",mse={localhost:!0,"127.0.0.1":!0},hse={"http:":!0,"https:":!0},gse=async({logger:e})=>{if(process.env[pp])return{hostname:pse,path:process.env[pp]};if(process.env[fp]){let t=ase.parse(process.env[fp]);if(!t.hostname||!(t.hostname in mse))throw new Ur.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in hse))throw new Ur.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Ur.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${pp} or ${fp} environment variable is set`,{tryNextLink:!1,logger:e})},ET=class e extends Ur.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};ht.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(ht.Endpoint||(ht.Endpoint={}));var yse="AWS_EC2_METADATA_SERVICE_ENDPOINT",Sse="ec2_metadata_service_endpoint",Ese={environmentVariableSelector:e=>e[yse],configFileSelector:e=>e[Sse],default:void 0},Li;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Li||(Li={}));var wse="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Rse="ec2_metadata_service_endpoint_mode",_se={environmentVariableSelector:e=>e[wse],configFileSelector:e=>e[Rse],default:Li.IPv4},nL=async()=>lse.parseUrl(await bse()||await Tse()),bse=async()=>wT.loadConfig(Ese)(),Tse=async()=>{let e=await wT.loadConfig(_se)();switch(e){case Li.IPv4:return ht.Endpoint.IPv4;case Li.IPv6:return ht.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Li)}`)}},Cse=300,Ase=300,xse="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",XF=(e,t)=>{let r=Cse+Math.floor(Math.random()*Ase),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+xse);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},Ise=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=XF(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=XF(n,r);else throw o}return n=s,s}},sL="/latest/meta-data/iam/security-credentials/",vse="/latest/api/token",gT="AWS_EC2_METADATA_V1_DISABLED",QF="ec2_metadata_v1_disabled",JF="x-aws-ec2-metadata-token",Pse=(e={})=>Ise(Nse(e),{logger:e.logger}),Nse=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:o}=RT(e),i=async(a,c)=>{if(t||c.headers?.[JF]==null){let d=!1,m=!1,p=await wT.loadConfig({environmentVariableSelector:S=>{let R=S[gT];if(m=!!R&&R!=="false",R===void 0)throw new Ur.CredentialsProviderError(`${gT} not set in env, checking config file next.`,{logger:e.logger});return m},configFileSelector:S=>{let R=S[QF];return d=!!R&&R!=="false",d},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||p){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),d&&S.push(`config file profile (${QF})`),m&&S.push(`process environment variable (${gT})`),new ET(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let f=(await yT(async()=>{let d;try{d=await Dse(c)}catch(m){throw m.statusCode===401&&(t=!1),m}return d},a)).trim();return yT(async()=>{let d;try{d=await $se(f,c,e)}catch(m){throw m.statusCode===401&&(t=!1),m}return d},a)};return async()=>{let a=await nL();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:s});{let c;try{c=(await Ose({...a,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:s})}return i(o,{...a,headers:{[JF]:c},timeout:s})}}},Ose=async e=>Nc({...e,path:vse,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),Dse=async e=>(await Nc({...e,path:sL})).toString(),$se=async(e,t,r)=>{let n=JSON.parse((await Nc({...t,path:sL+e})).toString());if(!ZF(n))throw new Ur.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return eL(n)};ht.DEFAULT_MAX_RETRIES=rL;ht.DEFAULT_TIMEOUT=tL;ht.ENV_CMDS_AUTH_TOKEN=ST;ht.ENV_CMDS_FULL_URI=fp;ht.ENV_CMDS_RELATIVE_URI=pp;ht.fromContainerMetadata=dse;ht.fromInstanceMetadata=Pse;ht.getInstanceMetadataEndpoint=nL;ht.httpRequest=Nc;ht.providerConfigFromInit=RT});var mp=I(uL=>{"use strict";u();var kse=Lr(),iL=gs(),Mse=dc(),Fse="AWS_EXECUTION_ENV",aL="AWS_REGION",cL="AWS_DEFAULT_REGION",Lse="AWS_EC2_METADATA_DISABLED",Use=["in-region","cross-region","mobile","standard","legacy"],Hse="/latest/meta-data/placement/region",qse="AWS_DEFAULTS_MODE",Bse="defaults_mode",jse={environmentVariableSelector:e=>e[qse],configFileSelector:e=>e[Bse],default:"legacy"},Vse=({region:e=iL.loadConfig(kse.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=iL.loadConfig(jse)}={})=>Mse.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return zse(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Use.join(", ")}, got ${r}`)}}),zse=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Gse();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},Gse=async()=>{if(process.env[Fse]&&(process.env[aL]||process.env[cL]))return process.env[aL]??process.env[cL];if(!process.env[Lse])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>T(oL())),r=await e();return(await t({...r,path:Hse})).toString()}catch{}};uL.resolveDefaultsModeConfig=Vse});var EL,ir,lL,Oc,Ui,Hi,wn,_T,bT,dL,fL,pL,wL,RL,or,mL,_L,hL,gL,yL,SL,Wse,bL,TL=w(()=>{u();EL="required",ir="argv",lL="isSet",Oc="booleanEquals",Ui="error",Hi="endpoint",wn="tree",_T="PartitionResult",bT="getAttr",dL={[EL]:!1,type:"string"},fL={[EL]:!0,default:!1,type:"boolean"},pL={ref:"Endpoint"},wL={fn:Oc,[ir]:[{ref:"UseFIPS"},!0]},RL={fn:Oc,[ir]:[{ref:"UseDualStack"},!0]},or={},mL={fn:bT,[ir]:[{ref:_T},"supportsFIPS"]},_L={ref:_T},hL={fn:Oc,[ir]:[!0,{fn:bT,[ir]:[_L,"supportsDualStack"]}]},gL=[wL],yL=[RL],SL=[{ref:"Region"}],Wse={version:"1.0",parameters:{Region:dL,UseDualStack:fL,UseFIPS:fL,Endpoint:dL},rules:[{conditions:[{fn:lL,[ir]:[pL]}],rules:[{conditions:gL,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ui},{conditions:yL,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ui},{endpoint:{url:pL,properties:or,headers:or},type:Hi}],type:wn},{conditions:[{fn:lL,[ir]:SL}],rules:[{conditions:[{fn:"aws.partition",[ir]:SL,assign:_T}],rules:[{conditions:[wL,RL],rules:[{conditions:[{fn:Oc,[ir]:[!0,mL]},hL],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:or,headers:or},type:Hi}],type:wn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ui}],type:wn},{conditions:gL,rules:[{conditions:[{fn:Oc,[ir]:[mL,!0]}],rules:[{conditions:[{fn:"stringEquals",[ir]:[{fn:bT,[ir]:[_L,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:or,headers:or},type:Hi},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:or,headers:or},type:Hi}],type:wn},{error:"FIPS is enabled but this partition does not support FIPS",type:Ui}],type:wn},{conditions:yL,rules:[{conditions:[hL],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:or,headers:or},type:Hi}],type:wn},{error:"DualStack is enabled but this partition does not support DualStack",type:Ui}],type:wn},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:or,headers:or},type:Hi}],type:wn}],type:wn},{error:"Invalid Configuration: Missing Region",type:Ui}]},bL=Wse});var CL,qi,Kse,AL,xL=w(()=>{u();CL=T(cc()),qi=T(Ti());TL();Kse=new qi.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),AL=(e,t={})=>Kse.get(e,()=>(0,qi.resolveEndpoint)(bL,{endpointParams:e,logger:t.logger}));qi.customEndpointFunctions.aws=CL.awsEndpointFunctions});var IL,vL,hp,gp,PL,NL=w(()=>{u();yr();bc();nr();IL=T(Ee()),vL=T(oo()),hp=T(ft()),gp=T(dt());lT();xL();PL=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??hp.fromBase64,base64Encoder:e?.base64Encoder??hp.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??AL,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??FF,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Pt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new hr}],logger:e?.logger??new IL.NoOpLogger,protocol:e?.protocol??ho,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??vL.parseUrl,utf8Decoder:e?.utf8Decoder??gp.fromUtf8,utf8Encoder:e?.utf8Encoder??gp.toUtf8})});var yp,Rs,OL,Sp,ws,Ep,wp,DL,$L,kL,ML,FL=w(()=>{u();cp();yr();yp=T(up()),Rs=T(Lr()),OL=T(lp()),Sp=T(Eo()),ws=T(gs()),Ep=T(Xa()),wp=T(Ee()),DL=T(dp()),$L=T(mp()),kL=T(vc());NL();ML=e=>{(0,wp.emitWarningIfUnsupportedVersion)(process.version);let t=(0,$L.resolveDefaultsModeConfig)(e),r=()=>t().then(wp.loadConfigsForDefaultMode),n=PL(e);io(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ws.loadConfig)(co,s),bodyLengthChecker:e?.bodyLengthChecker??DL.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,yp.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Fi.version}),maxAttempts:e?.maxAttempts??(0,ws.loadConfig)(Sp.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ws.loadConfig)(Rs.NODE_REGION_CONFIG_OPTIONS,{...Rs.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Ep.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ws.loadConfig)({...Sp.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||kL.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??OL.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Ep.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ws.loadConfig)(Rs.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,ws.loadConfig)(Rs.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,ws.loadConfig)(yp.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var UL=I(Bi=>{"use strict";u();Object.defineProperty(Bi,"__esModule",{value:!0});Bi.warning=void 0;Bi.stsRegionDefaultResolver=Xse;var LL=Lr(),Yse=gs();function Xse(e={}){return(0,Yse.loadConfig)({...LL.NODE_REGION_CONFIG_OPTIONS,async default(){return Bi.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...LL.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}Bi.warning={silence:!1}});var $c=I(Hr=>{"use strict";u();var HL=UL(),Dc=Lr(),Qse=e=>({setRegion(t){e.region=t},region(){return e.region}}),Jse=e=>({region:e.region()});Object.defineProperty(Hr,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Dc.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(Hr,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Dc.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(Hr,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Dc.REGION_ENV_NAME}});Object.defineProperty(Hr,"REGION_INI_NAME",{enumerable:!0,get:function(){return Dc.REGION_INI_NAME}});Object.defineProperty(Hr,"resolveRegionConfig",{enumerable:!0,get:function(){return Dc.resolveRegionConfig}});Hr.getAwsRegionExtensionConfiguration=Qse;Hr.resolveAwsRegionExtensionConfiguration=Jse;Object.keys(HL).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Hr,e)&&Object.defineProperty(Hr,e,{enumerable:!0,get:function(){return HL[e]}})})});var qL,BL,jL=w(()=>{u();qL=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},BL=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Rp,_p,bp,VL,zL=w(()=>{u();Rp=T($c()),_p=T(Fe()),bp=T(Ee());jL();VL=(e,t)=>{let r=Object.assign((0,Rp.getAwsRegionExtensionConfiguration)(e),(0,bp.getDefaultExtensionConfiguration)(e),(0,_p.getHttpHandlerExtensionConfiguration)(e),qL(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Rp.resolveAwsRegionExtensionConfiguration)(r),(0,bp.resolveDefaultRuntimeConfig)(r),(0,_p.resolveHttpHandlerRuntimeConfig)(r),BL(r))}});var Tp,GL,WL,Cp,KL,YL,XL,Ap,TT,kc,CT=w(()=>{u();Tp=T(Od()),GL=T($d()),WL=T(Fd()),Cp=T(Tc()),KL=T(Lr());nr();Ce();YL=T(Qf()),XL=T(ys()),Ap=T(Eo()),TT=T(Ee());lT();dT();FL();zL();kc=class extends TT.Client{config;constructor(...[t]){let r=ML(t||{});super(r),this.initConfig=r;let n=UF(r),s=(0,Cp.resolveUserAgentConfig)(n),o=(0,Ap.resolveRetryConfig)(s),i=(0,KL.resolveRegionConfig)(o),a=(0,Tp.resolveHostHeaderConfig)(i),c=(0,XL.resolveEndpointConfig)(a),l=LF(c),f=VL(l,t?.extensions||[]);this.config=f,this.middlewareStack.use(Qs(this.config)),this.middlewareStack.use((0,Cp.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ap.getRetryPlugin)(this.config)),this.middlewareStack.use((0,YL.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Tp.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,GL.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,WL.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ys(this.config,{httpAuthSchemeParametersProvider:MF,identityProviderConfigProvider:async d=>new pn({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Xs(this.config))}destroy(){super.destroy()}}});var QL,et,xp=w(()=>{u();QL=T(Ee()),et=class e extends QL.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Mc,Fc,Lc,Uc,Hc,qc,Bc,jc,Vc,zc,Gc,AT=w(()=>{u();xp();Mc=class e extends et{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Fc=class e extends et{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Lc=class e extends et{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Uc=class e extends et{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Hc=class e extends et{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qc=class e extends et{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Bc=class e extends et{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},jc=class e extends et{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Vc=class e extends et{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zc=class e extends et{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Gc=class e extends et{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var Zse,eoe,toe,roe,noe,soe,ooe,ioe,aoe,coe,uoe,loe,doe,foe,poe,moe,hoe,goe,yoe,Soe,qr,Eoe,woe,Roe,_oe,boe,Ve,Toe,Sr,Coe,Aoe,Er,xoe,JL,ZL,Ioe,voe,Poe,eU,Noe,we,Ooe,Doe,$oe,koe,tU,rU,nU,sU,oU,iU,aU,cU,uU,lU,dU,fU,pU,mU,hU,xT,IT=w(()=>{u();Ce();AT();xp();Zse="AccessDeniedException",eoe="AuthorizationPendingException",toe="AccessToken",roe="ClientSecret",noe="CreateToken",soe="CreateTokenRequest",ooe="CreateTokenResponse",ioe="CodeVerifier",aoe="ExpiredTokenException",coe="InvalidClientException",uoe="InvalidGrantException",loe="InvalidRequestException",doe="InternalServerException",foe="InvalidScopeException",poe="IdToken",moe="RefreshToken",hoe="SlowDownException",goe="UnauthorizedClientException",yoe="UnsupportedGrantTypeException",Soe="accessToken",qr="client",Eoe="clientId",woe="clientSecret",Roe="codeVerifier",_oe="code",boe="deviceCode",Ve="error",Toe="expiresIn",Sr="error_description",Coe="grantType",Aoe="http",Er="httpError",xoe="idToken",JL="reason",ZL="refreshToken",Ioe="redirectUri",voe="scope",Poe="server",eU="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",Noe="tokenType",we="com.amazonaws.ssooidc",Ooe=[0,we,toe,8,0],Doe=[0,we,roe,8,0],$oe=[0,we,ioe,8,0],koe=[0,we,poe,8,0],tU=[0,we,moe,8,0],rU=[-3,we,Zse,{[Ve]:qr,[Er]:400},[Ve,JL,Sr],[0,0,0]];Q.for(we).registerError(rU,Mc);nU=[-3,we,eoe,{[Ve]:qr,[Er]:400},[Ve,Sr],[0,0]];Q.for(we).registerError(nU,Fc);sU=[3,we,soe,0,[Eoe,woe,Coe,boe,_oe,ZL,voe,Ioe,Roe],[0,[()=>Doe,0],0,0,0,[()=>tU,0],64,0,[()=>$oe,0]]],oU=[3,we,ooe,0,[Soe,Noe,Toe,ZL,xoe],[[()=>Ooe,0],0,1,[()=>tU,0],[()=>koe,0]]],iU=[-3,we,aoe,{[Ve]:qr,[Er]:400},[Ve,Sr],[0,0]];Q.for(we).registerError(iU,Lc);aU=[-3,we,doe,{[Ve]:Poe,[Er]:500},[Ve,Sr],[0,0]];Q.for(we).registerError(aU,Uc);cU=[-3,we,coe,{[Ve]:qr,[Er]:401},[Ve,Sr],[0,0]];Q.for(we).registerError(cU,Hc);uU=[-3,we,uoe,{[Ve]:qr,[Er]:400},[Ve,Sr],[0,0]];Q.for(we).registerError(uU,qc);lU=[-3,we,loe,{[Ve]:qr,[Er]:400},[Ve,JL,Sr],[0,0,0]];Q.for(we).registerError(lU,Bc);dU=[-3,we,foe,{[Ve]:qr,[Er]:400},[Ve,Sr],[0,0]];Q.for(we).registerError(dU,jc);fU=[-3,we,hoe,{[Ve]:qr,[Er]:400},[Ve,Sr],[0,0]];Q.for(we).registerError(fU,Vc);pU=[-3,we,goe,{[Ve]:qr,[Er]:400},[Ve,Sr],[0,0]];Q.for(we).registerError(pU,zc);mU=[-3,we,yoe,{[Ve]:qr,[Er]:400},[Ve,Sr],[0,0]];Q.for(we).registerError(mU,Gc);hU=[-3,eU,"SSOOIDCServiceException",0,[],[]];Q.for(eU).registerError(hU,et);xT=[9,we,noe,{[Aoe]:["POST","/token",200]},()=>sU,()=>oU]});var gU,vT,Wc,PT=w(()=>{u();gU=T(ys()),vT=T(Ee());dT();IT();Wc=class extends vT.Command.classBuilder().ep(HF).m(function(t,r,n,s){return[(0,gU.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(xT).build(){}});var yU,Moe,Ip,SU=w(()=>{u();yU=T(Ee());PT();CT();Moe={CreateTokenCommand:Wc},Ip=class extends kc{};(0,yU.createAggregatedClient)(Moe,Ip)});var EU=w(()=>{u();PT()});var Foe,Loe,wU=w(()=>{u();Foe={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Loe={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var RU=w(()=>{u()});var NT={};ze(NT,{$Command:()=>vT.Command,AccessDeniedException:()=>Mc,AccessDeniedException$:()=>rU,AccessDeniedExceptionReason:()=>Foe,AuthorizationPendingException:()=>Fc,AuthorizationPendingException$:()=>nU,CreateToken$:()=>xT,CreateTokenCommand:()=>Wc,CreateTokenRequest$:()=>sU,CreateTokenResponse$:()=>oU,ExpiredTokenException:()=>Lc,ExpiredTokenException$:()=>iU,InternalServerException:()=>Uc,InternalServerException$:()=>aU,InvalidClientException:()=>Hc,InvalidClientException$:()=>cU,InvalidGrantException:()=>qc,InvalidGrantException$:()=>uU,InvalidRequestException:()=>Bc,InvalidRequestException$:()=>lU,InvalidRequestExceptionReason:()=>Loe,InvalidScopeException:()=>jc,InvalidScopeException$:()=>dU,SSOOIDC:()=>Ip,SSOOIDCClient:()=>kc,SSOOIDCServiceException:()=>et,SSOOIDCServiceException$:()=>hU,SlowDownException:()=>Vc,SlowDownException$:()=>fU,UnauthorizedClientException:()=>zc,UnauthorizedClientException$:()=>pU,UnsupportedGrantTypeException:()=>Gc,UnsupportedGrantTypeException$:()=>mU,__Client:()=>TT.Client});var OT=w(()=>{u();CT();SU();EU();IT();wU();AT();RU();xp()});var CU=I(Yc=>{"use strict";u();var Uoe=(vr(),te(Dn)),Hoe=(NE(),te(Yv)),Wt=Tt(),Kc=an(),qoe=q("fs"),Boe=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Wt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=Hoe.getBearerTokenEnvKey(t);if(!(r in process.env))throw new Wt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return Uoe.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},joe=300*1e3,DT="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Voe=async(e,t={},r)=>{let{SSOOIDCClient:n}=await Promise.resolve().then(()=>(OT(),NT)),s=i=>t.clientConfig?.[i]??t.parentClientConfig?.[i]??r?.[i];return new n(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:s("logger"),userAgentAppId:s("userAgentAppId")}))},zoe=async(e,t,r={},n)=>{let{CreateTokenCommand:s}=await Promise.resolve().then(()=>(OT(),NT));return(await Voe(t,r,n)).send(new s({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},_U=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Wt.TokenProviderError(`Token is expired. ${DT}`,!1)},Ro=(e,t,r=!1)=>{if(typeof t>"u")throw new Wt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${DT}`,!1)},{writeFile:Goe}=qoe.promises,Woe=(e,t)=>{let r=Kc.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return Goe(r,n)},bU=new Date(0),TU=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await Kc.parseKnownFiles(e),n=Kc.getProfileName({profile:e.profile??t?.profile}),s=r[n];if(s){if(!s.sso_session)throw new Wt.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Wt.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let o=s.sso_session,a=(await Kc.loadSsoSessionData(e))[o];if(!a)throw new Wt.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let p of["sso_start_url","sso_region"])if(!a[p])throw new Wt.TokenProviderError(`Sso session '${o}' is missing required property '${p}'.`,!1);a.sso_start_url;let c=a.sso_region,l;try{l=await Kc.getSSOTokenFromFile(o)}catch{throw new Wt.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${DT}`,!1)}Ro("accessToken",l.accessToken),Ro("expiresAt",l.expiresAt);let{accessToken:f,expiresAt:d}=l,m={token:f,expiration:new Date(d)};if(m.expiration.getTime()-Date.now()>joe)return m;if(Date.now()-bU.getTime()<30*1e3)return _U(m),m;Ro("clientId",l.clientId,!0),Ro("clientSecret",l.clientSecret,!0),Ro("refreshToken",l.refreshToken,!0);try{bU.setTime(Date.now());let p=await zoe(l,c,e,t);Ro("accessToken",p.accessToken),Ro("expiresIn",p.expiresIn);let S=new Date(Date.now()+p.expiresIn*1e3);try{await Woe(o,{...l,accessToken:p.accessToken,expiresAt:S.toISOString(),refreshToken:p.refreshToken})}catch{}return{token:p.accessToken,expiration:S}}catch{return _U(m),m}},Koe=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Wt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},Yoe=(e={})=>Wt.memoize(Wt.chain(TU(e),async()=>{throw new Wt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Yc.fromEnvSigningName=Boe;Yc.fromSso=TU;Yc.fromStatic=Koe;Yc.nodeProvider=Yoe});var kT=I(_s=>{"use strict";u();Object.defineProperty(_s,"__esModule",{value:!0});_s.resolveHttpAuthSchemeConfig=_s.defaultSSOHttpAuthSchemeProvider=_s.defaultSSOHttpAuthSchemeParametersProvider=void 0;var Xoe=(Gn(),te(zn)),$T=Qt(),Qoe=async(e,t,r)=>({operation:(0,$T.getSmithyContext)(t).operation,region:await(0,$T.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});_s.defaultSSOHttpAuthSchemeParametersProvider=Qoe;function Joe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function vp(e){return{schemeId:"smithy.api#noAuth"}}var Zoe=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(vp(e));break}case"ListAccountRoles":{t.push(vp(e));break}case"ListAccounts":{t.push(vp(e));break}case"Logout":{t.push(vp(e));break}default:t.push(Joe(e))}return t};_s.defaultSSOHttpAuthSchemeProvider=Zoe;var eie=e=>{let t=(0,Xoe.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,$T.normalizeProvider)(e.authSchemePreference??[])})};_s.resolveHttpAuthSchemeConfig=eie});var AU=I((HHe,tie)=>{tie.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.956.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.956.0","@aws-sdk/middleware-host-header":"3.956.0","@aws-sdk/middleware-logger":"3.956.0","@aws-sdk/middleware-recursion-detection":"3.956.0","@aws-sdk/middleware-user-agent":"3.956.0","@aws-sdk/region-config-resolver":"3.956.0","@aws-sdk/types":"3.956.0","@aws-sdk/util-endpoints":"3.956.0","@aws-sdk/util-user-agent-browser":"3.956.0","@aws-sdk/util-user-agent-node":"3.956.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var FT=I(_o=>{"use strict";u();var xU=q("os"),MT=q("process"),rie=dd(),IU={isCrtAvailable:!1},nie=()=>IU.isCrtAvailable?["md/crt-avail"]:null,vU=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${xU.platform()}`,xU.release()],["lang/js"],["md/nodejs",`${MT.versions.node}`]],s=nie();s&&n.push(s),e&&n.push([`api/${e}`,t]),MT.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${MT.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},sie=vU,PU="AWS_SDK_UA_APP_ID",NU="sdk_ua_app_id",oie="sdk-ua-app-id",iie={environmentVariableSelector:e=>e[PU],configFileSelector:e=>e[NU]??e[oie],default:rie.DEFAULT_UA_APP_ID};_o.NODE_APP_ID_CONFIG_OPTIONS=iie;_o.UA_APP_ID_ENV_NAME=PU;_o.UA_APP_ID_INI_NAME=NU;_o.createDefaultUserAgentProvider=vU;_o.crtAvailability=IU;_o.defaultUserAgent=sie});var HT=I($U=>{"use strict";u();var LT=Lo(),aie=Et(),cie=q("buffer"),OU=q("crypto"),UT=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(aie.toUint8Array(DU(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?OU.createHmac(this.algorithmIdentifier,DU(this.secret)):OU.createHash(this.algorithmIdentifier)}};function DU(e,t){return cie.Buffer.isBuffer(e)?e:typeof e=="string"?LT.fromString(e,t):ArrayBuffer.isView(e)?LT.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):LT.fromArrayBuffer(e)}$U.Hash=UT});var BT=I(kU=>{"use strict";u();var qT=q("node:fs"),uie=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof qT.ReadStream){if(e.path!=null)return qT.lstatSync(e.path).size;if(typeof e.fd=="number")return qT.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};kU.calculateBodyLength=uie});var jT=I(UU=>{"use strict";u();var lie=Kn(),MU=Ks(),die=Tt(),fie="AWS_EXECUTION_ENV",FU="AWS_REGION",LU="AWS_DEFAULT_REGION",pie="AWS_EC2_METADATA_DISABLED",mie=["in-region","cross-region","mobile","standard","legacy"],hie="/latest/meta-data/placement/region",gie="AWS_DEFAULTS_MODE",yie="defaults_mode",Sie={environmentVariableSelector:e=>e[gie],configFileSelector:e=>e[yie],default:"legacy"},Eie=({region:e=MU.loadConfig(lie.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=MU.loadConfig(Sie)}={})=>die.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return wie(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${mie.join(", ")}, got ${r}`)}}),wie=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Rie();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},Rie=async()=>{if(process.env[fie]&&(process.env[FU]||process.env[LU]))return process.env[FU]??process.env[LU];if(!process.env[pie])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>T(za())),r=await e();return(await t({...r,path:hie})).toString()}catch{}};UU.resolveDefaultsModeConfig=Eie});var eH=I(Pp=>{"use strict";u();Object.defineProperty(Pp,"__esModule",{value:!0});Pp.ruleSet=void 0;var XU="required",cr="fn",ur="argv",zi="ref",HU=!0,qU="isSet",Xc="booleanEquals",ji="error",Vi="endpoint",Rn="tree",VT="PartitionResult",zT="getAttr",BU={[XU]:!1,type:"string"},jU={[XU]:!0,default:!1,type:"boolean"},VU={[zi]:"Endpoint"},QU={[cr]:Xc,[ur]:[{[zi]:"UseFIPS"},!0]},JU={[cr]:Xc,[ur]:[{[zi]:"UseDualStack"},!0]},ar={},zU={[cr]:zT,[ur]:[{[zi]:VT},"supportsFIPS"]},ZU={[zi]:VT},GU={[cr]:Xc,[ur]:[!0,{[cr]:zT,[ur]:[ZU,"supportsDualStack"]}]},WU=[QU],KU=[JU],YU=[{[zi]:"Region"}],_ie={version:"1.0",parameters:{Region:BU,UseDualStack:jU,UseFIPS:jU,Endpoint:BU},rules:[{conditions:[{[cr]:qU,[ur]:[VU]}],rules:[{conditions:WU,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ji},{conditions:KU,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ji},{endpoint:{url:VU,properties:ar,headers:ar},type:Vi}],type:Rn},{conditions:[{[cr]:qU,[ur]:YU}],rules:[{conditions:[{[cr]:"aws.partition",[ur]:YU,assign:VT}],rules:[{conditions:[QU,JU],rules:[{conditions:[{[cr]:Xc,[ur]:[HU,zU]},GU],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ar,headers:ar},type:Vi}],type:Rn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ji}],type:Rn},{conditions:WU,rules:[{conditions:[{[cr]:Xc,[ur]:[zU,HU]}],rules:[{conditions:[{[cr]:"stringEquals",[ur]:[{[cr]:zT,[ur]:[ZU,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:ar,headers:ar},type:Vi},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ar,headers:ar},type:Vi}],type:Rn},{error:"FIPS is enabled but this partition does not support FIPS",type:ji}],type:Rn},{conditions:KU,rules:[{conditions:[GU],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ar,headers:ar},type:Vi}],type:Rn},{error:"DualStack is enabled but this partition does not support DualStack",type:ji}],type:Rn},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:ar,headers:ar},type:Vi}],type:Rn}],type:Rn},{error:"Invalid Configuration: Missing Region",type:ji}]};Pp.ruleSet=_ie});var tH=I(Np=>{"use strict";u();Object.defineProperty(Np,"__esModule",{value:!0});Np.defaultEndpointResolver=void 0;var bie=Al(),GT=va(),Tie=eH(),Cie=new GT.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Aie=(e,t={})=>Cie.get(e,()=>(0,GT.resolveEndpoint)(Tie.ruleSet,{endpointParams:e,logger:t.logger}));Np.defaultEndpointResolver=Aie;GT.customEndpointFunctions.aws=bie.awsEndpointFunctions});var sH=I(Op=>{"use strict";u();Object.defineProperty(Op,"__esModule",{value:!0});Op.getRuntimeConfig=void 0;var xie=(Gn(),te(zn)),Iie=(ud(),te(Ew)),vie=(Nn(),te(Wo)),Pie=ct(),Nie=Ko(),rH=wt(),nH=Et(),Oie=kT(),Die=tH(),$ie=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??rH.fromBase64,base64Encoder:e?.base64Encoder??rH.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Die.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Oie.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new xie.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new vie.NoAuthSigner}],logger:e?.logger??new Pie.NoOpLogger,protocol:e?.protocol??Iie.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Nie.parseUrl,utf8Decoder:e?.utf8Decoder??nH.fromUtf8,utf8Encoder:e?.utf8Encoder??nH.toUtf8});Op.getRuntimeConfig=$ie});var lH=I($p=>{"use strict";u();Object.defineProperty($p,"__esModule",{value:!0});$p.getRuntimeConfig=void 0;var kie=(Ta(),te(ba)),Mie=kie.__importDefault(AU()),oH=(Gn(),te(zn)),iH=FT(),Dp=Kn(),Fie=HT(),aH=ja(),bo=Ks(),cH=ma(),uH=ct(),Lie=BT(),Uie=jT(),Hie=_d(),qie=sH(),Bie=e=>{(0,uH.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Uie.resolveDefaultsModeConfig)(e),r=()=>t().then(uH.loadConfigsForDefaultMode),n=(0,qie.getRuntimeConfig)(e);(0,oH.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,bo.loadConfig)(oH.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??Lie.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,iH.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Mie.default.version}),maxAttempts:e?.maxAttempts??(0,bo.loadConfig)(aH.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,bo.loadConfig)(Dp.NODE_REGION_CONFIG_OPTIONS,{...Dp.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:cH.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,bo.loadConfig)({...aH.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Hie.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Fie.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??cH.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,bo.loadConfig)(Dp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,bo.loadConfig)(Dp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,bo.loadConfig)(iH.NODE_APP_ID_CONFIG_OPTIONS,s)}};$p.getRuntimeConfig=Bie});var fH=I(Gi=>{"use strict";u();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.warning=void 0;Gi.stsRegionDefaultResolver=Vie;var dH=Kn(),jie=Ks();function Vie(e={}){return(0,jie.loadConfig)({...dH.NODE_REGION_CONFIG_OPTIONS,async default(){return Gi.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...dH.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}Gi.warning={silence:!1}});var WT=I(Br=>{"use strict";u();var pH=fH(),Qc=Kn(),zie=e=>({setRegion(t){e.region=t},region(){return e.region}}),Gie=e=>({region:e.region()});Object.defineProperty(Br,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Qc.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(Br,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Qc.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(Br,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Qc.REGION_ENV_NAME}});Object.defineProperty(Br,"REGION_INI_NAME",{enumerable:!0,get:function(){return Qc.REGION_INI_NAME}});Object.defineProperty(Br,"resolveRegionConfig",{enumerable:!0,get:function(){return Qc.resolveRegionConfig}});Br.getAwsRegionExtensionConfiguration=zie;Br.resolveAwsRegionExtensionConfiguration=Gie;Object.keys(pH).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Br,e)&&Object.defineProperty(Br,e,{enumerable:!0,get:function(){return pH[e]}})})});var zH=I(ue=>{"use strict";u();var mH=Sy(),Wie=Ey(),Kie=Iy(),hH=dd(),Yie=Kn(),Jc=(Nn(),te(Wo)),Ki=($e(),te(ll)),Xie=_w(),tu=vw(),gH=ja(),wr=ct(),yH=kT(),Qie=lH(),SH=WT(),EH=ke(),Jie=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Bp={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Zie=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},eae=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),tae=(e,t)=>{let r=Object.assign(SH.getAwsRegionExtensionConfiguration(e),wr.getDefaultExtensionConfiguration(e),EH.getHttpHandlerExtensionConfiguration(e),Zie(e));return t.forEach(n=>n.configure(r)),Object.assign(e,SH.resolveAwsRegionExtensionConfiguration(r),wr.resolveDefaultRuntimeConfig(r),EH.resolveHttpHandlerRuntimeConfig(r),eae(r))},Wi=class extends wr.Client{config;constructor(...[t]){let r=Qie.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=Jie(r),s=hH.resolveUserAgentConfig(n),o=gH.resolveRetryConfig(s),i=Yie.resolveRegionConfig(o),a=mH.resolveHostHeaderConfig(i),c=tu.resolveEndpointConfig(a),l=yH.resolveHttpAuthSchemeConfig(c),f=tae(l,t?.extensions||[]);this.config=f,this.middlewareStack.use(Ki.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(hH.getUserAgentPlugin(this.config)),this.middlewareStack.use(gH.getRetryPlugin(this.config)),this.middlewareStack.use(Xie.getContentLengthPlugin(this.config)),this.middlewareStack.use(mH.getHostHeaderPlugin(this.config)),this.middlewareStack.use(Wie.getLoggerPlugin(this.config)),this.middlewareStack.use(Kie.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Jc.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:yH.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async d=>new Jc.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Jc.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},bs=class e extends wr.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},kp=class e extends bs{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Mp=class e extends bs{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fp=class e extends bs{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Lp=class e extends bs{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rae="AccountInfo",nae="AccountListType",sae="AccessTokenType",oae="GetRoleCredentials",iae="GetRoleCredentialsRequest",aae="GetRoleCredentialsResponse",cae="InvalidRequestException",uae="Logout",lae="ListAccounts",dae="ListAccountsRequest",fae="ListAccountRolesRequest",pae="ListAccountRolesResponse",mae="ListAccountsResponse",hae="ListAccountRoles",gae="LogoutRequest",yae="RoleCredentials",Sae="RoleInfo",Eae="RoleListType",wae="ResourceNotFoundException",Rae="SecretAccessKeyType",_ae="SessionTokenType",bae="TooManyRequestsException",Tae="UnauthorizedException",jp="accountId",Cae="accessKeyId",Aae="accountList",xae="accountName",Vp="accessToken",wH="account_id",zp="client",Gp="error",Iae="emailAddress",vae="expiration",Wp="http",Kp="httpError",Yp="httpHeader",To="httpQuery",Xp="message",RH="maxResults",_H="max_result",Qp="nextToken",bH="next_token",Pae="roleCredentials",Nae="roleList",TH="roleName",Oae="role_name",CH="smithy.ts.sdk.synthetic.com.amazonaws.sso",Dae="secretAccessKey",$ae="sessionToken",Jp="x-amz-sso_bearer_token",Ne="com.amazonaws.sso",Zp=[0,Ne,sae,8,0],kae=[0,Ne,Rae,8,0],Mae=[0,Ne,_ae,8,0],AH=[3,Ne,rae,0,[jp,xae,Iae],[0,0,0]],xH=[3,Ne,iae,0,[TH,jp,Vp],[[0,{[To]:Oae}],[0,{[To]:wH}],[()=>Zp,{[Yp]:Jp}]]],IH=[3,Ne,aae,0,[Pae],[[()=>MH,0]]],vH=[-3,Ne,cae,{[Gp]:zp,[Kp]:400},[Xp],[0]];Ki.TypeRegistry.for(Ne).registerError(vH,kp);var PH=[3,Ne,fae,0,[Qp,RH,Vp,jp],[[0,{[To]:bH}],[1,{[To]:_H}],[()=>Zp,{[Yp]:Jp}],[0,{[To]:wH}]]],NH=[3,Ne,pae,0,[Qp,Nae],[0,()=>Uae]],OH=[3,Ne,dae,0,[Qp,RH,Vp],[[0,{[To]:bH}],[1,{[To]:_H}],[()=>Zp,{[Yp]:Jp}]]],DH=[3,Ne,mae,0,[Qp,Aae],[0,()=>Lae]],$H=[3,Ne,gae,0,[Vp],[[()=>Zp,{[Yp]:Jp}]]],kH=[-3,Ne,wae,{[Gp]:zp,[Kp]:404},[Xp],[0]];Ki.TypeRegistry.for(Ne).registerError(kH,Mp);var MH=[3,Ne,yae,0,[Cae,Dae,$ae,vae],[0,[()=>kae,0],[()=>Mae,0],1]],FH=[3,Ne,Sae,0,[TH,jp],[0,0]],LH=[-3,Ne,bae,{[Gp]:zp,[Kp]:429},[Xp],[0]];Ki.TypeRegistry.for(Ne).registerError(LH,Fp);var UH=[-3,Ne,Tae,{[Gp]:zp,[Kp]:401},[Xp],[0]];Ki.TypeRegistry.for(Ne).registerError(UH,Lp);var Fae="unit",HH=[-3,CH,"SSOServiceException",0,[],[]];Ki.TypeRegistry.for(CH).registerError(HH,bs);var Lae=[1,Ne,nae,0,()=>AH],Uae=[1,Ne,Eae,0,()=>FH],qH=[9,Ne,oae,{[Wp]:["GET","/federation/credentials",200]},()=>xH,()=>IH],BH=[9,Ne,hae,{[Wp]:["GET","/assignment/roles",200]},()=>PH,()=>NH],jH=[9,Ne,lae,{[Wp]:["GET","/assignment/accounts",200]},()=>OH,()=>DH],VH=[9,Ne,uae,{[Wp]:["POST","/logout",200]},()=>$H,()=>Fae],Up=class extends wr.Command.classBuilder().ep(Bp).m(function(t,r,n,s){return[tu.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(qH).build(){},Zc=class extends wr.Command.classBuilder().ep(Bp).m(function(t,r,n,s){return[tu.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(BH).build(){},eu=class extends wr.Command.classBuilder().ep(Bp).m(function(t,r,n,s){return[tu.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(jH).build(){},Hp=class extends wr.Command.classBuilder().ep(Bp).m(function(t,r,n,s){return[tu.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(VH).build(){},Hae={GetRoleCredentialsCommand:Up,ListAccountRolesCommand:Zc,ListAccountsCommand:eu,LogoutCommand:Hp},qp=class extends Wi{};wr.createAggregatedClient(Hae,qp);var qae=Jc.createPaginator(Wi,Zc,"nextToken","nextToken","maxResults"),Bae=Jc.createPaginator(Wi,eu,"nextToken","nextToken","maxResults");Object.defineProperty(ue,"$Command",{enumerable:!0,get:function(){return wr.Command}});Object.defineProperty(ue,"__Client",{enumerable:!0,get:function(){return wr.Client}});ue.AccountInfo$=AH;ue.GetRoleCredentials$=qH;ue.GetRoleCredentialsCommand=Up;ue.GetRoleCredentialsRequest$=xH;ue.GetRoleCredentialsResponse$=IH;ue.InvalidRequestException=kp;ue.InvalidRequestException$=vH;ue.ListAccountRoles$=BH;ue.ListAccountRolesCommand=Zc;ue.ListAccountRolesRequest$=PH;ue.ListAccountRolesResponse$=NH;ue.ListAccounts$=jH;ue.ListAccountsCommand=eu;ue.ListAccountsRequest$=OH;ue.ListAccountsResponse$=DH;ue.Logout$=VH;ue.LogoutCommand=Hp;ue.LogoutRequest$=$H;ue.ResourceNotFoundException=Mp;ue.ResourceNotFoundException$=kH;ue.RoleCredentials$=MH;ue.RoleInfo$=FH;ue.SSO=qp;ue.SSOClient=Wi;ue.SSOServiceException=bs;ue.SSOServiceException$=HH;ue.TooManyRequestsException=Fp;ue.TooManyRequestsException$=LH;ue.UnauthorizedException=Lp;ue.UnauthorizedException$=UH;ue.paginateListAccountRoles=qae;ue.paginateListAccounts=Bae});var WH=I(KT=>{"use strict";u();var GH=zH();Object.defineProperty(KT,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return GH.GetRoleCredentialsCommand}});Object.defineProperty(KT,"SSOClient",{enumerable:!0,get:function(){return GH.SSOClient}})});var YT=I(tm=>{"use strict";u();var Rr=Tt(),em=an(),KH=(vr(),te(Dn)),jae=CU(),XH=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ru=!1,YH=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:a,callerClientConfig:c,profile:l,filepath:f,configFilepath:d,ignoreCache:m,logger:p})=>{let S,R="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let ot=await jae.fromSso({profile:l,filepath:f,configFilepath:d,ignoreCache:m})();S={accessToken:ot.token,expiresAt:new Date(ot.expiration).toISOString()}}catch(ot){throw new Rr.CredentialsProviderError(ot.message,{tryNextLink:ru,logger:p})}else try{S=await em.getSSOTokenFromFile(e)}catch{throw new Rr.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${R}`,{tryNextLink:ru,logger:p})}if(new Date(S.expiresAt).getTime()-Date.now()<=0)throw new Rr.CredentialsProviderError(`The SSO session associated with this profile has expired. ${R}`,{tryNextLink:ru,logger:p});let{accessToken:_}=S,{SSOClient:C,GetRoleCredentialsCommand:x}=await Promise.resolve().then(function(){return WH()}),D=o||new C(Object.assign({},i??{},{logger:i?.logger??c?.logger??a?.logger,region:i?.region??n,userAgentAppId:i?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),k;try{k=await D.send(new x({accountId:r,roleName:s,accessToken:_}))}catch(ot){throw new Rr.CredentialsProviderError(ot,{tryNextLink:ru,logger:p})}let{roleCredentials:{accessKeyId:M,secretAccessKey:j,sessionToken:ye,expiration:U,credentialScope:G,accountId:X}={}}=k;if(!M||!j||!ye||!U)throw new Rr.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ru,logger:p});let _e={accessKeyId:M,secretAccessKey:j,sessionToken:ye,expiration:new Date(U),...G&&{credentialScope:G},...X&&{accountId:X}};return t?KH.setCredentialFeature(_e,"CREDENTIALS_SSO","s"):KH.setCredentialFeature(_e,"CREDENTIALS_SSO_LEGACY","u"),_e},QH=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!r||!n||!s||!o)throw new Rr.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},Vae=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e,{ssoClient:a}=e,c=em.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!o&&!i){let f=(await em.parseKnownFiles(e))[c];if(!f)throw new Rr.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!XH(f))throw new Rr.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(f?.sso_session){let C=(await em.loadSsoSessionData(e))[f.sso_session],x=` configurations in profile ${c} and sso-session ${f.sso_session}`;if(s&&s!==C.sso_region)throw new Rr.CredentialsProviderError("Conflicting SSO region"+x,{tryNextLink:!1,logger:e.logger});if(r&&r!==C.sso_start_url)throw new Rr.CredentialsProviderError("Conflicting SSO start_url"+x,{tryNextLink:!1,logger:e.logger});f.sso_region=C.sso_region,f.sso_start_url=C.sso_start_url}let{sso_start_url:d,sso_account_id:m,sso_region:p,sso_role_name:S,sso_session:R}=QH(f,e.logger);return YH({ssoStartUrl:d,ssoSession:R,ssoAccountId:m,ssoRegion:p,ssoRoleName:S,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!o)throw new Rr.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return YH({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};tm.fromSSO=Vae;tm.isSsoProfile=XH;tm.validateSsoProfile=QH});var XT,zae,JH=w(()=>{u();XT={warningEmitted:!1},zae=e=>{e&&!XT.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(XT.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function Gae(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var ZH=w(()=>{u()});function Wae(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var eq=w(()=>{u()});function Kae(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var tq=w(()=>{u()});var rq={};ze(rq,{emitWarningIfUnsupportedVersion:()=>zae,setCredentialFeature:()=>Gae,setFeature:()=>Wae,setTokenFeature:()=>Kae,state:()=>XT});var nq=w(()=>{u();JH();ZH();eq();tq()});var sq=I(Co=>{"use strict";u();var Yi=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},QT=class e extends Yi{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},JT=class e extends Yi{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Yae=(...e)=>async()=>{if(e.length===0)throw new Yi("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},Xae=e=>()=>Promise.resolve(e),Qae=(e,t,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return t===void 0?async c=>((!o||c?.forceRefresh)&&(n=await a()),n):async c=>((!o||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};Co.CredentialsProviderError=QT;Co.ProviderError=Yi;Co.TokenProviderError=JT;Co.chain=Yae;Co.fromStatic=Xae;Co.memoize=Qae});var eC=I(rm=>{"use strict";u();Object.defineProperty(rm,"__esModule",{value:!0});rm.getHomeDir=void 0;var Jae=q("os"),Zae=q("path"),ZT={},ece=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",tce=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Zae.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=ece();return ZT[s]||(ZT[s]=(0,Jae.homedir)()),ZT[s]};rm.getHomeDir=tce});var tC=I(nm=>{"use strict";u();Object.defineProperty(nm,"__esModule",{value:!0});nm.getSSOTokenFilepath=void 0;var rce=q("crypto"),nce=q("path"),sce=eC(),oce=e=>{let r=(0,rce.createHash)("sha1").update(e).digest("hex");return(0,nce.join)((0,sce.getHomeDir)(),".aws","sso","cache",`${r}.json`)};nm.getSSOTokenFilepath=oce});var oq=I(Ts=>{"use strict";u();Object.defineProperty(Ts,"__esModule",{value:!0});Ts.getSSOTokenFromFile=Ts.tokenIntercept=void 0;var ice=q("fs/promises"),ace=tC();Ts.tokenIntercept={};var cce=async e=>{if(Ts.tokenIntercept[e])return Ts.tokenIntercept[e];let t=(0,ace.getSSOTokenFilepath)(e),r=await(0,ice.readFile)(t,"utf8");return JSON.parse(r)};Ts.getSSOTokenFromFile=cce});var rC=I(Oe=>{"use strict";u();Oe.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Oe.HttpAuthLocation||(Oe.HttpAuthLocation={}));Oe.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Oe.HttpApiKeyAuthLocation||(Oe.HttpApiKeyAuthLocation={}));Oe.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Oe.EndpointURLScheme||(Oe.EndpointURLScheme={}));Oe.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Oe.AlgorithmId||(Oe.AlgorithmId={}));var uce=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>Oe.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>Oe.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},lce=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},dce=e=>uce(e),fce=e=>lce(e);Oe.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Oe.FieldPosition||(Oe.FieldPosition={}));var pce="__smithy_context";Oe.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Oe.IniSectionType||(Oe.IniSectionType={}));Oe.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Oe.RequestHandlerProtocol||(Oe.RequestHandlerProtocol={}));Oe.SMITHY_CONTEXT_KEY=pce;Oe.getDefaultClientConfiguration=dce;Oe.resolveDefaultRuntimeConfig=fce});var iq=I(Kt=>{"use strict";u();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.readFile=Kt.fileIntercept=Kt.filePromises=void 0;var mce=q("node:fs/promises");Kt.filePromises={};Kt.fileIntercept={};var hce=(e,t)=>Kt.fileIntercept[e]!==void 0?Kt.fileIntercept[e]:((!Kt.filePromises[e]||t?.ignoreCache)&&(Kt.filePromises[e]=(0,mce.readFile)(e,"utf8")),Kt.filePromises[e]);Kt.readFile=hce});var pq=I(Dt=>{"use strict";u();var nu=eC(),aq=tC(),nC=oq(),sm=q("path"),om=rC(),Xi=iq(),uq="AWS_PROFILE",lq="default",gce=e=>e.profile||process.env[uq]||lq,Ao=".",yce=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ao);return r===-1?!1:Object.values(om.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(Ao),o=r.substring(0,s)===om.IniSectionType.PROFILE?r.substring(s+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),Sce="AWS_CONFIG_FILE",dq=()=>process.env[Sce]||sm.join(nu.getHomeDir(),".aws","config"),Ece="AWS_SHARED_CREDENTIALS_FILE",wce=()=>process.env[Ece]||sm.join(nu.getHomeDir(),".aws","credentials"),Rce=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,_ce=["__proto__","profile __proto__"],sC=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),c=Rce.exec(a);if(c){let[,l,,f]=c;Object.values(om.IniSectionType).includes(l)&&(r=[l,f].join(Ao))}else r=a;if(_ce.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let f=n?[n,c].join(Ao):c;t[r][f]=l}}}}return t},cq=()=>({}),fq=async(e={})=>{let{filepath:t=wce(),configFilepath:r=dq()}=e,n=nu.getHomeDir(),s="~/",o=t;t.startsWith(s)&&(o=sm.join(n,t.slice(2)));let i=r;r.startsWith(s)&&(i=sm.join(n,r.slice(2)));let a=await Promise.all([Xi.readFile(i,{ignoreCache:e.ignoreCache}).then(sC).then(yce).catch(cq),Xi.readFile(o,{ignoreCache:e.ignoreCache}).then(sC).catch(cq)]);return{configFile:a[0],credentialsFile:a[1]}},bce=e=>Object.entries(e).filter(([t])=>t.startsWith(om.IniSectionType.SSO_SESSION+Ao)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Ao)+1)]:n}),{}),Tce=()=>({}),Cce=async(e={})=>Xi.readFile(e.configFilepath??dq()).then(sC).then(bce).catch(Tce),Ace=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},xce=async e=>{let t=await fq(e);return Ace(t.configFile,t.credentialsFile)},Ice={getFileRecord(){return Xi.fileIntercept},interceptFile(e,t){Xi.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return nC.tokenIntercept},interceptToken(e,t){nC.tokenIntercept[e]=t}};Object.defineProperty(Dt,"getSSOTokenFromFile",{enumerable:!0,get:function(){return nC.getSSOTokenFromFile}});Object.defineProperty(Dt,"readFile",{enumerable:!0,get:function(){return Xi.readFile}});Dt.CONFIG_PREFIX_SEPARATOR=Ao;Dt.DEFAULT_PROFILE=lq;Dt.ENV_PROFILE=uq;Dt.externalDataInterceptor=Ice;Dt.getProfileName=gce;Dt.loadSharedConfigFiles=fq;Dt.loadSsoSessionData=Cce;Dt.parseKnownFiles=xce;Object.keys(nu).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Dt,e)&&Object.defineProperty(Dt,e,{enumerable:!0,get:function(){return nu[e]}})});Object.keys(aq).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Dt,e)&&Object.defineProperty(Dt,e,{enumerable:!0,get:function(){return aq[e]}})})});var mq=I(Cs=>{"use strict";u();var vce=rC(),Pce=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),Nce=e=>({httpHandler:e.httpHandler()}),oC=class{name;kind;values;constructor({name:t,kind:r=vce.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},iC=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},aC=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=Oce(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function Oce(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var cC=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function Dce(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Cs.Field=oC;Cs.Fields=iC;Cs.HttpRequest=aC;Cs.HttpResponse=cC;Cs.getHttpHandlerExtensionConfiguration=Pce;Cs.isValidHostname=Dce;Cs.resolveHttpHandlerRuntimeConfig=Nce});function $ce(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function kce(e){return{schemeId:"smithy.api#noAuth"}}var su,hq,gq,yq,uC=w(()=>{u();yr();su=T(Vt()),hq=async(e,t,r)=>({operation:(0,su.getSmithyContext)(t).operation,region:await(0,su.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});gq=e=>{let t=[];return e.operation==="CreateOAuth2Token"?t.push(kce(e)):t.push($ce(e)),t},yq=e=>{let t=as(e);return Object.assign(t,{authSchemePreference:(0,su.normalizeProvider)(e.authSchemePreference??[])})}});var Sq,Eq,lC=w(()=>{u();Sq=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),Eq={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var xq,yt,wq,xo,Qi,As,_r,cm,dC,Rq,_q,bq,fC,pC,gt,mC,im,am,Tq,Cq,Aq,Mce,Iq,vq=w(()=>{u();xq="required",yt="argv",wq="isSet",xo="booleanEquals",Qi="error",As="endpoint",_r="tree",cm="PartitionResult",dC="stringEquals",Rq={[xq]:!0,default:!1,type:"boolean"},_q={[xq]:!1,type:"string"},bq={ref:"Endpoint"},fC={fn:xo,[yt]:[{ref:"UseFIPS"},!0]},pC={fn:xo,[yt]:[{ref:"UseDualStack"},!0]},gt={},mC={fn:"getAttr",[yt]:[{ref:cm},"name"]},im={fn:xo,[yt]:[{ref:"UseFIPS"},!1]},am={fn:xo,[yt]:[{ref:"UseDualStack"},!1]},Tq={fn:"getAttr",[yt]:[{ref:cm},"supportsFIPS"]},Cq={fn:xo,[yt]:[!0,{fn:"getAttr",[yt]:[{ref:cm},"supportsDualStack"]}]},Aq=[{ref:"Region"}],Mce={version:"1.0",parameters:{UseDualStack:Rq,UseFIPS:Rq,Endpoint:_q,Region:_q},rules:[{conditions:[{fn:wq,[yt]:[bq]}],rules:[{conditions:[fC],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Qi},{rules:[{conditions:[pC],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Qi},{endpoint:{url:bq,properties:gt,headers:gt},type:As}],type:_r}],type:_r},{rules:[{conditions:[{fn:wq,[yt]:Aq}],rules:[{conditions:[{fn:"aws.partition",[yt]:Aq,assign:cm}],rules:[{conditions:[{fn:dC,[yt]:[mC,"aws"]},im,am],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:gt,headers:gt},type:As},{conditions:[{fn:dC,[yt]:[mC,"aws-cn"]},im,am],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:gt,headers:gt},type:As},{conditions:[{fn:dC,[yt]:[mC,"aws-us-gov"]},im,am],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:gt,headers:gt},type:As},{conditions:[fC,pC],rules:[{conditions:[{fn:xo,[yt]:[!0,Tq]},Cq],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:As}],type:_r},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Qi}],type:_r},{conditions:[fC,am],rules:[{conditions:[{fn:xo,[yt]:[Tq,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:As}],type:_r},{error:"FIPS is enabled but this partition does not support FIPS",type:Qi}],type:_r},{conditions:[im,pC],rules:[{conditions:[Cq],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:As}],type:_r},{error:"DualStack is enabled but this partition does not support DualStack",type:Qi}],type:_r},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:As}],type:_r}],type:_r},{error:"Invalid Configuration: Missing Region",type:Qi}],type:_r}]},Iq=Mce});var Pq,Ji,Fce,Nq,Oq=w(()=>{u();Pq=T(cc()),Ji=T(Ti());vq();Fce=new Ji.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Nq=(e,t={})=>Fce.get(e,()=>(0,Ji.resolveEndpoint)(Iq,{endpointParams:e,logger:t.logger}));Ji.customEndpointFunctions.aws=Pq.awsEndpointFunctions});var Dq,$q,um,lm,kq,Mq=w(()=>{u();yr();bc();nr();Dq=T(Ee()),$q=T(oo()),um=T(ft()),lm=T(dt());uC();Oq();kq=e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??um.fromBase64,base64Encoder:e?.base64Encoder??um.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Nq,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??gq,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Pt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new hr}],logger:e?.logger??new Dq.NoOpLogger,protocol:e?.protocol??ho,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??$q.parseUrl,utf8Decoder:e?.utf8Decoder??lm.fromUtf8,utf8Encoder:e?.utf8Encoder??lm.toUtf8})});var dm,Is,Fq,fm,xs,pm,mm,Lq,Uq,Hq,qq,Bq=w(()=>{u();cp();yr();dm=T(up()),Is=T(Lr()),Fq=T(lp()),fm=T(Eo()),xs=T(gs()),pm=T(Xa()),mm=T(Ee()),Lq=T(dp()),Uq=T(mp()),Hq=T(vc());Mq();qq=e=>{(0,mm.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Uq.resolveDefaultsModeConfig)(e),r=()=>t().then(mm.loadConfigsForDefaultMode),n=kq(e);io(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,xs.loadConfig)(co,s),bodyLengthChecker:e?.bodyLengthChecker??Lq.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,dm.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Fi.version}),maxAttempts:e?.maxAttempts??(0,xs.loadConfig)(fm.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,xs.loadConfig)(Is.NODE_REGION_CONFIG_OPTIONS,{...Is.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:pm.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,xs.loadConfig)({...fm.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Hq.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Fq.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??pm.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,xs.loadConfig)(Is.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,xs.loadConfig)(Is.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,xs.loadConfig)(dm.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var jq,Vq,zq=w(()=>{u();jq=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Vq=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var hm,gm,ym,Gq,Wq=w(()=>{u();hm=T($c()),gm=T(Fe()),ym=T(Ee());zq();Gq=(e,t)=>{let r=Object.assign((0,hm.getAwsRegionExtensionConfiguration)(e),(0,ym.getDefaultExtensionConfiguration)(e),(0,gm.getHttpHandlerExtensionConfiguration)(e),jq(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,hm.resolveAwsRegionExtensionConfiguration)(r),(0,ym.resolveDefaultRuntimeConfig)(r),(0,gm.resolveHttpHandlerRuntimeConfig)(r),Vq(r))}});var Sm,Kq,Yq,Em,Xq,Qq,Jq,wm,hC,ou,gC=w(()=>{u();Sm=T(Od()),Kq=T($d()),Yq=T(Fd()),Em=T(Tc()),Xq=T(Lr());nr();Ce();Qq=T(Qf()),Jq=T(ys()),wm=T(Eo()),hC=T(Ee());uC();lC();Bq();Wq();ou=class extends hC.Client{config;constructor(...[t]){let r=qq(t||{});super(r),this.initConfig=r;let n=Sq(r),s=(0,Em.resolveUserAgentConfig)(n),o=(0,wm.resolveRetryConfig)(s),i=(0,Xq.resolveRegionConfig)(o),a=(0,Sm.resolveHostHeaderConfig)(i),c=(0,Jq.resolveEndpointConfig)(a),l=yq(c),f=Gq(l,t?.extensions||[]);this.config=f,this.middlewareStack.use(Qs(this.config)),this.middlewareStack.use((0,Em.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,wm.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Qq.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Sm.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Kq.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Yq.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ys(this.config,{httpAuthSchemeParametersProvider:hq,identityProviderConfigProvider:async d=>new pn({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Xs(this.config))}destroy(){super.destroy()}}});var Zq,br,Rm=w(()=>{u();Zq=T(Ee()),br=class e extends Zq.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var iu,au,cu,uu,yC=w(()=>{u();Rm();iu=class e extends br{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},au=class e extends br{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},cu=class e extends br{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},uu=class e extends br{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var Lce,Uce,Hce,qce,Bce,jce,Vce,zce,Gce,Wce,Kce,eB,tB,SC,rB,nB,Yce,vs,sB,oB,Xce,EC,iB,Yt,bm,_m,aB,Qce,cB,uB,dB,Jce,Zce,lB,$t,fB,pB,mB,hB,gB,yB,SB,EB,wB,RB,_B,wC,RC=w(()=>{u();Ce();yC();Rm();Lce="AccessDeniedException",Uce="AccessToken",Hce="CreateOAuth2Token",qce="CreateOAuth2TokenRequest",Bce="CreateOAuth2TokenRequestBody",jce="CreateOAuth2TokenResponseBody",Vce="CreateOAuth2TokenResponse",zce="InternalServerException",Gce="RefreshToken",Wce="TooManyRequestsError",Kce="ValidationException",eB="accessKeyId",tB="accessToken",SC="client",rB="clientId",nB="codeVerifier",Yce="code",vs="error",sB="expiresIn",oB="grantType",Xce="http",EC="httpError",iB="idToken",Yt="jsonName",bm="message",_m="refreshToken",aB="redirectUri",Qce="server",cB="secretAccessKey",uB="sessionToken",dB="smithy.ts.sdk.synthetic.com.amazonaws.signin",Jce="tokenInput",Zce="tokenOutput",lB="tokenType",$t="com.amazonaws.signin",fB=[0,$t,Gce,8,0],pB=[-3,$t,Lce,{[vs]:SC},[vs,bm],[0,0]];Q.for($t).registerError(pB,iu);mB=[3,$t,Uce,8,[eB,cB,uB],[[0,{[Yt]:eB}],[0,{[Yt]:cB}],[0,{[Yt]:uB}]]],hB=[3,$t,qce,0,[Jce],[[()=>gB,16]]],gB=[3,$t,Bce,0,[rB,oB,Yce,aB,nB,_m],[[0,{[Yt]:rB}],[0,{[Yt]:oB}],0,[0,{[Yt]:aB}],[0,{[Yt]:nB}],[()=>fB,{[Yt]:_m}]]],yB=[3,$t,Vce,0,[Zce],[[()=>SB,16]]],SB=[3,$t,jce,0,[tB,lB,sB,_m,iB],[[()=>mB,{[Yt]:tB}],[0,{[Yt]:lB}],[1,{[Yt]:sB}],[()=>fB,{[Yt]:_m}],[0,{[Yt]:iB}]]],EB=[-3,$t,zce,{[vs]:Qce,[EC]:500},[vs,bm],[0,0]];Q.for($t).registerError(EB,au);wB=[-3,$t,Wce,{[vs]:SC,[EC]:429},[vs,bm],[0,0]];Q.for($t).registerError(wB,cu);RB=[-3,$t,Kce,{[vs]:SC,[EC]:400},[vs,bm],[0,0]];Q.for($t).registerError(RB,uu);_B=[-3,dB,"SigninServiceException",0,[],[]];Q.for(dB).registerError(_B,br);wC=[9,$t,Hce,{[Xce]:["POST","/v1/token",200]},()=>hB,()=>yB]});var bB,_C,lu,bC=w(()=>{u();bB=T(ys()),_C=T(Ee());lC();RC();lu=class extends _C.Command.classBuilder().ep(Eq).m(function(t,r,n,s){return[(0,bB.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(wC).build(){}});var TB,eue,Tm,CB=w(()=>{u();TB=T(Ee());bC();gC();eue={CreateOAuth2TokenCommand:lu},Tm=class extends ou{};(0,TB.createAggregatedClient)(eue,Tm)});var AB=w(()=>{u();bC()});var tue,xB=w(()=>{u();tue={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var IB=w(()=>{u()});var vB={};ze(vB,{$Command:()=>_C.Command,AccessDeniedException:()=>iu,AccessDeniedException$:()=>pB,AccessToken$:()=>mB,CreateOAuth2Token$:()=>wC,CreateOAuth2TokenCommand:()=>lu,CreateOAuth2TokenRequest$:()=>hB,CreateOAuth2TokenRequestBody$:()=>gB,CreateOAuth2TokenResponse$:()=>yB,CreateOAuth2TokenResponseBody$:()=>SB,InternalServerException:()=>au,InternalServerException$:()=>EB,OAuth2ErrorCode:()=>tue,Signin:()=>Tm,SigninClient:()=>ou,SigninServiceException:()=>br,SigninServiceException$:()=>_B,TooManyRequestsError:()=>cu,TooManyRequestsError$:()=>wB,ValidationException:()=>uu,ValidationException$:()=>RB,__Client:()=>hC.Client});var PB=w(()=>{u();gC();CB();AB();RC();xB();yC();IB();Rm()});var OB=I(NB=>{"use strict";u();var rue=(nq(),te(rq)),Ps=sq(),AC=pq(),nue=mq(),Cm=q("node:crypto"),TC=q("node:fs"),sue=q("node:os"),CC=q("node:path"),xC=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=300*1e3;constructor(t,r,n){this.profileData=t,this.init=r,this.callerClientConfig=n}async loadCredentials(){let t=await this.loadToken();if(!t)throw new Ps.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(t){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(PB(),vB)),{logger:s,userAgentAppId:o}=this.callerClientConfig??{},a=(d=>d?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,l=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:s,userAgentAppId:o,...this.init?.clientConfig});this.createDPoPInterceptor(l.middlewareStack);let f={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let d=await l.send(new n(f)),{accessKeyId:m,secretAccessKey:p,sessionToken:S}=d.tokenOutput?.accessToken??{},{refreshToken:R,expiresIn:_}=d.tokenOutput??{};if(!m||!p||!S||!R)throw new Ps.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let C=(_??900)*1e3,x=new Date(Date.now()+C),D={...t,accessToken:{...t.accessToken,accessKeyId:m,secretAccessKey:p,sessionToken:S,expiresAt:x.toISOString()},refreshToken:R};await this.saveToken(D);let k=D.accessToken;return{accessKeyId:k.accessKeyId,secretAccessKey:k.secretAccessKey,sessionToken:k.sessionToken,accountId:k.accountId,expiration:x}}catch(d){if(d.name==="AccessDeniedException"){let m=d.error,p;switch(m){case"TOKEN_EXPIRED":p="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":p="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":p="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:p=`Failed to refresh token: ${String(d)}. Please re-authenticate using \`aws login\``}throw new Ps.CredentialsProviderError(p,{logger:this.logger,tryNextLink:!1})}throw new Ps.CredentialsProviderError(`Failed to refresh token: ${String(d)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let t=this.getTokenFilePath();try{let r;try{r=await AC.readFile(t,{ignoreCache:this.init?.ignoreCache})}catch{r=await TC.promises.readFile(t,"utf8")}let n=JSON.parse(r),s=["accessToken","clientId","refreshToken","dpopKey"].filter(o=>!n[o]);if(n.accessToken?.accountId||s.push("accountId"),s.length>0)throw new Ps.CredentialsProviderError(`Token validation failed, missing fields: ${s.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new Ps.CredentialsProviderError(`Failed to load token from ${t}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),n=CC.dirname(r);try{await TC.promises.mkdir(n,{recursive:!0})}catch{}await TC.promises.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??CC.join(sue.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=Cm.createHash("sha256").update(r).digest("hex");return CC.join(t,`${n}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let n=t[r++],s=t.subarray(r,r+n);if(r+=n,t[r]!==2)throw new Error("Invalid DER signature");r++;let o=t[r++],i=t.subarray(r,r+o);s=s[0]===0?s.subarray(1):s,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-s.length),s]),c=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,c])}createDPoPInterceptor(t){t.add(r=>async n=>{if(nue.HttpRequest.isInstance(n.request)){let s=n.request,o=`${s.protocol}//${s.hostname}${s.port?`:${s.port}`:""}${s.path}`,i=await this.generateDpop(s.method,o);s.headers={...s.headers,DPoP:i}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let n=await this.loadToken();try{let s=Cm.createPrivateKey({key:n.dpopKey,format:"pem",type:"sec1"}),i=Cm.createPublicKey(s).export({format:"der",type:"spki"}),a=-1;for(let x=0;x<i.length;x++)if(i[x]===4){a=x;break}let c=i.slice(a+1,a+33),l=i.slice(a+33,a+65),f={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:l.toString("base64url")}},d={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},m=Buffer.from(JSON.stringify(f)).toString("base64url"),p=Buffer.from(JSON.stringify(d)).toString("base64url"),S=`${m}.${p}`,R=Cm.sign("sha256",Buffer.from(S),s),C=this.derToRawSignature(R).toString("base64url");return`${S}.${C}`}catch(s){throw new Ps.CredentialsProviderError(`Failed to generate Dpop proof: ${s instanceof Error?s.message:String(s)}`,{logger:this.logger,tryNextLink:!1})}}},oue=e=>async({callerClientConfig:t}={})=>{e?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await AC.parseKnownFiles(e||{}),n=AC.getProfileName({profile:e?.profile??t?.profile}),s=r[n];if(!s?.login_session)throw new Ps.CredentialsProviderError(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:e?.logger});let i=await new xC(s,e,t).loadCredentials();return rue.setCredentialFeature(i,"CREDENTIALS_LOGIN","AD")};NB.fromLoginCredentials=oue});function iue(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function aue(e){return{schemeId:"smithy.api#noAuth"}}var du,DB,$B,cue,kB,IC=w(()=>{u();yr();du=T(Vt());fu();DB=async(e,t,r)=>({operation:(0,du.getSmithyContext)(t).operation,region:await(0,du.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});$B=e=>{let t=[];return e.operation==="AssumeRoleWithWebIdentity"?t.push(aue(e)):t.push(iue(e)),t},cue=e=>Object.assign(e,{stsClientCtor:jr}),kB=e=>{let t=cue(e),r=as(t);return Object.assign(r,{authSchemePreference:(0,du.normalizeProvider)(e.authSchemePreference??[])})}});var MB,Am,xm=w(()=>{u();MB=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Am={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var WB,re,Se,Ns,nt,KB,YB,Ue,FB,Vr,Zi,PC,LB,vC,XB,UB,st,HB,QB,JB,St,Xt,qB,ZB,ej,BB,tj,jB,VB,zB,GB,uue,rj,nj=w(()=>{u();WB="required",re="type",Se="argv",Ns="booleanEquals",nt="stringEquals",KB="sigv4",YB="us-east-1",Ue="endpoint",FB="https://sts.{Region}.{PartitionResult#dnsSuffix}",Vr="tree",Zi="error",PC="getAttr",LB={[WB]:!1,[re]:"string"},vC={[WB]:!0,default:!1,[re]:"boolean"},XB={ref:"Endpoint"},UB={fn:"isSet",[Se]:[{ref:"Region"}]},st={ref:"Region"},HB={fn:"aws.partition",[Se]:[st],assign:"PartitionResult"},QB={ref:"UseFIPS"},JB={ref:"UseDualStack"},St={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:KB,signingName:"sts",signingRegion:YB}]},headers:{}},Xt={},qB={conditions:[{fn:nt,[Se]:[st,"aws-global"]}],[Ue]:St,[re]:Ue},ZB={fn:Ns,[Se]:[QB,!0]},ej={fn:Ns,[Se]:[JB,!0]},BB={fn:PC,[Se]:[{ref:"PartitionResult"},"supportsFIPS"]},tj={ref:"PartitionResult"},jB={fn:Ns,[Se]:[!0,{fn:PC,[Se]:[tj,"supportsDualStack"]}]},VB=[{fn:"isSet",[Se]:[XB]}],zB=[ZB],GB=[ej],uue={version:"1.0",parameters:{Region:LB,UseDualStack:vC,UseFIPS:vC,Endpoint:LB,UseGlobalEndpoint:vC},rules:[{conditions:[{fn:Ns,[Se]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[Se]:VB},UB,HB,{fn:Ns,[Se]:[QB,!1]},{fn:Ns,[Se]:[JB,!1]}],rules:[{conditions:[{fn:nt,[Se]:[st,"ap-northeast-1"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"ap-south-1"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"ap-southeast-1"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"ap-southeast-2"]}],endpoint:St,[re]:Ue},qB,{conditions:[{fn:nt,[Se]:[st,"ca-central-1"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"eu-central-1"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"eu-north-1"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"eu-west-1"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"eu-west-2"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"eu-west-3"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"sa-east-1"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,YB]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"us-east-2"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"us-west-1"]}],endpoint:St,[re]:Ue},{conditions:[{fn:nt,[Se]:[st,"us-west-2"]}],endpoint:St,[re]:Ue},{endpoint:{url:FB,properties:{authSchemes:[{name:KB,signingName:"sts",signingRegion:"{Region}"}]},headers:Xt},[re]:Ue}],[re]:Vr},{conditions:VB,rules:[{conditions:zB,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[re]:Zi},{conditions:GB,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[re]:Zi},{endpoint:{url:XB,properties:Xt,headers:Xt},[re]:Ue}],[re]:Vr},{conditions:[UB],rules:[{conditions:[HB],rules:[{conditions:[ZB,ej],rules:[{conditions:[{fn:Ns,[Se]:[!0,BB]},jB],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xt,headers:Xt},[re]:Ue}],[re]:Vr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[re]:Zi}],[re]:Vr},{conditions:zB,rules:[{conditions:[{fn:Ns,[Se]:[BB,!0]}],rules:[{conditions:[{fn:nt,[Se]:[{fn:PC,[Se]:[tj,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Xt,headers:Xt},[re]:Ue},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Xt,headers:Xt},[re]:Ue}],[re]:Vr},{error:"FIPS is enabled but this partition does not support FIPS",[re]:Zi}],[re]:Vr},{conditions:GB,rules:[{conditions:[jB],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xt,headers:Xt},[re]:Ue}],[re]:Vr},{error:"DualStack is enabled but this partition does not support DualStack",[re]:Zi}],[re]:Vr},qB,{endpoint:{url:FB,properties:Xt,headers:Xt},[re]:Ue}],[re]:Vr}],[re]:Vr},{error:"Invalid Configuration: Missing Region",[re]:Zi}]},rj=uue});var sj,ea,lue,oj,ij=w(()=>{u();sj=T(cc()),ea=T(Ti());nj();lue=new ea.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),oj=(e,t={})=>lue.get(e,()=>(0,ea.resolveEndpoint)(rj,{endpointParams:e,logger:t.logger}));ea.customEndpointFunctions.aws=sj.awsEndpointFunctions});var aj,cj,Im,vm,uj,lj=w(()=>{u();yr();bc();nr();aj=T(Ee()),cj=T(oo()),Im=T(ft()),vm=T(dt());IC();ij();uj=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Im.fromBase64,base64Encoder:e?.base64Encoder??Im.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??oj,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??$B,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Pt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new hr}],logger:e?.logger??new aj.NoOpLogger,protocol:e?.protocol??yo,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??cj.parseUrl,utf8Decoder:e?.utf8Decoder??vm.fromUtf8,utf8Encoder:e?.utf8Encoder??vm.toUtf8})});var Pm,Ds,dj,Nm,Os,Om,Dm,fj,pj,mj,hj,gj=w(()=>{u();cp();yr();Pm=T(up()),Ds=T(Lr());nr();dj=T(lp()),Nm=T(Eo()),Os=T(gs()),Om=T(Xa()),Dm=T(Ee()),fj=T(dp()),pj=T(mp()),mj=T(vc());lj();hj=e=>{(0,Dm.emitWarningIfUnsupportedVersion)(process.version);let t=(0,pj.resolveDefaultsModeConfig)(e),r=()=>t().then(Dm.loadConfigsForDefaultMode),n=uj(e);io(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Os.loadConfig)(co,s),bodyLengthChecker:e?.bodyLengthChecker??fj.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Pm.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Fi.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new Pt},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new hr}],maxAttempts:e?.maxAttempts??(0,Os.loadConfig)(Nm.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Os.loadConfig)(Ds.NODE_REGION_CONFIG_OPTIONS,{...Ds.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Om.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Os.loadConfig)({...Nm.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||mj.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??dj.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Om.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Os.loadConfig)(Ds.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Os.loadConfig)(Ds.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Os.loadConfig)(Pm.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var yj,Sj,Ej=w(()=>{u();yj=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Sj=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var $m,km,Mm,wj,Rj=w(()=>{u();$m=T($c()),km=T(Fe()),Mm=T(Ee());Ej();wj=(e,t)=>{let r=Object.assign((0,$m.getAwsRegionExtensionConfiguration)(e),(0,Mm.getDefaultExtensionConfiguration)(e),(0,km.getHttpHandlerExtensionConfiguration)(e),yj(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,$m.resolveAwsRegionExtensionConfiguration)(r),(0,Mm.resolveDefaultRuntimeConfig)(r),(0,km.resolveHttpHandlerRuntimeConfig)(r),Sj(r))}});var Fm,_j,bj,Lm,Tj,Cj,Aj,Um,NC,jr,fu=w(()=>{u();Fm=T(Od()),_j=T($d()),bj=T(Fd()),Lm=T(Tc()),Tj=T(Lr());nr();Ce();Cj=T(Qf()),Aj=T(ys()),Um=T(Eo()),NC=T(Ee());IC();xm();gj();Rj();jr=class extends NC.Client{config;constructor(...[t]){let r=hj(t||{});super(r),this.initConfig=r;let n=MB(r),s=(0,Lm.resolveUserAgentConfig)(n),o=(0,Um.resolveRetryConfig)(s),i=(0,Tj.resolveRegionConfig)(o),a=(0,Fm.resolveHostHeaderConfig)(i),c=(0,Aj.resolveEndpointConfig)(a),l=kB(c),f=wj(l,t?.extensions||[]);this.config=f,this.middlewareStack.use(Qs(this.config)),this.middlewareStack.use((0,Lm.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Um.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Cj.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Fm.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,_j.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,bj.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ys(this.config,{httpAuthSchemeParametersProvider:DB,identityProviderConfigProvider:async d=>new pn({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Xs(this.config))}destroy(){super.destroy()}}});var xj,qt,Hm=w(()=>{u();xj=T(Ee()),qt=class e extends xj.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var pu,mu,hu,gu,yu,Su,Eu,OC=w(()=>{u();Hm();pu=class e extends qt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mu=class e extends qt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hu=class e extends qt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},gu=class e extends qt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yu=class e extends qt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Su=class e extends qt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Eu=class e extends qt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var due,fue,pue,mue,hue,gue,DC,yue,Sue,Eue,wue,$C,Rue,Ij,_ue,bue,Tue,Cue,Aue,xue,Iue,vue,vj,Pj,Pue,Nue,Oue,Due,$ue,kue,Nj,Mue,Fue,Oj,Lue,Dj,Uue,Hue,kC,que,Bue,jue,Vue,zue,Gue,Wue,Kue,Yue,Xue,Io,vo,Que,Po,No,Oo,Jue,$j,Zue,Re,ele,tle,MC,kj,Mj,Fj,Lj,FC,Uj,Hj,qj,Bj,jj,Vj,zj,Gj,Wj,Kj,Yj,Xj,rle,nle,LC,UC,qm=w(()=>{u();Ce();OC();Hm();due="Arn",fue="AccessKeyId",pue="AssumeRole",mue="AssumedRoleId",hue="AssumeRoleRequest",gue="AssumeRoleResponse",DC="AssumedRoleUser",yue="AssumeRoleWithWebIdentity",Sue="AssumeRoleWithWebIdentityRequest",Eue="AssumeRoleWithWebIdentityResponse",wue="Audience",$C="Credentials",Rue="ContextAssertion",Ij="DurationSeconds",_ue="Expiration",bue="ExternalId",Tue="ExpiredTokenException",Cue="IDPCommunicationErrorException",Aue="IDPRejectedClaimException",xue="InvalidIdentityTokenException",Iue="Key",vue="MalformedPolicyDocumentException",vj="Policy",Pj="PolicyArns",Pue="ProviderArn",Nue="ProvidedContexts",Oue="ProvidedContextsListType",Due="ProvidedContext",$ue="PolicyDescriptorType",kue="ProviderId",Nj="PackedPolicySize",Mue="PackedPolicyTooLargeException",Fue="Provider",Oj="RoleArn",Lue="RegionDisabledException",Dj="RoleSessionName",Uue="SecretAccessKey",Hue="SubjectFromWebIdentityToken",kC="SourceIdentity",que="SerialNumber",Bue="SessionToken",jue="Tags",Vue="TokenCode",zue="TransitiveTagKeys",Gue="Tag",Wue="Value",Kue="WebIdentityToken",Yue="arn",Xue="accessKeySecretType",Io="awsQueryError",vo="client",Que="clientTokenType",Po="error",No="httpError",Oo="message",Jue="policyDescriptorListType",$j="smithy.ts.sdk.synthetic.com.amazonaws.sts",Zue="tagListType",Re="com.amazonaws.sts",ele=[0,Re,Xue,8,0],tle=[0,Re,Que,8,0],MC=[3,Re,DC,0,[mue,due],[0,0]],kj=[3,Re,hue,0,[Oj,Dj,Pj,vj,Ij,jue,zue,bue,que,Vue,kC,Nue],[0,0,()=>Xj,0,1,()=>nle,64,0,0,0,0,()=>rle]],Mj=[3,Re,gue,0,[$C,DC,Nj,kC],[[()=>FC,0],()=>MC,1,0]],Fj=[3,Re,Sue,0,[Oj,Dj,Kue,kue,Pj,vj,Ij],[0,0,[()=>tle,0],0,()=>Xj,0,1]],Lj=[3,Re,Eue,0,[$C,Hue,DC,Nj,Fue,wue,kC],[[()=>FC,0],0,()=>MC,1,0,0,0]],FC=[3,Re,$C,0,[fue,Uue,Bue,_ue],[0,[()=>ele,0],0,4]],Uj=[-3,Re,Tue,{[Io]:["ExpiredTokenException",400],[Po]:vo,[No]:400},[Oo],[0]];Q.for(Re).registerError(Uj,pu);Hj=[-3,Re,Cue,{[Io]:["IDPCommunicationError",400],[Po]:vo,[No]:400},[Oo],[0]];Q.for(Re).registerError(Hj,Eu);qj=[-3,Re,Aue,{[Io]:["IDPRejectedClaim",403],[Po]:vo,[No]:403},[Oo],[0]];Q.for(Re).registerError(qj,yu);Bj=[-3,Re,xue,{[Io]:["InvalidIdentityToken",400],[Po]:vo,[No]:400},[Oo],[0]];Q.for(Re).registerError(Bj,Su);jj=[-3,Re,vue,{[Io]:["MalformedPolicyDocument",400],[Po]:vo,[No]:400},[Oo],[0]];Q.for(Re).registerError(jj,mu);Vj=[-3,Re,Mue,{[Io]:["PackedPolicyTooLarge",400],[Po]:vo,[No]:400},[Oo],[0]];Q.for(Re).registerError(Vj,hu);zj=[3,Re,$ue,0,[Yue],[0]],Gj=[3,Re,Due,0,[Pue,Rue],[0,0]],Wj=[-3,Re,Lue,{[Io]:["RegionDisabledException",403],[Po]:vo,[No]:403},[Oo],[0]];Q.for(Re).registerError(Wj,gu);Kj=[3,Re,Gue,0,[Iue,Wue],[0,0]],Yj=[-3,$j,"STSServiceException",0,[],[]];Q.for($j).registerError(Yj,qt);Xj=[1,Re,Jue,0,()=>zj],rle=[1,Re,Oue,0,()=>Gj],nle=[1,Re,Zue,0,()=>Kj],LC=[9,Re,pue,0,()=>kj,()=>Mj],UC=[9,Re,yue,0,()=>Fj,()=>Lj]});var Qj,Jj,Do,Bm=w(()=>{u();Qj=T(ys()),Jj=T(Ee());xm();qm();Do=class extends Jj.Command.classBuilder().ep(Am).m(function(t,r,n,s){return[(0,Qj.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(LC).build(){}});var Zj,eV,$o,jm=w(()=>{u();Zj=T(ys()),eV=T(Ee());xm();qm();$o=class extends eV.Command.classBuilder().ep(Am).m(function(t,r,n,s){return[(0,Zj.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(UC).build(){}});var tV,sle,Vm,rV=w(()=>{u();tV=T(Ee());Bm();jm();fu();sle={AssumeRoleCommand:Do,AssumeRoleWithWebIdentityCommand:$o},Vm=class extends jr{};(0,tV.createAggregatedClient)(sle,Vm)});var nV=w(()=>{u();Bm();jm()});var sV=w(()=>{u()});var oV,iV,aV,cV,uV,lV,dV=w(()=>{u();Rf();oV=T($c());Bm();jm();iV=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},aV=async(e,t,r,n={})=>{let s=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t,i="",a=s??o??(i=await(0,oV.stsRegionDefaultResolver)(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (credential provider clientConfig)`,`${o} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},cV=(e,t)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:f=e?.parentClientConfig?.logger,profile:d=e?.parentClientConfig?.profile,region:m,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:S,userAgentAppId:R=e?.parentClientConfig?.userAgentAppId}=e,_=await aV(m,e?.parentClientConfig?.region,S,{logger:f,profile:d}),C=!lV(p);r=new t({...e,userAgentAppId:R,profile:d,credentialDefaultProvider:()=>async()=>n,region:_,requestHandler:C?p:void 0,logger:f})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Do(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let c=iV(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return ao(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},uV=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,profile:l=e?.parentClientConfig?.profile,region:f,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:m,userAgentAppId:p=e?.parentClientConfig?.userAgentAppId}=e,S=await aV(f,e?.parentClientConfig?.region,m,{logger:c,profile:l}),R=!lV(d);r=new t({...e,userAgentAppId:p,profile:l,region:S,requestHandler:R?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:o}=await r.send(new $o(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=iV(o),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&ao(a,"RESOLVED_ACCOUNT_ID","T"),ao(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},lV=e=>e?.metadata?.handlerProtocol==="h2"});var fV,pV,mV,ole,hV=w(()=>{u();dV();fu();fV=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,pV=(e={},t)=>cV(e,fV(jr,t)),mV=(e={},t)=>uV(e,fV(jr,t)),ole=e=>t=>e({roleAssumer:pV(t),roleAssumerWithWebIdentity:mV(t),...t})});var HC={};ze(HC,{AssumeRole$:()=>LC,AssumeRoleCommand:()=>Do,AssumeRoleRequest$:()=>kj,AssumeRoleResponse$:()=>Mj,AssumeRoleWithWebIdentity$:()=>UC,AssumeRoleWithWebIdentityCommand:()=>$o,AssumeRoleWithWebIdentityRequest$:()=>Fj,AssumeRoleWithWebIdentityResponse$:()=>Lj,AssumedRoleUser$:()=>MC,Credentials$:()=>FC,ExpiredTokenException:()=>pu,ExpiredTokenException$:()=>Uj,IDPCommunicationErrorException:()=>Eu,IDPCommunicationErrorException$:()=>Hj,IDPRejectedClaimException:()=>yu,IDPRejectedClaimException$:()=>qj,InvalidIdentityTokenException:()=>Su,InvalidIdentityTokenException$:()=>Bj,MalformedPolicyDocumentException:()=>mu,MalformedPolicyDocumentException$:()=>jj,PackedPolicyTooLargeException:()=>hu,PackedPolicyTooLargeException$:()=>Vj,PolicyDescriptorType$:()=>zj,ProvidedContext$:()=>Gj,RegionDisabledException:()=>gu,RegionDisabledException$:()=>Wj,STS:()=>Vm,STSClient:()=>jr,STSServiceException:()=>qt,STSServiceException$:()=>Yj,Tag$:()=>Kj,__Client:()=>NC.Client,decorateDefaultCredentialProvider:()=>ole,getDefaultRoleAssumer:()=>pV,getDefaultRoleAssumerWithWebIdentity:()=>mV});var qC=w(()=>{u();fu();rV();nV();qm();OC();sV();hV();Hm()});var VC=I(gV=>{"use strict";u();var jC=an(),BC=Tt(),ile=q("child_process"),ale=q("util"),cle=(vr(),te(Dn)),ule=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let o=new Date;if(new Date(t.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return cle.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},lle=async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let o=ale.promisify(jC.externalDataInterceptor?.getTokenRecord?.().exec??ile.exec);try{let{stdout:i}=await o(s),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return ule(e,a,t)}catch(i){throw new BC.CredentialsProviderError(i.message,{logger:r})}}else throw new BC.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new BC.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},dle=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await jC.parseKnownFiles(e);return lle(jC.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};gV.fromProcess=dle});var zC=I(zr=>{"use strict";u();var fle=zr&&zr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),ple=zr&&zr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),mle=zr&&zr.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&fle(r,t,n[s]);return ple(r,t),r}})();Object.defineProperty(zr,"__esModule",{value:!0});zr.fromWebToken=void 0;var hle=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>mle((qC(),te(HC))));l=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:c})};zr.fromWebToken=hle});var SV=I(zm=>{"use strict";u();Object.defineProperty(zm,"__esModule",{value:!0});zm.fromTokenFile=void 0;var gle=(vr(),te(Dn)),yle=Tt(),Sle=an(),Ele=q("fs"),wle=zC(),yV="AWS_WEB_IDENTITY_TOKEN_FILE",Rle="AWS_ROLE_ARN",_le="AWS_ROLE_SESSION_NAME",ble=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[yV],n=e?.roleArn??process.env[Rle],s=e?.roleSessionName??process.env[_le];if(!r||!n)throw new yle.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,wle.fromWebToken)({...e,webIdentityToken:Sle.externalDataInterceptor?.getTokenRecord?.()[r]??(0,Ele.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:s})(t);return r===process.env[yV]&&(0,gle.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};zm.fromTokenFile=ble});var GC=I(wu=>{"use strict";u();var EV=SV(),wV=zC();Object.keys(EV).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(wu,e)&&Object.defineProperty(wu,e,{enumerable:!0,get:function(){return EV[e]}})});Object.keys(wV).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(wu,e)&&Object.defineProperty(wu,e,{enumerable:!0,get:function(){return wV[e]}})})});var AV=I(CV=>{"use strict";u();var KC=an(),Ru=Tt(),_n=(vr(),te(Dn)),Tle=OB(),Cle=(e,t,r)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>T(Xw())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>T(za()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Ru.chain(o(s??{}),i(s))().then(WC)},Ec2InstanceMetadata:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>T(za()));return async()=>o(s)().then(WC)},Environment:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>T(Bw()));return async()=>o(s)().then(WC)}};if(e in n)return n[e];throw new Ru.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},WC=e=>_n.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),Ale=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(xle(e,{profile:t,logger:r})||Ile(e,{profile:t,logger:r})),xle=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},Ile=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},vle=async(e,t,r,n,s={},o)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:a,region:c}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:f}=await Promise.resolve().then(()=>(qC(),HC));r.roleAssumer=f({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...n,...r?.parentClientConfig,region:c??r?.parentClientConfig?.region??n?.region}},r.clientPlugins)}if(a&&a in s)throw new Ru.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${KC.getProfileName(r)}. Profiles visited: `+Object.keys(s).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let l=a?o(a,t,r,n,{...s,[a]:!0},RV(t[a]??{})):(await Cle(i.credential_source,e,r.logger)(r))();if(RV(i))return l.then(f=>_n.setCredentialFeature(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let f={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:d}=i;if(d){if(!r.mfaCodeProvider)throw new Ru.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});f.SerialNumber=d,f.TokenCode=await r.mfaCodeProvider(d)}let m=await l;return r.roleAssumer(m,f).then(p=>_n.setCredentialFeature(p,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},RV=e=>!e.role_arn&&!!e.credential_source,Ple=e=>!!(e&&e.login_session),Nle=async(e,t,r)=>{let n=await Tle.fromLoginCredentials({...t,profile:e})({callerClientConfig:r});return _n.setCredentialFeature(n,"CREDENTIALS_PROFILE_LOGIN","AC")},Ole=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",Dle=async(e,t)=>Promise.resolve().then(()=>T(VC())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>_n.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),$le=async(e,t,r={},n)=>{let{fromSSO:s}=await Promise.resolve().then(()=>T(YT()));return s({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:n}).then(o=>t.sso_session?_n.setCredentialFeature(o,"CREDENTIALS_PROFILE_SSO","r"):_n.setCredentialFeature(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},kle=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),_V=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,bV=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return _n.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},Mle=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,Fle=async(e,t,r)=>Promise.resolve().then(()=>T(GC())).then(({fromTokenFile:n})=>n({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})({callerClientConfig:r}).then(s=>_n.setCredentialFeature(s,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),TV=async(e,t,r,n,s={},o=!1)=>{let i=t[e];if(Object.keys(s).length>0&&_V(i))return bV(i,r);if(o||Ale(i,{profile:e,logger:r.logger}))return vle(e,t,r,n,s,TV);if(_V(i))return bV(i,r);if(Mle(i))return Fle(i,r,n);if(Ole(i))return Dle(r,e);if(kle(i))return await $le(e,i,r,n);if(Ple(i))return Nle(e,r,n);throw new Ru.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},Lle=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await KC.parseKnownFiles(e);return TV(KC.getProfileName({profile:e.profile??t?.profile}),r,e,t)};CV.fromIni=Lle});var PV=I(Gm=>{"use strict";u();var YC=Bw(),_u=Tt(),Ule=an(),xV="AWS_EC2_METADATA_DISABLED",Hle=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>T(za()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>T(Xw()));return _u.chain(o(e),n(e))}return process.env[xV]&&process.env[xV]!=="false"?async()=>{throw new _u.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))};function qle(e,t){let r=Ble(e),n,s,o,i=async a=>{if(a?.forceRefresh)return await r(a);if(o?.expiration&&o?.expiration?.getTime()<Date.now()&&(o=void 0),n)await n;else if(!o||t?.(o))if(o)s||(s=r(a).then(c=>{o=c,s=void 0}));else return n=r(a).then(c=>{o=c,n=void 0}),i(a);return o};return i}var Ble=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(s){if(r=s,s?.tryNextLink)continue;throw s}throw r},IV=!1,jle=(e={})=>qle([async()=>{if(e.profile??process.env[Ule.ENV_PROFILE])throw process.env[YC.ENV_KEY]&&process.env[YC.ENV_SECRET]&&(IV||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),IV=!0)),new _u.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),YC.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e;if(!r&&!n&&!s&&!o&&!i)throw new _u.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>T(YT()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>T(AV()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>T(VC()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>T(GC()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Hle(e))()),async()=>{throw new _u.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],vV),Vle=e=>e?.expiration!==void 0,vV=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;Gm.credentialsTreatedAsExpired=vV;Gm.credentialsWillNeedRefresh=Vle;Gm.defaultProvider=jle});var VV=I(Wm=>{"use strict";u();Object.defineProperty(Wm,"__esModule",{value:!0});Wm.ruleSet=void 0;var qV="required",Wr="fn",Kr="argv",ra="ref",NV=!0,OV="isSet",Tu="booleanEquals",ta="error",bu="endpoint",bn="tree",XC="PartitionResult",DV={[qV]:!1,type:"string"},$V={[qV]:!0,default:!1,type:"boolean"},kV={[ra]:"Endpoint"},BV={[Wr]:Tu,[Kr]:[{[ra]:"UseFIPS"},!0]},jV={[Wr]:Tu,[Kr]:[{[ra]:"UseDualStack"},!0]},Gr={},MV={[Wr]:"getAttr",[Kr]:[{[ra]:XC},"supportsFIPS"]},FV={[Wr]:Tu,[Kr]:[!0,{[Wr]:"getAttr",[Kr]:[{[ra]:XC},"supportsDualStack"]}]},LV=[BV],UV=[jV],HV=[{[ra]:"Region"}],zle={version:"1.0",parameters:{Region:DV,UseDualStack:$V,UseFIPS:$V,Endpoint:DV},rules:[{conditions:[{[Wr]:OV,[Kr]:[kV]}],rules:[{conditions:LV,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ta},{conditions:UV,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ta},{endpoint:{url:kV,properties:Gr,headers:Gr},type:bu}],type:bn},{conditions:[{[Wr]:OV,[Kr]:HV}],rules:[{conditions:[{[Wr]:"aws.partition",[Kr]:HV,assign:XC}],rules:[{conditions:[BV,jV],rules:[{conditions:[{[Wr]:Tu,[Kr]:[NV,MV]},FV],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gr,headers:Gr},type:bu}],type:bn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ta}],type:bn},{conditions:LV,rules:[{conditions:[{[Wr]:Tu,[Kr]:[MV,NV]}],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Gr,headers:Gr},type:bu}],type:bn},{error:"FIPS is enabled but this partition does not support FIPS",type:ta}],type:bn},{conditions:UV,rules:[{conditions:[FV],rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gr,headers:Gr},type:bu}],type:bn},{error:"DualStack is enabled but this partition does not support DualStack",type:ta}],type:bn},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:Gr,headers:Gr},type:bu}],type:bn}],type:bn},{error:"Invalid Configuration: Missing Region",type:ta}]};Wm.ruleSet=zle});var zV=I(Km=>{"use strict";u();Object.defineProperty(Km,"__esModule",{value:!0});Km.defaultEndpointResolver=void 0;var Gle=Al(),QC=va(),Wle=VV(),Kle=new QC.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Yle=(e,t={})=>Kle.get(e,()=>(0,QC.resolveEndpoint)(Wle.ruleSet,{endpointParams:e,logger:t.logger}));Km.defaultEndpointResolver=Yle;QC.customEndpointFunctions.aws=Gle.awsEndpointFunctions});var KV=I(Ym=>{"use strict";u();Object.defineProperty(Ym,"__esModule",{value:!0});Ym.getRuntimeConfig=void 0;var Xle=(Gn(),te(zn)),Qle=(ud(),te(Ew)),Jle=ct(),Zle=Ko(),GV=wt(),WV=Et(),ede=qw(),tde=zV(),rde=e=>({apiVersion:"2010-12-01",base64Decoder:e?.base64Decoder??GV.fromBase64,base64Encoder:e?.base64Encoder??GV.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tde.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??ede.defaultSESHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Xle.AwsSdkSigV4Signer}],logger:e?.logger??new Jle.NoOpLogger,protocol:e?.protocol??Qle.AwsQueryProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ses",xmlNamespace:"http://ses.amazonaws.com/doc/2010-12-01/",version:"2010-12-01",serviceTarget:"SimpleEmailService"},serviceId:e?.serviceId??"SES",urlParser:e?.urlParser??Zle.parseUrl,utf8Decoder:e?.utf8Decoder??WV.fromUtf8,utf8Encoder:e?.utf8Encoder??WV.toUtf8});Ym.getRuntimeConfig=rde});var ez=I(Qm=>{"use strict";u();Object.defineProperty(Qm,"__esModule",{value:!0});Qm.getRuntimeConfig=void 0;var nde=(Ta(),te(ba)),sde=nde.__importDefault(dO()),YV=(Gn(),te(zn)),ode=PV(),XV=FT(),Xm=Kn(),ide=HT(),QV=ja(),ko=Ks(),JV=ma(),ZV=ct(),ade=BT(),cde=jT(),ude=_d(),lde=KV(),dde=e=>{(0,ZV.emitWarningIfUnsupportedVersion)(process.version);let t=(0,cde.resolveDefaultsModeConfig)(e),r=()=>t().then(ZV.loadConfigsForDefaultMode),n=(0,lde.getRuntimeConfig)(e);(0,YV.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ko.loadConfig)(YV.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??ade.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??ode.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,XV.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:sde.default.version}),maxAttempts:e?.maxAttempts??(0,ko.loadConfig)(QV.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ko.loadConfig)(Xm.NODE_REGION_CONFIG_OPTIONS,{...Xm.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:JV.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ko.loadConfig)({...QV.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||ude.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??ide.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??JV.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ko.loadConfig)(Xm.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,ko.loadConfig)(Xm.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,ko.loadConfig)(XV.NODE_APP_ID_CONFIG_OPTIONS,s)}};Qm.getRuntimeConfig=dde});var sz=I(kt=>{"use strict";u();var Jm=()=>{let e=new WeakSet;return(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r}},fde=e=>new Promise(t=>setTimeout(t,e*1e3)),nz={minDelay:2,maxDelay:120};kt.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(kt.WaiterState||(kt.WaiterState={}));var pde=e=>{if(e.state===kt.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},Jm())}`);throw t.name="AbortError",t}else if(e.state===kt.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},Jm())}`);throw t.name="TimeoutError",t}else if(e.state!==kt.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,Jm())}`);return e},mde=(e,t,r,n)=>{if(n>r)return t;let s=e*2**(n-1);return hde(e,s)},hde=(e,t)=>e+Math.random()*(t-e),gde=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:s,abortSignal:o},i,a)=>{let c={},{state:l,reason:f}=await a(s,i);if(f){let S=tz(f);c[S]|=0,c[S]+=1}if(l!==kt.WaiterState.RETRY)return{state:l,reason:f,observedResponses:c};let d=1,m=Date.now()+r*1e3,p=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let C="AbortController signal aborted.";return c[C]|=0,c[C]+=1,{state:kt.WaiterState.ABORTED,observedResponses:c}}let S=mde(e,t,p,d);if(Date.now()+S*1e3>m)return{state:kt.WaiterState.TIMEOUT,observedResponses:c};await fde(S);let{state:R,reason:_}=await a(s,i);if(_){let C=tz(_);c[C]|=0,c[C]+=1}if(R!==kt.WaiterState.RETRY)return{state:R,reason:_,observedResponses:c};d+=1}},tz=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e,Jm())??"Unknown"),yde=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},rz=e=>{let t,r=new Promise(n=>{t=()=>n({state:kt.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},Sde=async(e,t,r)=>{let n={...nz,...e};yde(n);let s=[gde(n,t,r)],o=[];if(e.abortSignal){let{aborted:i,clearListener:a}=rz(e.abortSignal);o.push(a),s.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=rz(e.abortController.signal);o.push(a),s.push(i)}return Promise.race(s).then(i=>{for(let a of o)a();return i})};kt.checkExceptions=pde;kt.createWaiter=Sde;kt.waiterServiceDefaults=nz});var cW=I(y=>{"use strict";u();var oz=Sy(),Ede=Ey(),wde=Iy(),iz=dd(),Rde=Kn(),Cu=(Nn(),te(Wo)),ce=($e(),te(ll)),_de=_w(),H=vw(),az=ja(),F=ct(),cz=qw(),bde=ez(),uz=WT(),lz=ke(),Au=sz(),Tde=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"ses"}),B={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Cde=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Ade=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),xde=(e,t)=>{let r=Object.assign(uz.getAwsRegionExtensionConfiguration(e),F.getDefaultExtensionConfiguration(e),lz.getHttpHandlerExtensionConfiguration(e),Cde(e));return t.forEach(n=>n.configure(r)),Object.assign(e,uz.resolveAwsRegionExtensionConfiguration(r),F.resolveDefaultRuntimeConfig(r),lz.resolveHttpHandlerRuntimeConfig(r),Ade(r))},na=class extends F.Client{config;constructor(...[t]){let r=bde.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=Tde(r),s=iz.resolveUserAgentConfig(n),o=az.resolveRetryConfig(s),i=Rde.resolveRegionConfig(o),a=oz.resolveHostHeaderConfig(i),c=H.resolveEndpointConfig(a),l=cz.resolveHttpAuthSchemeConfig(c),f=xde(l,t?.extensions||[]);this.config=f,this.middlewareStack.use(ce.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(iz.getUserAgentPlugin(this.config)),this.middlewareStack.use(az.getRetryPlugin(this.config)),this.middlewareStack.use(_de.getContentLengthPlugin(this.config)),this.middlewareStack.use(oz.getHostHeaderPlugin(this.config)),this.middlewareStack.use(Ede.getLoggerPlugin(this.config)),this.middlewareStack.use(wde.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Cu.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:cz.defaultSESHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async d=>new Cu.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Cu.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},ae=class e extends F.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Zm=class e extends ae{name="AccountSendingPausedException";$fault="client";constructor(t){super({name:"AccountSendingPausedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},eh=class e extends ae{name="AlreadyExistsException";$fault="client";Name;constructor(t){super({name:"AlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Name=t.Name}},th=class e extends ae{name="CannotDeleteException";$fault="client";Name;constructor(t){super({name:"CannotDeleteException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Name=t.Name}},rh=class e extends ae{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nh=class e extends ae{name="RuleSetDoesNotExistException";$fault="client";Name;constructor(t){super({name:"RuleSetDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Name=t.Name}},sh=class e extends ae{name="ConfigurationSetAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(t){super({name:"ConfigurationSetAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName}},oh=class e extends ae{name="ConfigurationSetDoesNotExistException";$fault="client";ConfigurationSetName;constructor(t){super({name:"ConfigurationSetDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName}},ih=class e extends ae{name="ConfigurationSetSendingPausedException";$fault="client";ConfigurationSetName;constructor(t){super({name:"ConfigurationSetSendingPausedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName}},ah=class e extends ae{name="InvalidConfigurationSetException";$fault="client";constructor(t){super({name:"InvalidConfigurationSetException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ch=class e extends ae{name="EventDestinationAlreadyExistsException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(t){super({name:"EventDestinationAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}},uh=class e extends ae{name="InvalidCloudWatchDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(t){super({name:"InvalidCloudWatchDestinationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}},lh=class e extends ae{name="InvalidFirehoseDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(t){super({name:"InvalidFirehoseDestinationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}},dh=class e extends ae{name="InvalidSNSDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(t){super({name:"InvalidSNSDestinationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}},fh=class e extends ae{name="InvalidTrackingOptionsException";$fault="client";constructor(t){super({name:"InvalidTrackingOptionsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ph=class e extends ae{name="TrackingOptionsAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(t){super({name:"TrackingOptionsAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName}},mh=class e extends ae{name="CustomVerificationEmailInvalidContentException";$fault="client";constructor(t){super({name:"CustomVerificationEmailInvalidContentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hh=class e extends ae{name="CustomVerificationEmailTemplateAlreadyExistsException";$fault="client";CustomVerificationEmailTemplateName;constructor(t){super({name:"CustomVerificationEmailTemplateAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.CustomVerificationEmailTemplateName=t.CustomVerificationEmailTemplateName}},gh=class e extends ae{name="FromEmailAddressNotVerifiedException";$fault="client";FromEmailAddress;constructor(t){super({name:"FromEmailAddressNotVerifiedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.FromEmailAddress=t.FromEmailAddress}},yh=class e extends ae{name="InvalidLambdaFunctionException";$fault="client";FunctionArn;constructor(t){super({name:"InvalidLambdaFunctionException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.FunctionArn=t.FunctionArn}},Sh=class e extends ae{name="InvalidS3ConfigurationException";$fault="client";Bucket;constructor(t){super({name:"InvalidS3ConfigurationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Bucket=t.Bucket}},Eh=class e extends ae{name="InvalidSnsTopicException";$fault="client";Topic;constructor(t){super({name:"InvalidSnsTopicException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Topic=t.Topic}},wh=class e extends ae{name="RuleDoesNotExistException";$fault="client";Name;constructor(t){super({name:"RuleDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Name=t.Name}},Rh=class e extends ae{name="InvalidTemplateException";$fault="client";TemplateName;constructor(t){super({name:"InvalidTemplateException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=t.TemplateName}},_h=class e extends ae{name="CustomVerificationEmailTemplateDoesNotExistException";$fault="client";CustomVerificationEmailTemplateName;constructor(t){super({name:"CustomVerificationEmailTemplateDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.CustomVerificationEmailTemplateName=t.CustomVerificationEmailTemplateName}},bh=class e extends ae{name="EventDestinationDoesNotExistException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(t){super({name:"EventDestinationDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}},Th=class e extends ae{name="TrackingOptionsDoesNotExistException";$fault="client";ConfigurationSetName;constructor(t){super({name:"TrackingOptionsDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName}},Ch=class e extends ae{name="TemplateDoesNotExistException";$fault="client";TemplateName;constructor(t){super({name:"TemplateDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=t.TemplateName}},Ah=class e extends ae{name="InvalidDeliveryOptionsException";$fault="client";constructor(t){super({name:"InvalidDeliveryOptionsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xh=class e extends ae{name="InvalidPolicyException";$fault="client";constructor(t){super({name:"InvalidPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ih=class e extends ae{name="InvalidRenderingParameterException";$fault="client";TemplateName;constructor(t){super({name:"InvalidRenderingParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=t.TemplateName}},vh=class e extends ae{name="MailFromDomainNotVerifiedException";$fault="client";constructor(t){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ph=class e extends ae{name="MessageRejected";$fault="client";constructor(t){super({name:"MessageRejected",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Nh=class e extends ae{name="MissingRenderingAttributeException";$fault="client";TemplateName;constructor(t){super({name:"MissingRenderingAttributeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=t.TemplateName}},Oh=class e extends ae{name="ProductionAccessNotGrantedException";$fault="client";constructor(t){super({name:"ProductionAccessNotGrantedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},dz="After",Ide="ArrivalDate",vde="AlreadyExistsException",fz="AddHeaderAction",Pde="AccountSendingPausedException",Nde="Actions",Ode="Action",pz="Body",mz="BounceAction",Dde="BccAddresses",$de="BulkEmailDestination",kde="BulkEmailDestinationList",Mde="BulkEmailDestinationStatus",Fde="BulkEmailDestinationStatusList",Lde="BucketName",hz="BehaviorOnMXFailure",Ude="BouncedRecipientInfo",gz="BouncedRecipientInfoList",Hde="BounceSender",qde="BounceSenderArn",Bde="BounceType",jde="BounceTopic",Vde="Bounces",zde="Bucket",Gde="Content",yz="ConnectAction",Wde="CcAddresses",Kde="CreateConfigurationSet",Yde="CreateConfigurationSetEventDestination",Xde="CreateConfigurationSetEventDestinationRequest",Qde="CreateConfigurationSetEventDestinationResponse",Jde="CreateConfigurationSetRequest",Zde="CreateConfigurationSetResponse",efe="CreateConfigurationSetTrackingOptions",tfe="CreateConfigurationSetTrackingOptionsRequest",rfe="CreateConfigurationSetTrackingOptionsResponse",nfe="CreateCustomVerificationEmailTemplate",sfe="CreateCustomVerificationEmailTemplateRequest",ofe="CannotDeleteException",ife="CustomRedirectDomain",afe="CreateReceiptFilter",cfe="CreateReceiptFilterRequest",ufe="CreateReceiptFilterResponse",lfe="CreateReceiptRule",dfe="CreateReceiptRuleRequest",ffe="CreateReceiptRuleResponse",pfe="CloneReceiptRuleSet",mfe="CloneReceiptRuleSetRequest",hfe="CloneReceiptRuleSetResponse",gfe="CreateReceiptRuleSetRequest",yfe="CreateReceiptRuleSetResponse",Sfe="CreateReceiptRuleSet",JC="ConfigurationSet",Efe="ConfigurationSetAlreadyExistsException",wfe="ConfigurationSetAttributeNames",Rfe="ConfigurationSetDoesNotExistException",De="ConfigurationSetName",_fe="ConfigurationSetSendingPausedException",Sz="ConfigurationSets",bfe="ComplaintTopic",Tfe="CreateTemplateRequest",Cfe="CreateTemplateResponse",Ez="CreatedTimestamp",Afe="CreateTemplate",xfe="CustomVerificationEmailInvalidContentException",Ife="CustomVerificationEmailTemplate",vfe="CustomVerificationEmailTemplateAlreadyExistsException",Pfe="CustomVerificationEmailTemplateDoesNotExistException",wz="CustomVerificationEmailTemplateName",Rz="CustomVerificationEmailTemplates",_z="CloudWatchDestination",Nfe="CloudWatchDimensionConfiguration",Ofe="CloudWatchDimensionConfigurations",Dfe="Charset",$fe="Cidr",kfe="Complaints",Yg="Destination",bz="DkimAttributes",Mfe="DescribeActiveReceiptRuleSet",Ffe="DescribeActiveReceiptRuleSetRequest",Lfe="DescribeActiveReceiptRuleSetResponse",Ufe="DeliveryAttempts",Hfe="DimensionConfigurations",qfe="DeleteConfigurationSet",Bfe="DeleteConfigurationSetEventDestination",jfe="DeleteConfigurationSetEventDestinationRequest",Vfe="DeleteConfigurationSetEventDestinationResponse",zfe="DeleteConfigurationSetRequest",Gfe="DeleteConfigurationSetResponse",Wfe="DescribeConfigurationSetRequest",Kfe="DescribeConfigurationSetResponse",Yfe="DeleteConfigurationSetTrackingOptions",Xfe="DeleteConfigurationSetTrackingOptionsRequest",Qfe="DeleteConfigurationSetTrackingOptionsResponse",Jfe="DescribeConfigurationSet",Zfe="DeleteCustomVerificationEmailTemplate",epe="DeleteCustomVerificationEmailTemplateRequest",tpe="DiagnosticCode",rpe="DefaultDimensionValue",Tz="DkimEnabled",npe="DeleteIdentity",spe="DeleteIdentityPolicy",ope="DeleteIdentityPolicyRequest",ipe="DeleteIdentityPolicyResponse",ape="DeleteIdentityRequest",cpe="DeleteIdentityResponse",upe="DimensionName",ZC="DeliveryOptions",lpe="DeleteReceiptFilter",dpe="DeleteReceiptFilterRequest",fpe="DeleteReceiptFilterResponse",ppe="DeleteReceiptRule",mpe="DeleteReceiptRuleRequest",hpe="DeleteReceiptRuleResponse",gpe="DescribeReceiptRuleRequest",ype="DescribeReceiptRuleResponse",Spe="DeleteReceiptRuleSet",Epe="DeleteReceiptRuleSetRequest",wpe="DeleteReceiptRuleSetResponse",Rpe="DescribeReceiptRuleSetRequest",_pe="DescribeReceiptRuleSetResponse",bpe="DescribeReceiptRuleSet",Tpe="DescribeReceiptRule",Cpe="DeliveryStreamARN",Cz="DkimTokens",Ape="DefaultTemplateData",xpe="DeleteTemplateRequest",Ipe="DeleteTemplateResponse",vpe="DeliveryTopic",Ppe="DefaultTags",Npe="DeleteTemplate",Ope="DeleteVerifiedEmailAddress",Dpe="DeleteVerifiedEmailAddressRequest",$pe="DimensionValueSource",kpe="DkimVerificationStatus",Az="Data",xz="Destinations",Iz="Domain",Mpe="Error",Xg="EmailAddress",e0="EventDestination",Fpe="EventDestinationAlreadyExistsException",Lpe="EventDestinationDoesNotExistException",sa="EventDestinationName",vz="EventDestinations",Upe="ExtensionField",Hpe="ExtensionFieldList",Pz="ExtensionFields",Mo="Enabled",qpe="Encoding",Bpe="Explanation",jpe="Filter",Nz="FunctionArn",Vpe="FromArn",Oz="ForwardingEnabled",Pu="FromEmailAddress",zpe="FromEmailAddressNotVerifiedException",Gpe="FilterName",Wpe="FinalRecipient",Qg="FailureRedirectionURL",Kpe="Filters",Ype="GetAccountSendingEnabled",Xpe="GetAccountSendingEnabledResponse",Qpe="GetCustomVerificationEmailTemplate",Jpe="GetCustomVerificationEmailTemplateRequest",Zpe="GetCustomVerificationEmailTemplateResponse",eme="GetIdentityDkimAttributes",tme="GetIdentityDkimAttributesRequest",rme="GetIdentityDkimAttributesResponse",nme="GetIdentityMailFromDomainAttributes",sme="GetIdentityMailFromDomainAttributesRequest",ome="GetIdentityMailFromDomainAttributesResponse",ime="GetIdentityNotificationAttributes",ame="GetIdentityNotificationAttributesRequest",cme="GetIdentityNotificationAttributesResponse",ume="GetIdentityPolicies",lme="GetIdentityPoliciesRequest",dme="GetIdentityPoliciesResponse",fme="GetIdentityVerificationAttributes",pme="GetIdentityVerificationAttributesRequest",mme="GetIdentityVerificationAttributesResponse",hme="GetSendQuota",gme="GetSendQuotaResponse",yme="GetSendStatistics",Sme="GetSendStatisticsResponse",Eme="GetTemplate",wme="GetTemplateRequest",Rme="GetTemplateResponse",_me="Html",bme="HeadersInBounceNotificationsEnabled",Tme="HeadersInComplaintNotificationsEnabled",Cme="HeadersInDeliveryNotificationsEnabled",Ame="HeaderName",xme="HtmlPart",Ime="HeaderValue",Yr="Identity",Dz="IAMRoleARN",vme="InstanceARN",Pme="InvalidConfigurationSetException",Nme="InvalidCloudWatchDestinationException",Ome="IdentityDkimAttributes",Dme="InvalidDeliveryOptionsException",$me="IpFilter",kme="InvalidFirehoseDestinationException",Mme="InvalidLambdaFunctionException",Fme="IdentityMailFromDomainAttributes",Lme="IdentityNotificationAttributes",Ume="InvalidPolicyException",Hme="IamRoleArn",qme="InvalidRenderingParameterException",Bme="InvalidS3ConfigurationException",jme="InvalidSNSDestinationException",Vme="InvalidSnsTopicException",zme="InvocationType",Gme="InvalidTemplateException",Wme="InvalidTrackingOptionsException",Kme="IdentityType",Yme="IdentityVerificationAttributes",Nu="Identities",$z="KinesisFirehoseDestination",Xme="KmsKeyArn",kz="LambdaAction",Qme="LastAttemptDate",Jme="ListConfigurationSets",Zme="ListConfigurationSetsRequest",ehe="ListConfigurationSetsResponse",the="ListCustomVerificationEmailTemplates",rhe="ListCustomVerificationEmailTemplatesRequest",nhe="ListCustomVerificationEmailTemplatesResponse",she="LimitExceededException",ohe="LastFreshStart",ihe="ListIdentities",ahe="ListIdentityPolicies",che="ListIdentityPoliciesRequest",uhe="ListIdentityPoliciesResponse",lhe="ListIdentitiesRequest",dhe="ListIdentitiesResponse",fhe="ListReceiptFilters",phe="ListReceiptFiltersRequest",mhe="ListReceiptFiltersResponse",hhe="ListReceiptRuleSets",ghe="ListReceiptRuleSetsRequest",yhe="ListReceiptRuleSetsResponse",She="ListTemplates",Ehe="ListTemplatesRequest",whe="ListTemplatesResponse",Rhe="ListVerifiedEmailAddresses",_he="ListVerifiedEmailAddressesResponse",t0="Message",Mz="MessageDsn",bhe="MatchingEventTypes",Fz="MailFromDomain",Lz="MailFromDomainAttributes",The="MailFromDomainNotVerifiedException",Che="MailFromDomainStatus",Ahe="Max24HourSend",oa="MessageId",r0="MaxItems",xhe="MaxResults",Ihe="MissingRenderingAttributeException",vhe="MessageRejected",Phe="MaxSendRate",Nhe="MessageTag",Ohe="MessageTagList",Uz="Metadata",lr="Name",Hz="NotificationAttributes",Xr="NextToken",qz="NotificationType",Dhe="OrganizationArn",$he="ObjectKeyPrefix",khe="OriginalMessageId",Mhe="OriginalRuleSetName",Fhe="Policies",Lhe="ProductionAccessNotGrantedException",Uhe="PutConfigurationSetDeliveryOptions",Hhe="PutConfigurationSetDeliveryOptionsRequest",qhe="PutConfigurationSetDeliveryOptionsResponse",Bhe="PutIdentityPolicy",jhe="PutIdentityPolicyRequest",Vhe="PutIdentityPolicyResponse",Bz="PolicyName",jz="PolicyNames",Vz="Policy",zhe="Recipient",Ghe="RecipientArn",Whe="ReceiptActionsList",Khe="ReceiptAction",zz="RecipientDsnFields",Yhe="RuleDoesNotExistException",Xhe="ReceiptFilter",Qhe="ReceiptFilterList",Jhe="ReceiptIpFilter",Zhe="ReportingMta",ege="ReputationMetricsEnabled",Gz="RawMessage",tge="RemoteMta",n0="RuleName",rge="RuleNames",Wz="ReputationOptions",s0="ReturnPath",Jg="ReturnPathArn",nge="ReceiptRule",sge="ReceiptRulesList",oge="ReorderReceiptRuleSet",ige="ReorderReceiptRuleSetRequest",age="ReorderReceiptRuleSetResponse",cge="ReceiptRuleSetsLists",uge="ReceiptRuleSetMetadata",lge="RuleSets",dge="RuleSetDoesNotExistException",Tr="RuleSetName",fge="ReplacementTags",o0="ReplyToAddresses",pge="ReplacementTemplateData",mge="RenderedTemplate",hge="Recipients",gge="Rejects",i0="Rule",Kz="Rules",yge="Sender",Yz="S3Action",Sge="SetActiveReceiptRuleSet",Ege="SetActiveReceiptRuleSetRequest",wge="SetActiveReceiptRuleSetResponse",Zg="SourceArn",Xz="StopAction",Rge="SendBounce",_ge="SendBounceRequest",bge="SendBounceResponse",Tge="SendBulkTemplatedEmail",Cge="SendBulkTemplatedEmailRequest",Age="SendBulkTemplatedEmailResponse",xge="StatusCode",Ige="SendCustomVerificationEmail",vge="SendCustomVerificationEmailRequest",Pge="SendCustomVerificationEmailResponse",Nge="SendDataPoints",Oge="SendDataPointList",Dge="SendDataPoint",$ge="ScanEnabled",kge="SendEmailRequest",Mge="SendEmailResponse",Fge="SendingEnabled",Lge="SendEmail",Uge="SetIdentityDkimEnabled",Hge="SetIdentityDkimEnabledRequest",qge="SetIdentityDkimEnabledResponse",Bge="SetIdentityFeedbackForwardingEnabled",jge="SetIdentityFeedbackForwardingEnabledRequest",Vge="SetIdentityFeedbackForwardingEnabledResponse",zge="SetIdentityHeadersInNotificationsEnabled",Gge="SetIdentityHeadersInNotificationsEnabledRequest",Wge="SetIdentityHeadersInNotificationsEnabledResponse",Kge="SetIdentityMailFromDomain",Yge="SetIdentityMailFromDomainRequest",Xge="SetIdentityMailFromDomainResponse",Qge="SetIdentityNotificationTopic",Jge="SetIdentityNotificationTopicRequest",Zge="SetIdentityNotificationTopicResponse",eye="SentLast24Hours",Qz="SNSAction",Jz="SNSDestination",tye="SubjectPart",rye="SmtpReplyCode",nye="SendRawEmail",sye="SendRawEmailRequest",oye="SendRawEmailResponse",iye="SetReceiptRulePosition",aye="SetReceiptRulePositionRequest",cye="SetReceiptRulePositionResponse",ey="SuccessRedirectionURL",uye="SnsTopic",lye="SendTemplatedEmail",dye="SendTemplatedEmailRequest",fye="SendTemplatedEmailResponse",pye="Scope",ty="Source",a0="Status",mye="Subject",hye="Text",ia="TopicArn",gye="TopicARN",Zz="TemplateArn",yye="ToAddresses",c0="TemplateContent",e2="TemplateData",Sye="TemplateDoesNotExistException",Eye="TemplatesMetadata",wye="TemplateMetadataList",Rye="TemplateMetadata",Mt="TemplateName",ry="TrackingOptions",_ye="TrackingOptionsAlreadyExistsException",bye="TrackingOptionsDoesNotExistException",t2="TlsPolicy",Tye="TextPart",Cye="TestRenderTemplate",Aye="TestRenderTemplateRequest",xye="TestRenderTemplateResponse",ny="TemplateSubject",u0="Tags",aa="Template",Iye="Timestamp",vye="Topic",Pye="UpdateAccountSendingEnabled",Nye="UpdateAccountSendingEnabledRequest",Oye="UpdateConfigurationSetEventDestination",Dye="UpdateConfigurationSetEventDestinationRequest",$ye="UpdateConfigurationSetEventDestinationResponse",kye="UpdateConfigurationSetReputationMetricsEnabled",Mye="UpdateConfigurationSetReputationMetricsEnabledRequest",Fye="UpdateConfigurationSetSendingEnabled",Lye="UpdateConfigurationSetSendingEnabledRequest",Uye="UpdateConfigurationSetTrackingOptions",Hye="UpdateConfigurationSetTrackingOptionsRequest",qye="UpdateConfigurationSetTrackingOptionsResponse",Bye="UpdateCustomVerificationEmailTemplate",jye="UpdateCustomVerificationEmailTemplateRequest",Vye="UpdateReceiptRule",zye="UpdateReceiptRuleRequest",Gye="UpdateReceiptRuleResponse",Wye="UpdateTemplate",Kye="UpdateTemplateRequest",Yye="UpdateTemplateResponse",r2="Value",n2="VerificationAttributes",Xye="VerifyDomainDkim",Qye="VerifyDomainDkimRequest",Jye="VerifyDomainDkimResponse",Zye="VerifyDomainIdentity",eSe="VerifyDomainIdentityRequest",tSe="VerifyDomainIdentityResponse",rSe="VerifiedEmailAddresses",nSe="VerifyEmailAddressRequest",sSe="VerifyEmailAddress",oSe="VerifyEmailIdentity",iSe="VerifyEmailIdentityRequest",aSe="VerifyEmailIdentityResponse",cSe="VerificationStatus",s2="VerificationToken",o2="WorkmailAction",de="awsQueryError",fe="client",pe="error",me="httpError",he="message",i2="smithy.ts.sdk.synthetic.com.amazonaws.ses",E="com.amazonaws.ses",a2=[-3,E,Pde,{[de]:["AccountSendingPausedException",400],[pe]:fe,[me]:400},[he],[0]];ce.TypeRegistry.for(E).registerError(a2,Zm);var c2=[3,E,fz,0,[Ame,Ime],[0,0]],u2=[-3,E,vde,{[de]:["AlreadyExists",400],[pe]:fe,[me]:400},[lr,he],[0,0]];ce.TypeRegistry.for(E).registerError(u2,eh);var l2=[3,E,pz,0,[hye,_me],[()=>Dh,()=>Dh]],d2=[3,E,mz,0,[ia,rye,xge,t0,yge],[0,0,0,0,0]],f2=[3,E,Ude,0,[zhe,Ghe,Bde,zz],[0,0,0,()=>O3]],p2=[3,E,$de,0,[Yg,fge,pge],[()=>oy,()=>Du,0]],m2=[3,E,Mde,0,[a0,Mpe,oa],[0,0,0]],h2=[-3,E,ofe,{[de]:["CannotDelete",400],[pe]:fe,[me]:400},[lr,he],[0,0]];ce.TypeRegistry.for(E).registerError(h2,th);var g2=[3,E,mfe,0,[Tr,Mhe],[0,0]],y2=[3,E,hfe,0,[],[]],S2=[3,E,_z,0,[Hfe],[()=>fSe]],E2=[3,E,Nfe,0,[upe,$pe,rpe],[0,0,0]],sy=[3,E,JC,0,[lr],[0]],w2=[-3,E,Efe,{[de]:["ConfigurationSetAlreadyExists",400],[pe]:fe,[me]:400},[De,he],[0,0]];ce.TypeRegistry.for(E).registerError(w2,sh);var R2=[-3,E,Rfe,{[de]:["ConfigurationSetDoesNotExist",400],[pe]:fe,[me]:400},[De,he],[0,0]];ce.TypeRegistry.for(E).registerError(R2,oh);var _2=[-3,E,_fe,{[de]:["ConfigurationSetSendingPausedException",400],[pe]:fe,[me]:400},[De,he],[0,0]];ce.TypeRegistry.for(E).registerError(_2,ih);var b2=[3,E,yz,0,[vme,Dz],[0,0]],Dh=[3,E,Gde,0,[Az,Dfe],[0,0]],T2=[3,E,Xde,0,[De,e0],[0,()=>iy]],C2=[3,E,Qde,0,[],[]],A2=[3,E,Jde,0,[JC],[()=>sy]],x2=[3,E,Zde,0,[],[]],I2=[3,E,tfe,0,[De,ry],[0,()=>uy]],v2=[3,E,rfe,0,[],[]],P2=[3,E,sfe,0,[Mt,Pu,ny,c0,ey,Qg],[0,0,0,0,0,0]],N2=[3,E,cfe,0,[jpe],[()=>d0]],O2=[3,E,ufe,0,[],[]],D2=[3,E,dfe,0,[Tr,dz,i0],[0,0,()=>Ou]],$2=[3,E,ffe,0,[],[]],k2=[3,E,gfe,0,[Tr],[0]],M2=[3,E,yfe,0,[],[]],F2=[3,E,Tfe,0,[aa],[()=>cy]],L2=[3,E,Cfe,0,[],[]],U2=[-3,E,xfe,{[de]:["CustomVerificationEmailInvalidContent",400],[pe]:fe,[me]:400},[he],[0]];ce.TypeRegistry.for(E).registerError(U2,mh);var H2=[3,E,Ife,0,[Mt,Pu,ny,ey,Qg],[0,0,0,0,0]],q2=[-3,E,vfe,{[de]:["CustomVerificationEmailTemplateAlreadyExists",400],[pe]:fe,[me]:400},[wz,he],[0,0]];ce.TypeRegistry.for(E).registerError(q2,hh);var B2=[-3,E,Pfe,{[de]:["CustomVerificationEmailTemplateDoesNotExist",400],[pe]:fe,[me]:400},[wz,he],[0,0]];ce.TypeRegistry.for(E).registerError(B2,_h);var j2=[3,E,jfe,0,[De,sa],[0,0]],V2=[3,E,Vfe,0,[],[]],z2=[3,E,zfe,0,[De],[0]],G2=[3,E,Gfe,0,[],[]],W2=[3,E,Xfe,0,[De],[0]],K2=[3,E,Qfe,0,[],[]],Y2=[3,E,epe,0,[Mt],[0]],X2=[3,E,ope,0,[Yr,Bz],[0,0]],Q2=[3,E,ipe,0,[],[]],J2=[3,E,ape,0,[Yr],[0]],Z2=[3,E,cpe,0,[],[]],e4=[3,E,dpe,0,[Gpe],[0]],t4=[3,E,fpe,0,[],[]],r4=[3,E,mpe,0,[Tr,n0],[0,0]],n4=[3,E,hpe,0,[],[]],s4=[3,E,Epe,0,[Tr],[0]],o4=[3,E,wpe,0,[],[]],i4=[3,E,xpe,0,[Mt],[0]],a4=[3,E,Ipe,0,[],[]],c4=[3,E,Dpe,0,[Xg],[0]],l0=[3,E,ZC,0,[t2],[0]],u4=[3,E,Ffe,0,[],[]],l4=[3,E,Lfe,0,[Uz,Kz],[()=>ay,()=>jG]],d4=[3,E,Wfe,0,[De,wfe],[0,64]],f4=[3,E,Kfe,0,[JC,vz,ry,ZC,Wz],[()=>sy,()=>hSe,()=>uy,()=>l0,()=>k3]],p4=[3,E,gpe,0,[Tr,n0],[0,0]],m4=[3,E,ype,0,[i0],[()=>Ou]],h4=[3,E,Rpe,0,[Tr],[0]],g4=[3,E,_pe,0,[Uz,Kz],[()=>ay,()=>jG]],oy=[3,E,Yg,0,[yye,Wde,Dde],[64,64,64]],iy=[3,E,e0,0,[lr,Mo,bhe,$z,_z,Jz],[0,2,64,()=>e3,()=>S2,()=>pG]],y4=[-3,E,Fpe,{[de]:["EventDestinationAlreadyExists",400],[pe]:fe,[me]:400},[De,sa,he],[0,0,0]];ce.TypeRegistry.for(E).registerError(y4,ch);var S4=[-3,E,Lpe,{[de]:["EventDestinationDoesNotExist",400],[pe]:fe,[me]:400},[De,sa,he],[0,0,0]];ce.TypeRegistry.for(E).registerError(S4,bh);var E4=[3,E,Upe,0,[lr,r2],[0,0]],w4=[-3,E,zpe,{[de]:["FromEmailAddressNotVerified",400],[pe]:fe,[me]:400},[Pu,he],[0,0]];ce.TypeRegistry.for(E).registerError(w4,gh);var R4=[3,E,Xpe,0,[Mo],[2]],_4=[3,E,Jpe,0,[Mt],[0]],b4=[3,E,Zpe,0,[Mt,Pu,ny,c0,ey,Qg],[0,0,0,0,0,0]],T4=[3,E,tme,0,[Nu],[64]],C4=[3,E,rme,0,[bz],[()=>RSe]],A4=[3,E,sme,0,[Nu],[64]],x4=[3,E,ome,0,[Lz],[()=>_Se]],I4=[3,E,ame,0,[Nu],[64]],v4=[3,E,cme,0,[Hz],[()=>bSe]],P4=[3,E,lme,0,[Yr,jz],[0,64]],N4=[3,E,dme,0,[Fhe],[128]],O4=[3,E,pme,0,[Nu],[64]],D4=[3,E,mme,0,[n2],[()=>TSe]],$4=[3,E,gme,0,[Ahe,Phe,eye],[1,1,1]],k4=[3,E,Sme,0,[Nge],[()=>ESe]],M4=[3,E,wme,0,[Mt],[0]],F4=[3,E,Rme,0,[aa],[()=>cy]],L4=[3,E,Ome,0,[Tz,kpe,Cz],[2,0,64]],U4=[3,E,Fme,0,[Fz,Che,hz],[0,0,0]],H4=[3,E,Lme,0,[jde,bfe,vpe,Oz,bme,Tme,Cme],[0,0,0,2,2,2,2]],q4=[3,E,Yme,0,[cSe,s2],[0,0]],B4=[-3,E,Nme,{[de]:["InvalidCloudWatchDestination",400],[pe]:fe,[me]:400},[De,sa,he],[0,0,0]];ce.TypeRegistry.for(E).registerError(B4,uh);var j4=[-3,E,Pme,{[de]:["InvalidConfigurationSet",400],[pe]:fe,[me]:400},[he],[0]];ce.TypeRegistry.for(E).registerError(j4,ah);var V4=[-3,E,Dme,{[de]:["InvalidDeliveryOptions",400],[pe]:fe,[me]:400},[he],[0]];ce.TypeRegistry.for(E).registerError(V4,Ah);var z4=[-3,E,kme,{[de]:["InvalidFirehoseDestination",400],[pe]:fe,[me]:400},[De,sa,he],[0,0,0]];ce.TypeRegistry.for(E).registerError(z4,lh);var G4=[-3,E,Mme,{[de]:["InvalidLambdaFunction",400],[pe]:fe,[me]:400},[Nz,he],[0,0]];ce.TypeRegistry.for(E).registerError(G4,yh);var W4=[-3,E,Ume,{[de]:["InvalidPolicy",400],[pe]:fe,[me]:400},[he],[0]];ce.TypeRegistry.for(E).registerError(W4,xh);var K4=[-3,E,qme,{[de]:["InvalidRenderingParameter",400],[pe]:fe,[me]:400},[Mt,he],[0,0]];ce.TypeRegistry.for(E).registerError(K4,Ih);var Y4=[-3,E,Bme,{[de]:["InvalidS3Configuration",400],[pe]:fe,[me]:400},[zde,he],[0,0]];ce.TypeRegistry.for(E).registerError(Y4,Sh);var X4=[-3,E,jme,{[de]:["InvalidSNSDestination",400],[pe]:fe,[me]:400},[De,sa,he],[0,0,0]];ce.TypeRegistry.for(E).registerError(X4,dh);var Q4=[-3,E,Vme,{[de]:["InvalidSnsTopic",400],[pe]:fe,[me]:400},[vye,he],[0,0]];ce.TypeRegistry.for(E).registerError(Q4,Eh);var J4=[-3,E,Gme,{[de]:["InvalidTemplate",400],[pe]:fe,[me]:400},[Mt,he],[0,0]];ce.TypeRegistry.for(E).registerError(J4,Rh);var Z4=[-3,E,Wme,{[de]:["InvalidTrackingOptions",400],[pe]:fe,[me]:400},[he],[0]];ce.TypeRegistry.for(E).registerError(Z4,fh);var e3=[3,E,$z,0,[Dz,Cpe],[0,0]],t3=[3,E,kz,0,[ia,Nz,zme],[0,0,0]],r3=[-3,E,she,{[de]:["LimitExceeded",400],[pe]:fe,[me]:400},[he],[0]];ce.TypeRegistry.for(E).registerError(r3,rh);var n3=[3,E,Zme,0,[Xr,r0],[0,1]],s3=[3,E,ehe,0,[Sz,Xr],[()=>pSe,0]],o3=[3,E,rhe,0,[Xr,xhe],[0,1]],i3=[3,E,nhe,0,[Rz,Xr],[()=>mSe,0]],a3=[3,E,lhe,0,[Kme,Xr,r0],[0,0,1]],c3=[3,E,dhe,0,[Nu,Xr],[64,0]],u3=[3,E,che,0,[Yr],[0]],l3=[3,E,uhe,0,[jz],[64]],d3=[3,E,phe,0,[],[]],f3=[3,E,mhe,0,[Kpe],[()=>ySe]],p3=[3,E,ghe,0,[Xr],[0]],m3=[3,E,yhe,0,[lge,Xr],[()=>SSe,0]],h3=[3,E,Ehe,0,[Xr,r0],[0,1]],g3=[3,E,whe,0,[Eye,Xr],[()=>wSe,0]],y3=[3,E,_he,0,[rSe],[64]],S3=[-3,E,The,{[de]:["MailFromDomainNotVerifiedException",400],[pe]:fe,[me]:400},[he],[0]];ce.TypeRegistry.for(E).registerError(S3,vh);var E3=[3,E,t0,0,[mye,pz],[()=>Dh,()=>l2]],w3=[3,E,Mz,0,[Zhe,Ide,Pz],[0,4,()=>BG]],R3=[-3,E,vhe,{[de]:["MessageRejected",400],[pe]:fe,[me]:400},[he],[0]];ce.TypeRegistry.for(E).registerError(R3,Ph);var _3=[3,E,Nhe,0,[lr,r2],[0,0]],b3=[-3,E,Ihe,{[de]:["MissingRenderingAttribute",400],[pe]:fe,[me]:400},[Mt,he],[0,0]];ce.TypeRegistry.for(E).registerError(b3,Nh);var T3=[-3,E,Lhe,{[de]:["ProductionAccessNotGranted",400],[pe]:fe,[me]:400},[he],[0]];ce.TypeRegistry.for(E).registerError(T3,Oh);var C3=[3,E,Hhe,0,[De,ZC],[0,()=>l0]],A3=[3,E,qhe,0,[],[]],x3=[3,E,jhe,0,[Yr,Bz,Vz],[0,0,0]],I3=[3,E,Vhe,0,[],[]],v3=[3,E,Gz,0,[Az],[21]],P3=[3,E,Khe,0,[Yz,mz,o2,kz,Xz,fz,Qz,yz],[()=>L3,()=>d2,()=>HG,()=>t3,()=>mG,()=>c2,()=>fG,()=>b2]],d0=[3,E,Xhe,0,[lr,$me],[0,()=>N3]],N3=[3,E,Jhe,0,[Vz,$fe],[0,0]],Ou=[3,E,nge,0,[lr,Mo,t2,hge,Nde,$ge],[0,2,0,64,()=>gSe,2]],ay=[3,E,uge,0,[lr,Ez],[0,4]],O3=[3,E,zz,0,[Wpe,Ode,tge,a0,tpe,Qme,Pz],[0,0,0,0,0,4,()=>BG]],D3=[3,E,ige,0,[Tr,rge],[0,64]],$3=[3,E,age,0,[],[]],k3=[3,E,Wz,0,[Fge,ege,ohe],[2,2,4]],M3=[-3,E,Yhe,{[de]:["RuleDoesNotExist",400],[pe]:fe,[me]:400},[lr,he],[0,0]];ce.TypeRegistry.for(E).registerError(M3,wh);var F3=[-3,E,dge,{[de]:["RuleSetDoesNotExist",400],[pe]:fe,[me]:400},[lr,he],[0,0]];ce.TypeRegistry.for(E).registerError(F3,nh);var L3=[3,E,Yz,0,[ia,Lde,$he,Xme,Hme],[0,0,0,0,0]],U3=[3,E,_ge,0,[khe,Hde,Bpe,Mz,gz,qde],[0,0,0,()=>w3,()=>uSe,0]],H3=[3,E,bge,0,[oa],[0]],q3=[3,E,Cge,0,[ty,Zg,o0,s0,Jg,De,Ppe,aa,Zz,Ape,xz],[0,0,64,0,0,0,()=>Du,0,0,0,()=>lSe]],B3=[3,E,Age,0,[a0],[()=>dSe]],j3=[3,E,vge,0,[Xg,Mt,De],[0,0,0]],V3=[3,E,Pge,0,[oa],[0]],z3=[3,E,Dge,0,[Iye,Ufe,Vde,kfe,gge],[4,1,1,1,1]],G3=[3,E,kge,0,[ty,Yg,t0,o0,s0,Zg,Jg,u0,De],[0,()=>oy,()=>E3,64,0,0,0,()=>Du,0]],W3=[3,E,Mge,0,[oa],[0]],K3=[3,E,sye,0,[ty,xz,Gz,Vpe,Zg,Jg,u0,De],[0,64,()=>v3,0,0,0,()=>Du,0]],Y3=[3,E,oye,0,[oa],[0]],X3=[3,E,dye,0,[ty,Yg,o0,s0,Zg,Jg,u0,De,aa,Zz,e2],[0,()=>oy,64,0,0,0,()=>Du,0,0,0,0]],Q3=[3,E,fye,0,[oa],[0]],J3=[3,E,Ege,0,[Tr],[0]],Z3=[3,E,wge,0,[],[]],eG=[3,E,Hge,0,[Yr,Tz],[0,2]],tG=[3,E,qge,0,[],[]],rG=[3,E,jge,0,[Yr,Oz],[0,2]],nG=[3,E,Vge,0,[],[]],sG=[3,E,Gge,0,[Yr,qz,Mo],[0,0,2]],oG=[3,E,Wge,0,[],[]],iG=[3,E,Yge,0,[Yr,Fz,hz],[0,0,0]],aG=[3,E,Xge,0,[],[]],cG=[3,E,Jge,0,[Yr,qz,uye],[0,0,0]],uG=[3,E,Zge,0,[],[]],lG=[3,E,aye,0,[Tr,n0,dz],[0,0,0]],dG=[3,E,cye,0,[],[]],fG=[3,E,Qz,0,[ia,qpe],[0,0]],pG=[3,E,Jz,0,[gye],[0]],mG=[3,E,Xz,0,[pye,ia],[0,0]],cy=[3,E,aa,0,[Mt,tye,Tye,xme],[0,0,0,0]],hG=[-3,E,Sye,{[de]:["TemplateDoesNotExist",400],[pe]:fe,[me]:400},[Mt,he],[0,0]];ce.TypeRegistry.for(E).registerError(hG,Ch);var gG=[3,E,Rye,0,[lr,Ez],[0,4]],yG=[3,E,Aye,0,[Mt,e2],[0,0]],SG=[3,E,xye,0,[mge],[0]],uy=[3,E,ry,0,[ife],[0]],EG=[-3,E,_ye,{[de]:["TrackingOptionsAlreadyExistsException",400],[pe]:fe,[me]:400},[De,he],[0,0]];ce.TypeRegistry.for(E).registerError(EG,ph);var wG=[-3,E,bye,{[de]:["TrackingOptionsDoesNotExistException",400],[pe]:fe,[me]:400},[De,he],[0,0]];ce.TypeRegistry.for(E).registerError(wG,Th);var RG=[3,E,Nye,0,[Mo],[2]],_G=[3,E,Dye,0,[De,e0],[0,()=>iy]],bG=[3,E,$ye,0,[],[]],TG=[3,E,Mye,0,[De,Mo],[0,2]],CG=[3,E,Lye,0,[De,Mo],[0,2]],AG=[3,E,Hye,0,[De,ry],[0,()=>uy]],xG=[3,E,qye,0,[],[]],IG=[3,E,jye,0,[Mt,Pu,ny,c0,ey,Qg],[0,0,0,0,0,0]],vG=[3,E,zye,0,[Tr,i0],[0,()=>Ou]],PG=[3,E,Gye,0,[],[]],NG=[3,E,Kye,0,[aa],[()=>cy]],OG=[3,E,Yye,0,[],[]],DG=[3,E,Qye,0,[Iz],[0]],$G=[3,E,Jye,0,[Cz],[64]],kG=[3,E,eSe,0,[Iz],[0]],MG=[3,E,tSe,0,[s2],[0]],FG=[3,E,nSe,0,[Xg],[0]],LG=[3,E,iSe,0,[Xg],[0]],UG=[3,E,aSe,0,[],[]],HG=[3,E,o2,0,[ia,Dhe],[0,0]],dr="unit",qG=[-3,i2,"SESServiceException",0,[],[]];ce.TypeRegistry.for(i2).registerError(qG,ae);var uSe=[1,E,gz,0,()=>f2],lSe=[1,E,kde,0,()=>p2],dSe=[1,E,Fde,0,()=>m2],fSe=[1,E,Ofe,0,()=>E2],pSe=[1,E,Sz,0,()=>sy],mSe=[1,E,Rz,0,()=>H2],hSe=[1,E,vz,0,()=>iy],BG=[1,E,Hpe,0,()=>E4],Du=[1,E,Ohe,0,()=>_3],gSe=[1,E,Whe,0,()=>P3],ySe=[1,E,Qhe,0,()=>d0],SSe=[1,E,cge,0,()=>ay],jG=[1,E,sge,0,()=>Ou],ESe=[1,E,Oge,0,()=>z3],wSe=[1,E,wye,0,()=>gG],RSe=[2,E,bz,0,0,()=>L4],_Se=[2,E,Lz,0,0,()=>U4],bSe=[2,E,Hz,0,0,()=>H4],TSe=[2,E,n2,0,0,()=>q4],VG=[9,E,pfe,0,()=>g2,()=>y2],zG=[9,E,Kde,0,()=>A2,()=>x2],GG=[9,E,Yde,0,()=>T2,()=>C2],WG=[9,E,efe,0,()=>I2,()=>v2],KG=[9,E,nfe,0,()=>P2,()=>dr],YG=[9,E,afe,0,()=>N2,()=>O2],XG=[9,E,lfe,0,()=>D2,()=>$2],QG=[9,E,Sfe,0,()=>k2,()=>M2],JG=[9,E,Afe,0,()=>F2,()=>L2],ZG=[9,E,qfe,0,()=>z2,()=>G2],e6=[9,E,Bfe,0,()=>j2,()=>V2],t6=[9,E,Yfe,0,()=>W2,()=>K2],r6=[9,E,Zfe,0,()=>Y2,()=>dr],n6=[9,E,npe,0,()=>J2,()=>Z2],s6=[9,E,spe,0,()=>X2,()=>Q2],o6=[9,E,lpe,0,()=>e4,()=>t4],i6=[9,E,ppe,0,()=>r4,()=>n4],a6=[9,E,Spe,0,()=>s4,()=>o4],c6=[9,E,Npe,0,()=>i4,()=>a4],u6=[9,E,Ope,0,()=>c4,()=>dr],l6=[9,E,Mfe,0,()=>u4,()=>l4],d6=[9,E,Jfe,0,()=>d4,()=>f4],f6=[9,E,Tpe,0,()=>p4,()=>m4],p6=[9,E,bpe,0,()=>h4,()=>g4],m6=[9,E,Ype,0,()=>dr,()=>R4],h6=[9,E,Qpe,0,()=>_4,()=>b4],g6=[9,E,eme,0,()=>T4,()=>C4],y6=[9,E,nme,0,()=>A4,()=>x4],S6=[9,E,ime,0,()=>I4,()=>v4],E6=[9,E,ume,0,()=>P4,()=>N4],w6=[9,E,fme,0,()=>O4,()=>D4],R6=[9,E,hme,0,()=>dr,()=>$4],_6=[9,E,yme,0,()=>dr,()=>k4],b6=[9,E,Eme,0,()=>M4,()=>F4],T6=[9,E,Jme,0,()=>n3,()=>s3],C6=[9,E,the,0,()=>o3,()=>i3],A6=[9,E,ihe,0,()=>a3,()=>c3],x6=[9,E,ahe,0,()=>u3,()=>l3],I6=[9,E,fhe,0,()=>d3,()=>f3],v6=[9,E,hhe,0,()=>p3,()=>m3],P6=[9,E,She,0,()=>h3,()=>g3],N6=[9,E,Rhe,0,()=>dr,()=>y3],O6=[9,E,Uhe,0,()=>C3,()=>A3],D6=[9,E,Bhe,0,()=>x3,()=>I3],$6=[9,E,oge,0,()=>D3,()=>$3],k6=[9,E,Rge,0,()=>U3,()=>H3],M6=[9,E,Tge,0,()=>q3,()=>B3],F6=[9,E,Ige,0,()=>j3,()=>V3],L6=[9,E,Lge,0,()=>G3,()=>W3],U6=[9,E,nye,0,()=>K3,()=>Y3],H6=[9,E,lye,0,()=>X3,()=>Q3],q6=[9,E,Sge,0,()=>J3,()=>Z3],B6=[9,E,Uge,0,()=>eG,()=>tG],j6=[9,E,Bge,0,()=>rG,()=>nG],V6=[9,E,zge,0,()=>sG,()=>oG],z6=[9,E,Kge,0,()=>iG,()=>aG],G6=[9,E,Qge,0,()=>cG,()=>uG],W6=[9,E,iye,0,()=>lG,()=>dG],K6=[9,E,Cye,0,()=>yG,()=>SG],Y6=[9,E,Pye,0,()=>RG,()=>dr],X6=[9,E,Oye,0,()=>_G,()=>bG],Q6=[9,E,kye,0,()=>TG,()=>dr],J6=[9,E,Fye,0,()=>CG,()=>dr],Z6=[9,E,Uye,0,()=>AG,()=>xG],eW=[9,E,Bye,0,()=>IG,()=>dr],tW=[9,E,Vye,0,()=>vG,()=>PG],rW=[9,E,Wye,0,()=>NG,()=>OG],nW=[9,E,Xye,0,()=>DG,()=>$G],sW=[9,E,Zye,0,()=>kG,()=>MG],oW=[9,E,sSe,0,()=>FG,()=>dr],iW=[9,E,oSe,0,()=>LG,()=>UG],$h=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CloneReceiptRuleSet",{}).n("SESClient","CloneReceiptRuleSetCommand").sc(VG).build(){},kh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSet",{}).n("SESClient","CreateConfigurationSetCommand").sc(zG).build(){},Mh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSetEventDestination",{}).n("SESClient","CreateConfigurationSetEventDestinationCommand").sc(GG).build(){},Fh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSetTrackingOptions",{}).n("SESClient","CreateConfigurationSetTrackingOptionsCommand").sc(WG).build(){},Lh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateCustomVerificationEmailTemplate",{}).n("SESClient","CreateCustomVerificationEmailTemplateCommand").sc(KG).build(){},Uh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptFilter",{}).n("SESClient","CreateReceiptFilterCommand").sc(YG).build(){},Hh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptRule",{}).n("SESClient","CreateReceiptRuleCommand").sc(XG).build(){},qh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptRuleSet",{}).n("SESClient","CreateReceiptRuleSetCommand").sc(QG).build(){},Bh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateTemplate",{}).n("SESClient","CreateTemplateCommand").sc(JG).build(){},jh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSet",{}).n("SESClient","DeleteConfigurationSetCommand").sc(ZG).build(){},Vh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSetEventDestination",{}).n("SESClient","DeleteConfigurationSetEventDestinationCommand").sc(e6).build(){},zh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSetTrackingOptions",{}).n("SESClient","DeleteConfigurationSetTrackingOptionsCommand").sc(t6).build(){},Gh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteCustomVerificationEmailTemplate",{}).n("SESClient","DeleteCustomVerificationEmailTemplateCommand").sc(r6).build(){},Wh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteIdentity",{}).n("SESClient","DeleteIdentityCommand").sc(n6).build(){},Kh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteIdentityPolicy",{}).n("SESClient","DeleteIdentityPolicyCommand").sc(s6).build(){},Yh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptFilter",{}).n("SESClient","DeleteReceiptFilterCommand").sc(o6).build(){},Xh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptRule",{}).n("SESClient","DeleteReceiptRuleCommand").sc(i6).build(){},Qh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptRuleSet",{}).n("SESClient","DeleteReceiptRuleSetCommand").sc(a6).build(){},Jh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteTemplate",{}).n("SESClient","DeleteTemplateCommand").sc(c6).build(){},Zh=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteVerifiedEmailAddress",{}).n("SESClient","DeleteVerifiedEmailAddressCommand").sc(u6).build(){},eg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeActiveReceiptRuleSet",{}).n("SESClient","DescribeActiveReceiptRuleSetCommand").sc(l6).build(){},tg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeConfigurationSet",{}).n("SESClient","DescribeConfigurationSetCommand").sc(d6).build(){},rg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeReceiptRule",{}).n("SESClient","DescribeReceiptRuleCommand").sc(f6).build(){},ng=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeReceiptRuleSet",{}).n("SESClient","DescribeReceiptRuleSetCommand").sc(p6).build(){},sg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetAccountSendingEnabled",{}).n("SESClient","GetAccountSendingEnabledCommand").sc(m6).build(){},og=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetCustomVerificationEmailTemplate",{}).n("SESClient","GetCustomVerificationEmailTemplateCommand").sc(h6).build(){},ig=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityDkimAttributes",{}).n("SESClient","GetIdentityDkimAttributesCommand").sc(g6).build(){},ag=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityMailFromDomainAttributes",{}).n("SESClient","GetIdentityMailFromDomainAttributesCommand").sc(y6).build(){},cg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityNotificationAttributes",{}).n("SESClient","GetIdentityNotificationAttributesCommand").sc(S6).build(){},ug=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityPolicies",{}).n("SESClient","GetIdentityPoliciesCommand").sc(E6).build(){},xu=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityVerificationAttributes",{}).n("SESClient","GetIdentityVerificationAttributesCommand").sc(w6).build(){},lg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetSendQuota",{}).n("SESClient","GetSendQuotaCommand").sc(R6).build(){},dg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetSendStatistics",{}).n("SESClient","GetSendStatisticsCommand").sc(_6).build(){},fg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetTemplate",{}).n("SESClient","GetTemplateCommand").sc(b6).build(){},pg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListConfigurationSets",{}).n("SESClient","ListConfigurationSetsCommand").sc(T6).build(){},Iu=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListCustomVerificationEmailTemplates",{}).n("SESClient","ListCustomVerificationEmailTemplatesCommand").sc(C6).build(){},vu=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListIdentities",{}).n("SESClient","ListIdentitiesCommand").sc(A6).build(){},mg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListIdentityPolicies",{}).n("SESClient","ListIdentityPoliciesCommand").sc(x6).build(){},hg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListReceiptFilters",{}).n("SESClient","ListReceiptFiltersCommand").sc(I6).build(){},gg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListReceiptRuleSets",{}).n("SESClient","ListReceiptRuleSetsCommand").sc(v6).build(){},yg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListTemplates",{}).n("SESClient","ListTemplatesCommand").sc(P6).build(){},Sg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListVerifiedEmailAddresses",{}).n("SESClient","ListVerifiedEmailAddressesCommand").sc(N6).build(){},Eg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","PutConfigurationSetDeliveryOptions",{}).n("SESClient","PutConfigurationSetDeliveryOptionsCommand").sc(O6).build(){},wg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","PutIdentityPolicy",{}).n("SESClient","PutIdentityPolicyCommand").sc(D6).build(){},Rg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ReorderReceiptRuleSet",{}).n("SESClient","ReorderReceiptRuleSetCommand").sc($6).build(){},_g=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendBounce",{}).n("SESClient","SendBounceCommand").sc(k6).build(){},bg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendBulkTemplatedEmail",{}).n("SESClient","SendBulkTemplatedEmailCommand").sc(M6).build(){},Tg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendCustomVerificationEmail",{}).n("SESClient","SendCustomVerificationEmailCommand").sc(F6).build(){},Cg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendEmail",{}).n("SESClient","SendEmailCommand").sc(L6).build(){},Ag=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendRawEmail",{}).n("SESClient","SendRawEmailCommand").sc(U6).build(){},xg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendTemplatedEmail",{}).n("SESClient","SendTemplatedEmailCommand").sc(H6).build(){},Ig=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetActiveReceiptRuleSet",{}).n("SESClient","SetActiveReceiptRuleSetCommand").sc(q6).build(){},vg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityDkimEnabled",{}).n("SESClient","SetIdentityDkimEnabledCommand").sc(B6).build(){},Pg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityFeedbackForwardingEnabled",{}).n("SESClient","SetIdentityFeedbackForwardingEnabledCommand").sc(j6).build(){},Ng=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityHeadersInNotificationsEnabled",{}).n("SESClient","SetIdentityHeadersInNotificationsEnabledCommand").sc(V6).build(){},Og=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityMailFromDomain",{}).n("SESClient","SetIdentityMailFromDomainCommand").sc(z6).build(){},Dg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityNotificationTopic",{}).n("SESClient","SetIdentityNotificationTopicCommand").sc(G6).build(){},$g=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetReceiptRulePosition",{}).n("SESClient","SetReceiptRulePositionCommand").sc(W6).build(){},kg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","TestRenderTemplate",{}).n("SESClient","TestRenderTemplateCommand").sc(K6).build(){},Mg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateAccountSendingEnabled",{}).n("SESClient","UpdateAccountSendingEnabledCommand").sc(Y6).build(){},Fg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetEventDestination",{}).n("SESClient","UpdateConfigurationSetEventDestinationCommand").sc(X6).build(){},Lg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetReputationMetricsEnabled",{}).n("SESClient","UpdateConfigurationSetReputationMetricsEnabledCommand").sc(Q6).build(){},Ug=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetSendingEnabled",{}).n("SESClient","UpdateConfigurationSetSendingEnabledCommand").sc(J6).build(){},Hg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetTrackingOptions",{}).n("SESClient","UpdateConfigurationSetTrackingOptionsCommand").sc(Z6).build(){},qg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateCustomVerificationEmailTemplate",{}).n("SESClient","UpdateCustomVerificationEmailTemplateCommand").sc(eW).build(){},Bg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateReceiptRule",{}).n("SESClient","UpdateReceiptRuleCommand").sc(tW).build(){},jg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateTemplate",{}).n("SESClient","UpdateTemplateCommand").sc(rW).build(){},Vg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyDomainDkim",{}).n("SESClient","VerifyDomainDkimCommand").sc(nW).build(){},zg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyDomainIdentity",{}).n("SESClient","VerifyDomainIdentityCommand").sc(sW).build(){},Gg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyEmailAddress",{}).n("SESClient","VerifyEmailAddressCommand").sc(oW).build(){},Wg=class extends F.Command.classBuilder().ep(B).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyEmailIdentity",{}).n("SESClient","VerifyEmailIdentityCommand").sc(iW).build(){},CSe={CloneReceiptRuleSetCommand:$h,CreateConfigurationSetCommand:kh,CreateConfigurationSetEventDestinationCommand:Mh,CreateConfigurationSetTrackingOptionsCommand:Fh,CreateCustomVerificationEmailTemplateCommand:Lh,CreateReceiptFilterCommand:Uh,CreateReceiptRuleCommand:Hh,CreateReceiptRuleSetCommand:qh,CreateTemplateCommand:Bh,DeleteConfigurationSetCommand:jh,DeleteConfigurationSetEventDestinationCommand:Vh,DeleteConfigurationSetTrackingOptionsCommand:zh,DeleteCustomVerificationEmailTemplateCommand:Gh,DeleteIdentityCommand:Wh,DeleteIdentityPolicyCommand:Kh,DeleteReceiptFilterCommand:Yh,DeleteReceiptRuleCommand:Xh,DeleteReceiptRuleSetCommand:Qh,DeleteTemplateCommand:Jh,DeleteVerifiedEmailAddressCommand:Zh,DescribeActiveReceiptRuleSetCommand:eg,DescribeConfigurationSetCommand:tg,DescribeReceiptRuleCommand:rg,DescribeReceiptRuleSetCommand:ng,GetAccountSendingEnabledCommand:sg,GetCustomVerificationEmailTemplateCommand:og,GetIdentityDkimAttributesCommand:ig,GetIdentityMailFromDomainAttributesCommand:ag,GetIdentityNotificationAttributesCommand:cg,GetIdentityPoliciesCommand:ug,GetIdentityVerificationAttributesCommand:xu,GetSendQuotaCommand:lg,GetSendStatisticsCommand:dg,GetTemplateCommand:fg,ListConfigurationSetsCommand:pg,ListCustomVerificationEmailTemplatesCommand:Iu,ListIdentitiesCommand:vu,ListIdentityPoliciesCommand:mg,ListReceiptFiltersCommand:hg,ListReceiptRuleSetsCommand:gg,ListTemplatesCommand:yg,ListVerifiedEmailAddressesCommand:Sg,PutConfigurationSetDeliveryOptionsCommand:Eg,PutIdentityPolicyCommand:wg,ReorderReceiptRuleSetCommand:Rg,SendBounceCommand:_g,SendBulkTemplatedEmailCommand:bg,SendCustomVerificationEmailCommand:Tg,SendEmailCommand:Cg,SendRawEmailCommand:Ag,SendTemplatedEmailCommand:xg,SetActiveReceiptRuleSetCommand:Ig,SetIdentityDkimEnabledCommand:vg,SetIdentityFeedbackForwardingEnabledCommand:Pg,SetIdentityHeadersInNotificationsEnabledCommand:Ng,SetIdentityMailFromDomainCommand:Og,SetIdentityNotificationTopicCommand:Dg,SetReceiptRulePositionCommand:$g,TestRenderTemplateCommand:kg,UpdateAccountSendingEnabledCommand:Mg,UpdateConfigurationSetEventDestinationCommand:Fg,UpdateConfigurationSetReputationMetricsEnabledCommand:Lg,UpdateConfigurationSetSendingEnabledCommand:Ug,UpdateConfigurationSetTrackingOptionsCommand:Hg,UpdateCustomVerificationEmailTemplateCommand:qg,UpdateReceiptRuleCommand:Bg,UpdateTemplateCommand:jg,VerifyDomainDkimCommand:Vg,VerifyDomainIdentityCommand:zg,VerifyEmailAddressCommand:Gg,VerifyEmailIdentityCommand:Wg},Kg=class extends na{};F.createAggregatedClient(CSe,Kg);var ASe=Cu.createPaginator(na,Iu,"NextToken","NextToken","MaxResults"),xSe=Cu.createPaginator(na,vu,"NextToken","NextToken","MaxItems"),aW=async(e,t)=>{let r;try{let n=await e.send(new xu(t));r=n;try{let s=()=>Object.values(n.VerificationAttributes).map(a=>a.VerificationStatus),o=s().length>0;for(let i of s())o=o&&i=="Success";if(o)return{state:Au.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){r=n}return{state:Au.WaiterState.RETRY,reason:r}},ISe=async(e,t)=>{let r={minDelay:3,maxDelay:120};return Au.createWaiter({...r,...e},t,aW)},vSe=async(e,t)=>{let r={minDelay:3,maxDelay:120},n=await Au.createWaiter({...r,...e},t,aW);return Au.checkExceptions(n)},PSe={RejectMessage:"RejectMessage",UseDefaultValue:"UseDefaultValue"},NSe={ContentRejected:"ContentRejected",DoesNotExist:"DoesNotExist",ExceededQuota:"ExceededQuota",MessageTooLarge:"MessageTooLarge",TemporaryFailure:"TemporaryFailure",Undefined:"Undefined"},OSe={DELAYED:"delayed",DELIVERED:"delivered",EXPANDED:"expanded",FAILED:"failed",RELAYED:"relayed"},DSe={AccountDailyQuotaExceeded:"AccountDailyQuotaExceeded",AccountSendingPaused:"AccountSendingPaused",AccountSuspended:"AccountSuspended",AccountThrottled:"AccountThrottled",ConfigurationSetDoesNotExist:"ConfigurationSetDoesNotExist",ConfigurationSetSendingPaused:"ConfigurationSetSendingPaused",Failed:"Failed",InvalidParameterValue:"InvalidParameterValue",InvalidSendingPoolName:"InvalidSendingPoolName",MailFromDomainNotVerified:"MailFromDomainNotVerified",MessageRejected:"MessageRejected",Success:"Success",TemplateDoesNotExist:"TemplateDoesNotExist",TransientFailure:"TransientFailure"},$Se={EMAIL_HEADER:"emailHeader",LINK_TAG:"linkTag",MESSAGE_TAG:"messageTag"},kSe={DELIVERY_OPTIONS:"deliveryOptions",EVENT_DESTINATIONS:"eventDestinations",REPUTATION_OPTIONS:"reputationOptions",TRACKING_OPTIONS:"trackingOptions"},MSe={BOUNCE:"bounce",CLICK:"click",COMPLAINT:"complaint",DELIVERY:"delivery",OPEN:"open",REJECT:"reject",RENDERING_FAILURE:"renderingFailure",SEND:"send"},FSe={Allow:"Allow",Block:"Block"},LSe={Event:"Event",RequestResponse:"RequestResponse"},USe={Base64:"Base64",UTF8:"UTF-8"},HSe={RULE_SET:"RuleSet"},qSe={Optional:"Optional",Require:"Require"},BSe={Failed:"Failed",Pending:"Pending",Success:"Success",TemporaryFailure:"TemporaryFailure"},jSe={Failed:"Failed",NotStarted:"NotStarted",Pending:"Pending",Success:"Success",TemporaryFailure:"TemporaryFailure"},VSe={Domain:"Domain",EmailAddress:"EmailAddress"},zSe={Bounce:"Bounce",Complaint:"Complaint",Delivery:"Delivery"};Object.defineProperty(y,"$Command",{enumerable:!0,get:function(){return F.Command}});Object.defineProperty(y,"__Client",{enumerable:!0,get:function(){return F.Client}});y.AccountSendingPausedException=Zm;y.AccountSendingPausedException$=a2;y.AddHeaderAction$=c2;y.AlreadyExistsException=eh;y.AlreadyExistsException$=u2;y.BehaviorOnMXFailure=PSe;y.Body$=l2;y.BounceAction$=d2;y.BounceType=NSe;y.BouncedRecipientInfo$=f2;y.BulkEmailDestination$=p2;y.BulkEmailDestinationStatus$=m2;y.BulkEmailStatus=DSe;y.CannotDeleteException=th;y.CannotDeleteException$=h2;y.CloneReceiptRuleSet$=VG;y.CloneReceiptRuleSetCommand=$h;y.CloneReceiptRuleSetRequest$=g2;y.CloneReceiptRuleSetResponse$=y2;y.CloudWatchDestination$=S2;y.CloudWatchDimensionConfiguration$=E2;y.ConfigurationSet$=sy;y.ConfigurationSetAlreadyExistsException=sh;y.ConfigurationSetAlreadyExistsException$=w2;y.ConfigurationSetAttribute=kSe;y.ConfigurationSetDoesNotExistException=oh;y.ConfigurationSetDoesNotExistException$=R2;y.ConfigurationSetSendingPausedException=ih;y.ConfigurationSetSendingPausedException$=_2;y.ConnectAction$=b2;y.Content$=Dh;y.CreateConfigurationSet$=zG;y.CreateConfigurationSetCommand=kh;y.CreateConfigurationSetEventDestination$=GG;y.CreateConfigurationSetEventDestinationCommand=Mh;y.CreateConfigurationSetEventDestinationRequest$=T2;y.CreateConfigurationSetEventDestinationResponse$=C2;y.CreateConfigurationSetRequest$=A2;y.CreateConfigurationSetResponse$=x2;y.CreateConfigurationSetTrackingOptions$=WG;y.CreateConfigurationSetTrackingOptionsCommand=Fh;y.CreateConfigurationSetTrackingOptionsRequest$=I2;y.CreateConfigurationSetTrackingOptionsResponse$=v2;y.CreateCustomVerificationEmailTemplate$=KG;y.CreateCustomVerificationEmailTemplateCommand=Lh;y.CreateCustomVerificationEmailTemplateRequest$=P2;y.CreateReceiptFilter$=YG;y.CreateReceiptFilterCommand=Uh;y.CreateReceiptFilterRequest$=N2;y.CreateReceiptFilterResponse$=O2;y.CreateReceiptRule$=XG;y.CreateReceiptRuleCommand=Hh;y.CreateReceiptRuleRequest$=D2;y.CreateReceiptRuleResponse$=$2;y.CreateReceiptRuleSet$=QG;y.CreateReceiptRuleSetCommand=qh;y.CreateReceiptRuleSetRequest$=k2;y.CreateReceiptRuleSetResponse$=M2;y.CreateTemplate$=JG;y.CreateTemplateCommand=Bh;y.CreateTemplateRequest$=F2;y.CreateTemplateResponse$=L2;y.CustomMailFromStatus=BSe;y.CustomVerificationEmailInvalidContentException=mh;y.CustomVerificationEmailInvalidContentException$=U2;y.CustomVerificationEmailTemplate$=H2;y.CustomVerificationEmailTemplateAlreadyExistsException=hh;y.CustomVerificationEmailTemplateAlreadyExistsException$=q2;y.CustomVerificationEmailTemplateDoesNotExistException=_h;y.CustomVerificationEmailTemplateDoesNotExistException$=B2;y.DeleteConfigurationSet$=ZG;y.DeleteConfigurationSetCommand=jh;y.DeleteConfigurationSetEventDestination$=e6;y.DeleteConfigurationSetEventDestinationCommand=Vh;y.DeleteConfigurationSetEventDestinationRequest$=j2;y.DeleteConfigurationSetEventDestinationResponse$=V2;y.DeleteConfigurationSetRequest$=z2;y.DeleteConfigurationSetResponse$=G2;y.DeleteConfigurationSetTrackingOptions$=t6;y.DeleteConfigurationSetTrackingOptionsCommand=zh;y.DeleteConfigurationSetTrackingOptionsRequest$=W2;y.DeleteConfigurationSetTrackingOptionsResponse$=K2;y.DeleteCustomVerificationEmailTemplate$=r6;y.DeleteCustomVerificationEmailTemplateCommand=Gh;y.DeleteCustomVerificationEmailTemplateRequest$=Y2;y.DeleteIdentity$=n6;y.DeleteIdentityCommand=Wh;y.DeleteIdentityPolicy$=s6;y.DeleteIdentityPolicyCommand=Kh;y.DeleteIdentityPolicyRequest$=X2;y.DeleteIdentityPolicyResponse$=Q2;y.DeleteIdentityRequest$=J2;y.DeleteIdentityResponse$=Z2;y.DeleteReceiptFilter$=o6;y.DeleteReceiptFilterCommand=Yh;y.DeleteReceiptFilterRequest$=e4;y.DeleteReceiptFilterResponse$=t4;y.DeleteReceiptRule$=i6;y.DeleteReceiptRuleCommand=Xh;y.DeleteReceiptRuleRequest$=r4;y.DeleteReceiptRuleResponse$=n4;y.DeleteReceiptRuleSet$=a6;y.DeleteReceiptRuleSetCommand=Qh;y.DeleteReceiptRuleSetRequest$=s4;y.DeleteReceiptRuleSetResponse$=o4;y.DeleteTemplate$=c6;y.DeleteTemplateCommand=Jh;y.DeleteTemplateRequest$=i4;y.DeleteTemplateResponse$=a4;y.DeleteVerifiedEmailAddress$=u6;y.DeleteVerifiedEmailAddressCommand=Zh;y.DeleteVerifiedEmailAddressRequest$=c4;y.DeliveryOptions$=l0;y.DescribeActiveReceiptRuleSet$=l6;y.DescribeActiveReceiptRuleSetCommand=eg;y.DescribeActiveReceiptRuleSetRequest$=u4;y.DescribeActiveReceiptRuleSetResponse$=l4;y.DescribeConfigurationSet$=d6;y.DescribeConfigurationSetCommand=tg;y.DescribeConfigurationSetRequest$=d4;y.DescribeConfigurationSetResponse$=f4;y.DescribeReceiptRule$=f6;y.DescribeReceiptRuleCommand=rg;y.DescribeReceiptRuleRequest$=p4;y.DescribeReceiptRuleResponse$=m4;y.DescribeReceiptRuleSet$=p6;y.DescribeReceiptRuleSetCommand=ng;y.DescribeReceiptRuleSetRequest$=h4;y.DescribeReceiptRuleSetResponse$=g4;y.Destination$=oy;y.DimensionValueSource=$Se;y.DsnAction=OSe;y.EventDestination$=iy;y.EventDestinationAlreadyExistsException=ch;y.EventDestinationAlreadyExistsException$=y4;y.EventDestinationDoesNotExistException=bh;y.EventDestinationDoesNotExistException$=S4;y.EventType=MSe;y.ExtensionField$=E4;y.FromEmailAddressNotVerifiedException=gh;y.FromEmailAddressNotVerifiedException$=w4;y.GetAccountSendingEnabled$=m6;y.GetAccountSendingEnabledCommand=sg;y.GetAccountSendingEnabledResponse$=R4;y.GetCustomVerificationEmailTemplate$=h6;y.GetCustomVerificationEmailTemplateCommand=og;y.GetCustomVerificationEmailTemplateRequest$=_4;y.GetCustomVerificationEmailTemplateResponse$=b4;y.GetIdentityDkimAttributes$=g6;y.GetIdentityDkimAttributesCommand=ig;y.GetIdentityDkimAttributesRequest$=T4;y.GetIdentityDkimAttributesResponse$=C4;y.GetIdentityMailFromDomainAttributes$=y6;y.GetIdentityMailFromDomainAttributesCommand=ag;y.GetIdentityMailFromDomainAttributesRequest$=A4;y.GetIdentityMailFromDomainAttributesResponse$=x4;y.GetIdentityNotificationAttributes$=S6;y.GetIdentityNotificationAttributesCommand=cg;y.GetIdentityNotificationAttributesRequest$=I4;y.GetIdentityNotificationAttributesResponse$=v4;y.GetIdentityPolicies$=E6;y.GetIdentityPoliciesCommand=ug;y.GetIdentityPoliciesRequest$=P4;y.GetIdentityPoliciesResponse$=N4;y.GetIdentityVerificationAttributes$=w6;y.GetIdentityVerificationAttributesCommand=xu;y.GetIdentityVerificationAttributesRequest$=O4;y.GetIdentityVerificationAttributesResponse$=D4;y.GetSendQuota$=R6;y.GetSendQuotaCommand=lg;y.GetSendQuotaResponse$=$4;y.GetSendStatistics$=_6;y.GetSendStatisticsCommand=dg;y.GetSendStatisticsResponse$=k4;y.GetTemplate$=b6;y.GetTemplateCommand=fg;y.GetTemplateRequest$=M4;y.GetTemplateResponse$=F4;y.IdentityDkimAttributes$=L4;y.IdentityMailFromDomainAttributes$=U4;y.IdentityNotificationAttributes$=H4;y.IdentityType=VSe;y.IdentityVerificationAttributes$=q4;y.InvalidCloudWatchDestinationException=uh;y.InvalidCloudWatchDestinationException$=B4;y.InvalidConfigurationSetException=ah;y.InvalidConfigurationSetException$=j4;y.InvalidDeliveryOptionsException=Ah;y.InvalidDeliveryOptionsException$=V4;y.InvalidFirehoseDestinationException=lh;y.InvalidFirehoseDestinationException$=z4;y.InvalidLambdaFunctionException=yh;y.InvalidLambdaFunctionException$=G4;y.InvalidPolicyException=xh;y.InvalidPolicyException$=W4;y.InvalidRenderingParameterException=Ih;y.InvalidRenderingParameterException$=K4;y.InvalidS3ConfigurationException=Sh;y.InvalidS3ConfigurationException$=Y4;y.InvalidSNSDestinationException=dh;y.InvalidSNSDestinationException$=X4;y.InvalidSnsTopicException=Eh;y.InvalidSnsTopicException$=Q4;y.InvalidTemplateException=Rh;y.InvalidTemplateException$=J4;y.InvalidTrackingOptionsException=fh;y.InvalidTrackingOptionsException$=Z4;y.InvocationType=LSe;y.KinesisFirehoseDestination$=e3;y.LambdaAction$=t3;y.LimitExceededException=rh;y.LimitExceededException$=r3;y.ListConfigurationSets$=T6;y.ListConfigurationSetsCommand=pg;y.ListConfigurationSetsRequest$=n3;y.ListConfigurationSetsResponse$=s3;y.ListCustomVerificationEmailTemplates$=C6;y.ListCustomVerificationEmailTemplatesCommand=Iu;y.ListCustomVerificationEmailTemplatesRequest$=o3;y.ListCustomVerificationEmailTemplatesResponse$=i3;y.ListIdentities$=A6;y.ListIdentitiesCommand=vu;y.ListIdentitiesRequest$=a3;y.ListIdentitiesResponse$=c3;y.ListIdentityPolicies$=x6;y.ListIdentityPoliciesCommand=mg;y.ListIdentityPoliciesRequest$=u3;y.ListIdentityPoliciesResponse$=l3;y.ListReceiptFilters$=I6;y.ListReceiptFiltersCommand=hg;y.ListReceiptFiltersRequest$=d3;y.ListReceiptFiltersResponse$=f3;y.ListReceiptRuleSets$=v6;y.ListReceiptRuleSetsCommand=gg;y.ListReceiptRuleSetsRequest$=p3;y.ListReceiptRuleSetsResponse$=m3;y.ListTemplates$=P6;y.ListTemplatesCommand=yg;y.ListTemplatesRequest$=h3;y.ListTemplatesResponse$=g3;y.ListVerifiedEmailAddresses$=N6;y.ListVerifiedEmailAddressesCommand=Sg;y.ListVerifiedEmailAddressesResponse$=y3;y.MailFromDomainNotVerifiedException=vh;y.MailFromDomainNotVerifiedException$=S3;y.Message$=E3;y.MessageDsn$=w3;y.MessageRejected=Ph;y.MessageRejected$=R3;y.MessageTag$=_3;y.MissingRenderingAttributeException=Nh;y.MissingRenderingAttributeException$=b3;y.NotificationType=zSe;y.ProductionAccessNotGrantedException=Oh;y.ProductionAccessNotGrantedException$=T3;y.PutConfigurationSetDeliveryOptions$=O6;y.PutConfigurationSetDeliveryOptionsCommand=Eg;y.PutConfigurationSetDeliveryOptionsRequest$=C3;y.PutConfigurationSetDeliveryOptionsResponse$=A3;y.PutIdentityPolicy$=D6;y.PutIdentityPolicyCommand=wg;y.PutIdentityPolicyRequest$=x3;y.PutIdentityPolicyResponse$=I3;y.RawMessage$=v3;y.ReceiptAction$=P3;y.ReceiptFilter$=d0;y.ReceiptFilterPolicy=FSe;y.ReceiptIpFilter$=N3;y.ReceiptRule$=Ou;y.ReceiptRuleSetMetadata$=ay;y.RecipientDsnFields$=O3;y.ReorderReceiptRuleSet$=$6;y.ReorderReceiptRuleSetCommand=Rg;y.ReorderReceiptRuleSetRequest$=D3;y.ReorderReceiptRuleSetResponse$=$3;y.ReputationOptions$=k3;y.RuleDoesNotExistException=wh;y.RuleDoesNotExistException$=M3;y.RuleSetDoesNotExistException=nh;y.RuleSetDoesNotExistException$=F3;y.S3Action$=L3;y.SES=Kg;y.SESClient=na;y.SESServiceException=ae;y.SESServiceException$=qG;y.SNSAction$=fG;y.SNSActionEncoding=USe;y.SNSDestination$=pG;y.SendBounce$=k6;y.SendBounceCommand=_g;y.SendBounceRequest$=U3;y.SendBounceResponse$=H3;y.SendBulkTemplatedEmail$=M6;y.SendBulkTemplatedEmailCommand=bg;y.SendBulkTemplatedEmailRequest$=q3;y.SendBulkTemplatedEmailResponse$=B3;y.SendCustomVerificationEmail$=F6;y.SendCustomVerificationEmailCommand=Tg;y.SendCustomVerificationEmailRequest$=j3;y.SendCustomVerificationEmailResponse$=V3;y.SendDataPoint$=z3;y.SendEmail$=L6;y.SendEmailCommand=Cg;y.SendEmailRequest$=G3;y.SendEmailResponse$=W3;y.SendRawEmail$=U6;y.SendRawEmailCommand=Ag;y.SendRawEmailRequest$=K3;y.SendRawEmailResponse$=Y3;y.SendTemplatedEmail$=H6;y.SendTemplatedEmailCommand=xg;y.SendTemplatedEmailRequest$=X3;y.SendTemplatedEmailResponse$=Q3;y.SetActiveReceiptRuleSet$=q6;y.SetActiveReceiptRuleSetCommand=Ig;y.SetActiveReceiptRuleSetRequest$=J3;y.SetActiveReceiptRuleSetResponse$=Z3;y.SetIdentityDkimEnabled$=B6;y.SetIdentityDkimEnabledCommand=vg;y.SetIdentityDkimEnabledRequest$=eG;y.SetIdentityDkimEnabledResponse$=tG;y.SetIdentityFeedbackForwardingEnabled$=j6;y.SetIdentityFeedbackForwardingEnabledCommand=Pg;y.SetIdentityFeedbackForwardingEnabledRequest$=rG;y.SetIdentityFeedbackForwardingEnabledResponse$=nG;y.SetIdentityHeadersInNotificationsEnabled$=V6;y.SetIdentityHeadersInNotificationsEnabledCommand=Ng;y.SetIdentityHeadersInNotificationsEnabledRequest$=sG;y.SetIdentityHeadersInNotificationsEnabledResponse$=oG;y.SetIdentityMailFromDomain$=z6;y.SetIdentityMailFromDomainCommand=Og;y.SetIdentityMailFromDomainRequest$=iG;y.SetIdentityMailFromDomainResponse$=aG;y.SetIdentityNotificationTopic$=G6;y.SetIdentityNotificationTopicCommand=Dg;y.SetIdentityNotificationTopicRequest$=cG;y.SetIdentityNotificationTopicResponse$=uG;y.SetReceiptRulePosition$=W6;y.SetReceiptRulePositionCommand=$g;y.SetReceiptRulePositionRequest$=lG;y.SetReceiptRulePositionResponse$=dG;y.StopAction$=mG;y.StopScope=HSe;y.Template$=cy;y.TemplateDoesNotExistException=Ch;y.TemplateDoesNotExistException$=hG;y.TemplateMetadata$=gG;y.TestRenderTemplate$=K6;y.TestRenderTemplateCommand=kg;y.TestRenderTemplateRequest$=yG;y.TestRenderTemplateResponse$=SG;y.TlsPolicy=qSe;y.TrackingOptions$=uy;y.TrackingOptionsAlreadyExistsException=ph;y.TrackingOptionsAlreadyExistsException$=EG;y.TrackingOptionsDoesNotExistException=Th;y.TrackingOptionsDoesNotExistException$=wG;y.UpdateAccountSendingEnabled$=Y6;y.UpdateAccountSendingEnabledCommand=Mg;y.UpdateAccountSendingEnabledRequest$=RG;y.UpdateConfigurationSetEventDestination$=X6;y.UpdateConfigurationSetEventDestinationCommand=Fg;y.UpdateConfigurationSetEventDestinationRequest$=_G;y.UpdateConfigurationSetEventDestinationResponse$=bG;y.UpdateConfigurationSetReputationMetricsEnabled$=Q6;y.UpdateConfigurationSetReputationMetricsEnabledCommand=Lg;y.UpdateConfigurationSetReputationMetricsEnabledRequest$=TG;y.UpdateConfigurationSetSendingEnabled$=J6;y.UpdateConfigurationSetSendingEnabledCommand=Ug;y.UpdateConfigurationSetSendingEnabledRequest$=CG;y.UpdateConfigurationSetTrackingOptions$=Z6;y.UpdateConfigurationSetTrackingOptionsCommand=Hg;y.UpdateConfigurationSetTrackingOptionsRequest$=AG;y.UpdateConfigurationSetTrackingOptionsResponse$=xG;y.UpdateCustomVerificationEmailTemplate$=eW;y.UpdateCustomVerificationEmailTemplateCommand=qg;y.UpdateCustomVerificationEmailTemplateRequest$=IG;y.UpdateReceiptRule$=tW;y.UpdateReceiptRuleCommand=Bg;y.UpdateReceiptRuleRequest$=vG;y.UpdateReceiptRuleResponse$=PG;y.UpdateTemplate$=rW;y.UpdateTemplateCommand=jg;y.UpdateTemplateRequest$=NG;y.UpdateTemplateResponse$=OG;y.VerificationStatus=jSe;y.VerifyDomainDkim$=nW;y.VerifyDomainDkimCommand=Vg;y.VerifyDomainDkimRequest$=DG;y.VerifyDomainDkimResponse$=$G;y.VerifyDomainIdentity$=sW;y.VerifyDomainIdentityCommand=zg;y.VerifyDomainIdentityRequest$=kG;y.VerifyDomainIdentityResponse$=MG;y.VerifyEmailAddress$=oW;y.VerifyEmailAddressCommand=Gg;y.VerifyEmailAddressRequest$=FG;y.VerifyEmailIdentity$=iW;y.VerifyEmailIdentityCommand=Wg;y.VerifyEmailIdentityRequest$=LG;y.VerifyEmailIdentityResponse$=UG;y.WorkmailAction$=HG;y.paginateListCustomVerificationEmailTemplates=ASe;y.paginateListIdentities=xSe;y.waitForIdentityExists=ISe;y.waitUntilIdentityExists=vSe});u();var ly=T(cW(),1),GSe=new ly.SESClient,sze=async e=>{let{recipientEmail:t,link:r,subject:n,messageBody:s}=e.arguments,o="j_scott_vogel@yahoo.com",i=new ly.SendEmailCommand({Source:o,Destination:{ToAddresses:[t]},Message:{Subject:{Data:n,Charset:"UTF-8"},Body:{Text:{Data:`${s}

Link: ${r}`,Charset:"UTF-8"},Html:{Data:`<p>${s}</p><p><a href="${r}">Click here to update</a></p>`,Charset:"UTF-8"}}}});try{return await GSe.send(i),"Email sent successfully"}catch(a){throw console.error("SES Error:",a),new Error("Failed to send email. Ensure the Sender Email is verified in AWS SES.")}};export{sze as handler};
//# sourceMappingURL=index.mjs.map
